{"version":3,"file":"primer_view_components.js","sources":["../../../node_modules/@github/include-fragment-element/dist/include-fragment-element.js","../../../node_modules/@github/include-fragment-element/dist/include-fragment-element-define.js","../../../node_modules/@github/remote-input-element/dist/index.js","../../../node_modules/tslib/tslib.es6.js","../../../node_modules/@github/catalyst/lib/bind.js","../../../node_modules/@github/catalyst/lib/dasherize.js","../../../node_modules/@github/catalyst/lib/attr.js","../../../node_modules/@github/catalyst/lib/core.js","../../../node_modules/@github/catalyst/lib/register.js","../../../node_modules/@github/catalyst/lib/auto-shadow-root.js","../../../node_modules/@github/catalyst/lib/target.js","../../../node_modules/@github/catalyst/lib/findtarget.js","../../../node_modules/@github/catalyst/lib/controller.js","../../../node_modules/@github/catalyst/lib/lazy-define.js","../../components/primer/alpha/action_list.ts","../../../node_modules/@primer/behaviors/dist/esm/anchored-position.mjs","../../../node_modules/@primer/behaviors/dist/esm/utils/iterate-focusable-elements.mjs","../../../node_modules/@primer/behaviors/dist/esm/polyfills/event-listener-signal.mjs","../../../node_modules/@primer/behaviors/dist/esm/focus-trap.mjs","../../../node_modules/@primer/behaviors/dist/esm/utils/user-agent.mjs","../../../node_modules/@primer/behaviors/dist/esm/utils/unique-id.mjs","../../../node_modules/@primer/behaviors/dist/esm/focus-zone.mjs","../../components/primer/alpha/action_bar_element.ts","../../../node_modules/@github/details-menu-element/dist/index.js","../../components/primer/anchored_position.ts","../../components/primer/dialog_helper.ts","../../../node_modules/@oddbird/popover-polyfill/dist/popover.js","../../components/primer/focus_group.ts","../../components/primer/scrollable_region.ts","../../components/primer/aria_live.ts","../../../node_modules/@github/image-crop-element/dist/index.js","../../components/primer/alpha/modal_dialog.ts","../../components/primer/beta/nav_list.ts","../../components/primer/beta/nav_list_group_element.ts","../../components/primer/alpha/segmented_control.ts","../../components/primer/alpha/toggle_switch.ts","../../components/primer/alpha/tool_tip.ts","../../components/primer/alpha/x_banner.ts","../../../node_modules/@github/combobox-nav/dist/index.js","../../../node_modules/@github/auto-complete-element/dist/autocomplete.js","../../../node_modules/@github/auto-complete-element/dist/debounce.js","../../../node_modules/@github/auto-complete-element/dist/auto-complete-element.js","../../../node_modules/@github/auto-complete-element/dist/auto-complete-element-define.js","../../../node_modules/@github/clipboard-copy-element/dist/clipboard.js","../../../node_modules/@github/clipboard-copy-element/dist/clipboard-copy-element.js","../../../node_modules/@github/clipboard-copy-element/dist/clipboard-copy-element-define.js","../../components/primer/beta/clipboard_copy.ts","../../../node_modules/@github/relative-time-element/dist/duration-format-ponyfill.js","../../../node_modules/@github/relative-time-element/dist/duration.js","../../../node_modules/@github/relative-time-element/dist/relative-time-element.js","../../../node_modules/@github/relative-time-element/dist/relative-time-element-define.js","../../../node_modules/@github/tab-container-element/dist/tab-container-element.js","../../../node_modules/@github/tab-container-element/dist/tab-container-element-define.js","../../../lib/primer/forms/primer_multi_input.ts","../../../node_modules/@github/mini-throttle/dist/index.js","../../../node_modules/@github/auto-check-element/dist/auto-check-element.js","../../../node_modules/@github/auto-check-element/dist/auto-check-element-define.js","../../../lib/primer/forms/primer_text_field.ts","../../../lib/primer/forms/toggle_switch_input.ts","../../components/primer/alpha/action_menu/action_menu_element.ts","../../components/primer/alpha/select_panel_element.ts"],"sourcesContent":["var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _IncludeFragmentElement_instances, _IncludeFragmentElement_busy, _IncludeFragmentElement_observer, _IncludeFragmentElement_handleData, _IncludeFragmentElement_getData, _IncludeFragmentElement_getStringOrErrorData, _IncludeFragmentElement_task, _IncludeFragmentElement_fetchDataWithEvents;\nconst privateData = new WeakMap();\nfunction isWildcard(accept) {\n    return accept && !!accept.split(',').find(x => x.match(/^\\s*\\*\\/\\*/));\n}\nlet cspTrustedTypesPolicyPromise = null;\nexport class IncludeFragmentElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        _IncludeFragmentElement_instances.add(this);\n        _IncludeFragmentElement_busy.set(this, false);\n        _IncludeFragmentElement_observer.set(this, new IntersectionObserver(entries => {\n            for (const entry of entries) {\n                if (entry.isIntersecting) {\n                    const { target } = entry;\n                    __classPrivateFieldGet(this, _IncludeFragmentElement_observer, \"f\").unobserve(target);\n                    if (!(target instanceof IncludeFragmentElement))\n                        return;\n                    if (target.loading === 'lazy') {\n                        __classPrivateFieldGet(this, _IncludeFragmentElement_instances, \"m\", _IncludeFragmentElement_handleData).call(this);\n                    }\n                }\n            }\n        }, {\n            rootMargin: '0px 0px 256px 0px',\n            threshold: 0.01,\n        }));\n    }\n    static define(tag = 'include-fragment', registry = customElements) {\n        registry.define(tag, this);\n        return this;\n    }\n    static setCSPTrustedTypesPolicy(policy) {\n        cspTrustedTypesPolicyPromise = policy === null ? policy : Promise.resolve(policy);\n    }\n    static get observedAttributes() {\n        return ['src', 'loading'];\n    }\n    get src() {\n        const src = this.getAttribute('src');\n        if (src) {\n            const link = this.ownerDocument.createElement('a');\n            link.href = src;\n            return link.href;\n        }\n        else {\n            return '';\n        }\n    }\n    set src(val) {\n        this.setAttribute('src', val);\n    }\n    get loading() {\n        if (this.getAttribute('loading') === 'lazy')\n            return 'lazy';\n        return 'eager';\n    }\n    set loading(value) {\n        this.setAttribute('loading', value);\n    }\n    get accept() {\n        return this.getAttribute('accept') || '';\n    }\n    set accept(val) {\n        this.setAttribute('accept', val);\n    }\n    get data() {\n        return __classPrivateFieldGet(this, _IncludeFragmentElement_instances, \"m\", _IncludeFragmentElement_getStringOrErrorData).call(this);\n    }\n    attributeChangedCallback(attribute, oldVal) {\n        if (attribute === 'src') {\n            if (this.isConnected && this.loading === 'eager') {\n                __classPrivateFieldGet(this, _IncludeFragmentElement_instances, \"m\", _IncludeFragmentElement_handleData).call(this);\n            }\n        }\n        else if (attribute === 'loading') {\n            if (this.isConnected && oldVal !== 'eager' && this.loading === 'eager') {\n                __classPrivateFieldGet(this, _IncludeFragmentElement_instances, \"m\", _IncludeFragmentElement_handleData).call(this);\n            }\n        }\n    }\n    connectedCallback() {\n        if (!this.shadowRoot) {\n            this.attachShadow({ mode: 'open' });\n            const style = document.createElement('style');\n            style.textContent = `:host {display: block;}`;\n            this.shadowRoot.append(style, document.createElement('slot'));\n        }\n        if (this.src && this.loading === 'eager') {\n            __classPrivateFieldGet(this, _IncludeFragmentElement_instances, \"m\", _IncludeFragmentElement_handleData).call(this);\n        }\n        if (this.loading === 'lazy') {\n            __classPrivateFieldGet(this, _IncludeFragmentElement_observer, \"f\").observe(this);\n        }\n    }\n    request() {\n        const src = this.src;\n        if (!src) {\n            throw new Error('missing src');\n        }\n        return new Request(src, {\n            method: 'GET',\n            credentials: 'same-origin',\n            headers: {\n                Accept: this.accept || 'text/html',\n            },\n        });\n    }\n    load() {\n        return __classPrivateFieldGet(this, _IncludeFragmentElement_instances, \"m\", _IncludeFragmentElement_getStringOrErrorData).call(this);\n    }\n    fetch(request) {\n        return fetch(request);\n    }\n    refetch() {\n        privateData.delete(this);\n        __classPrivateFieldGet(this, _IncludeFragmentElement_instances, \"m\", _IncludeFragmentElement_handleData).call(this);\n    }\n}\n_IncludeFragmentElement_busy = new WeakMap(), _IncludeFragmentElement_observer = new WeakMap(), _IncludeFragmentElement_instances = new WeakSet(), _IncludeFragmentElement_handleData = async function _IncludeFragmentElement_handleData() {\n    if (__classPrivateFieldGet(this, _IncludeFragmentElement_busy, \"f\"))\n        return;\n    __classPrivateFieldSet(this, _IncludeFragmentElement_busy, true, \"f\");\n    __classPrivateFieldGet(this, _IncludeFragmentElement_observer, \"f\").unobserve(this);\n    try {\n        const data = await __classPrivateFieldGet(this, _IncludeFragmentElement_instances, \"m\", _IncludeFragmentElement_getData).call(this);\n        if (data instanceof Error) {\n            throw data;\n        }\n        const dataTreatedAsString = data;\n        const template = document.createElement('template');\n        template.innerHTML = dataTreatedAsString;\n        const fragment = document.importNode(template.content, true);\n        const canceled = !this.dispatchEvent(new CustomEvent('include-fragment-replace', {\n            cancelable: true,\n            detail: { fragment },\n        }));\n        if (canceled) {\n            __classPrivateFieldSet(this, _IncludeFragmentElement_busy, false, \"f\");\n            return;\n        }\n        this.replaceWith(fragment);\n        this.dispatchEvent(new CustomEvent('include-fragment-replaced'));\n    }\n    catch (_a) {\n        this.classList.add('is-error');\n    }\n    finally {\n        __classPrivateFieldSet(this, _IncludeFragmentElement_busy, false, \"f\");\n    }\n}, _IncludeFragmentElement_getData = async function _IncludeFragmentElement_getData() {\n    const src = this.src;\n    const cachedData = privateData.get(this);\n    if (cachedData && cachedData.src === src) {\n        return cachedData.data;\n    }\n    else {\n        let data;\n        if (src) {\n            data = __classPrivateFieldGet(this, _IncludeFragmentElement_instances, \"m\", _IncludeFragmentElement_fetchDataWithEvents).call(this);\n        }\n        else {\n            data = Promise.reject(new Error('missing src'));\n        }\n        privateData.set(this, { src, data });\n        return data;\n    }\n}, _IncludeFragmentElement_getStringOrErrorData = async function _IncludeFragmentElement_getStringOrErrorData() {\n    const data = await __classPrivateFieldGet(this, _IncludeFragmentElement_instances, \"m\", _IncludeFragmentElement_getData).call(this);\n    if (data instanceof Error) {\n        throw data;\n    }\n    return data.toString();\n}, _IncludeFragmentElement_task = async function _IncludeFragmentElement_task(eventsToDispatch) {\n    await new Promise(resolve => setTimeout(resolve, 0));\n    for (const eventType of eventsToDispatch) {\n        this.dispatchEvent(new Event(eventType));\n    }\n}, _IncludeFragmentElement_fetchDataWithEvents = async function _IncludeFragmentElement_fetchDataWithEvents() {\n    try {\n        await __classPrivateFieldGet(this, _IncludeFragmentElement_instances, \"m\", _IncludeFragmentElement_task).call(this, ['loadstart']);\n        const response = await this.fetch(this.request());\n        if (response.status !== 200) {\n            throw new Error(`Failed to load resource: the server responded with a status of ${response.status}`);\n        }\n        const ct = response.headers.get('Content-Type');\n        if (!isWildcard(this.accept) && (!ct || !ct.includes(this.accept ? this.accept : 'text/html'))) {\n            throw new Error(`Failed to load resource: expected ${this.accept || 'text/html'} but was ${ct}`);\n        }\n        const responseText = await response.text();\n        let data = responseText;\n        if (cspTrustedTypesPolicyPromise) {\n            const cspTrustedTypesPolicy = await cspTrustedTypesPolicyPromise;\n            data = cspTrustedTypesPolicy.createHTML(responseText, response);\n        }\n        __classPrivateFieldGet(this, _IncludeFragmentElement_instances, \"m\", _IncludeFragmentElement_task).call(this, ['load', 'loadend']);\n        return data;\n    }\n    catch (error) {\n        __classPrivateFieldGet(this, _IncludeFragmentElement_instances, \"m\", _IncludeFragmentElement_task).call(this, ['error', 'loadend']);\n        throw error;\n    }\n};\n","import { IncludeFragmentElement } from './include-fragment-element.js';\nconst root = (typeof globalThis !== 'undefined' ? globalThis : window);\ntry {\n    root.IncludeFragmentElement = IncludeFragmentElement.define();\n}\ncatch (e) {\n    if (!(root.DOMException && e instanceof DOMException && e.name === 'NotSupportedError') &&\n        !(e instanceof ReferenceError)) {\n        throw e;\n    }\n}\nexport default IncludeFragmentElement;\nexport * from './include-fragment-element.js';\n","const states = new WeakMap();\nclass RemoteInputElement extends HTMLElement {\n    constructor() {\n        super();\n        const fetch = fetchResults.bind(null, this, true);\n        const state = { currentQuery: null, oninput: debounce((e) => fetch(e)), fetch, controller: null };\n        states.set(this, state);\n    }\n    static get observedAttributes() {\n        return ['src'];\n    }\n    attributeChangedCallback(name, oldValue) {\n        if (oldValue && name === 'src') {\n            fetchResults(this, false);\n        }\n    }\n    connectedCallback() {\n        const input = this.input;\n        if (!input)\n            return;\n        input.setAttribute('autocomplete', 'off');\n        input.setAttribute('spellcheck', 'false');\n        const state = states.get(this);\n        if (!state)\n            return;\n        input.addEventListener('focus', state.fetch);\n        input.addEventListener('change', state.fetch);\n        input.addEventListener('input', state.oninput);\n    }\n    disconnectedCallback() {\n        const input = this.input;\n        if (!input)\n            return;\n        const state = states.get(this);\n        if (!state)\n            return;\n        input.removeEventListener('focus', state.fetch);\n        input.removeEventListener('change', state.fetch);\n        input.removeEventListener('input', state.oninput);\n    }\n    get input() {\n        const input = this.querySelector('input, textarea');\n        return input instanceof HTMLInputElement || input instanceof HTMLTextAreaElement ? input : null;\n    }\n    get src() {\n        return this.getAttribute('src') || '';\n    }\n    set src(url) {\n        this.setAttribute('src', url);\n    }\n}\nfunction makeAbortController() {\n    if ('AbortController' in window) {\n        return new AbortController();\n    }\n    return { signal: null, abort() { } };\n}\nasync function fetchResults(remoteInput, checkCurrentQuery, event) {\n    const input = remoteInput.input;\n    if (!input)\n        return;\n    const state = states.get(remoteInput);\n    if (!state)\n        return;\n    const query = input.value;\n    if (checkCurrentQuery && state.currentQuery === query)\n        return;\n    state.currentQuery = query;\n    const src = remoteInput.src;\n    if (!src)\n        return;\n    const resultsContainer = document.getElementById(remoteInput.getAttribute('aria-owns') || '');\n    if (!resultsContainer)\n        return;\n    const url = new URL(src, window.location.href);\n    const params = new URLSearchParams(url.search);\n    params.append(remoteInput.getAttribute('param') || 'q', query);\n    url.search = params.toString();\n    if (state.controller) {\n        state.controller.abort();\n    }\n    else {\n        remoteInput.dispatchEvent(new CustomEvent('loadstart'));\n        remoteInput.setAttribute('loading', '');\n    }\n    state.controller = makeAbortController();\n    let response;\n    let html = '';\n    try {\n        response = await fetchWithNetworkEvents(remoteInput, url.toString(), {\n            signal: state.controller.signal,\n            credentials: 'same-origin',\n            headers: { accept: 'text/fragment+html' }\n        });\n        html = await response.text();\n        remoteInput.removeAttribute('loading');\n        state.controller = null;\n    }\n    catch (error) {\n        if (error instanceof Error && error.name !== 'AbortError') {\n            remoteInput.removeAttribute('loading');\n            state.controller = null;\n        }\n        return;\n    }\n    if (response && response.ok) {\n        resultsContainer.innerHTML = html;\n        remoteInput.dispatchEvent(new CustomEvent('remote-input-success', { bubbles: true, detail: { \"eventType\": event ? event.type : undefined } }));\n    }\n    else {\n        remoteInput.dispatchEvent(new CustomEvent('remote-input-error', { bubbles: true }));\n    }\n}\nasync function fetchWithNetworkEvents(el, url, options) {\n    try {\n        const response = await fetch(url, options);\n        el.dispatchEvent(new CustomEvent('load'));\n        el.dispatchEvent(new CustomEvent('loadend'));\n        return response;\n    }\n    catch (error) {\n        if (error instanceof Error && (error === null || error === void 0 ? void 0 : error.name) !== 'AbortError') {\n            el.dispatchEvent(new CustomEvent('error'));\n            el.dispatchEvent(new CustomEvent('loadend'));\n        }\n        throw error;\n    }\n}\nfunction debounce(callback) {\n    let timeout;\n    return function (args) {\n        clearTimeout(timeout);\n        timeout = setTimeout(() => {\n            clearTimeout(timeout);\n            callback(args);\n        }, 300);\n    };\n}\nexport default RemoteInputElement;\nif (!window.customElements.get('remote-input')) {\n    window.RemoteInputElement = RemoteInputElement;\n    window.customElements.define('remote-input', RemoteInputElement);\n}\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n","const controllers = new WeakSet();\n/*\n * Bind `[data-action]` elements from the DOM to their actions.\n *\n */\nexport function bind(controller) {\n    controllers.add(controller);\n    if (controller.shadowRoot)\n        bindShadow(controller.shadowRoot);\n    bindElements(controller);\n    listenForBind(controller.ownerDocument);\n}\nexport function bindShadow(root) {\n    bindElements(root);\n    listenForBind(root);\n}\nconst observers = new WeakMap();\n/**\n * Set up observer that will make sure any actions that are dynamically\n * injected into `el` will be bound to it's controller.\n *\n * This returns a Subscription object which you can call `unsubscribe()` on to\n * stop further live updates.\n */\nexport function listenForBind(el = document) {\n    if (observers.has(el))\n        return observers.get(el);\n    let closed = false;\n    const observer = new MutationObserver(mutations => {\n        for (const mutation of mutations) {\n            if (mutation.type === 'attributes' && mutation.target instanceof Element) {\n                bindActions(mutation.target);\n            }\n            else if (mutation.type === 'childList' && mutation.addedNodes.length) {\n                for (const node of mutation.addedNodes) {\n                    if (node instanceof Element) {\n                        bindElements(node);\n                    }\n                }\n            }\n        }\n    });\n    observer.observe(el, { childList: true, subtree: true, attributeFilter: ['data-action'] });\n    const subscription = {\n        get closed() {\n            return closed;\n        },\n        unsubscribe() {\n            closed = true;\n            observers.delete(el);\n            observer.disconnect();\n        }\n    };\n    observers.set(el, subscription);\n    return subscription;\n}\nfunction bindElements(root) {\n    for (const el of root.querySelectorAll('[data-action]')) {\n        bindActions(el);\n    }\n    // Also bind the controller to itself\n    if (root instanceof Element && root.hasAttribute('data-action')) {\n        bindActions(root);\n    }\n}\n// Bind a single function to all events to avoid anonymous closure performance penalty.\nfunction handleEvent(event) {\n    const el = event.currentTarget;\n    for (const binding of bindings(el)) {\n        if (event.type === binding.type) {\n            const controller = el.closest(binding.tag);\n            if (controllers.has(controller) && typeof controller[binding.method] === 'function') {\n                controller[binding.method](event);\n            }\n            const root = el.getRootNode();\n            if (root instanceof ShadowRoot && controllers.has(root.host) && root.host.matches(binding.tag)) {\n                const shadowController = root.host;\n                if (typeof shadowController[binding.method] === 'function') {\n                    shadowController[binding.method](event);\n                }\n            }\n        }\n    }\n}\nfunction* bindings(el) {\n    for (const action of (el.getAttribute('data-action') || '').trim().split(/\\s+/)) {\n        const eventSep = action.lastIndexOf(':');\n        const methodSep = Math.max(0, action.lastIndexOf('#')) || action.length;\n        yield {\n            type: action.slice(0, eventSep),\n            tag: action.slice(eventSep + 1, methodSep),\n            method: action.slice(methodSep + 1) || 'handleEvent'\n        } || 'handleEvent';\n    }\n}\nfunction bindActions(el) {\n    for (const binding of bindings(el)) {\n        el.addEventListener(binding.type, handleEvent);\n    }\n}\n//# sourceMappingURL=bind.js.map","export const dasherize = (str) => String(typeof str === 'symbol' ? str.description : str)\n    .replace(/([A-Z]($|[a-z]))/g, '-$1')\n    .replace(/--/g, '-')\n    .replace(/^-|-$/, '')\n    .toLowerCase();\nexport const mustDasherize = (str, type = 'property') => {\n    const dashed = dasherize(str);\n    if (!dashed.includes('-')) {\n        throw new DOMException(`${type}: ${String(str)} is not a valid ${type} name`, 'SyntaxError');\n    }\n    return dashed;\n};\n//# sourceMappingURL=dasherize.js.map","import { mustDasherize } from './dasherize.js';\nimport { meta } from './core.js';\nconst attrKey = 'attr';\n/**\n * Attr is a decorator which tags a property as one to be initialized via\n * `initializeAttrs`.\n *\n * The signature is typed such that the property must be one of a String,\n * Number or Boolean. This matches the behavior of `initializeAttrs`.\n */\nexport function attr(proto, key) {\n    meta(proto, attrKey).add(key);\n}\n/**\n * initializeAttrs is called with a set of class property names (if omitted, it\n * will look for any properties tagged with the `@attr` decorator). With this\n * list it defines property descriptors for each property that map to `data-*`\n * attributes on the HTMLElement instance.\n *\n * It works around Native Class Property semantics - which are equivalent to\n * calling `Object.defineProperty` on the instance upon creation, but before\n * `constructor()` is called.\n *\n * If a class property is assigned to the class body, it will infer the type\n * (using `typeof`) and define an appropriate getter/setter combo that aligns\n * to that type. This means class properties assigned to Numbers can only ever\n * be Numbers, assigned to Booleans can only ever be Booleans, and assigned to\n * Strings can only ever be Strings.\n *\n * This is automatically called as part of `@controller`. If a class uses the\n * `@controller` decorator it should not call this manually.\n */\nconst initialized = new WeakSet();\nexport function initializeAttrs(instance, names) {\n    if (initialized.has(instance))\n        return;\n    initialized.add(instance);\n    const proto = Object.getPrototypeOf(instance);\n    const prefix = proto?.constructor?.attrPrefix ?? 'data-';\n    if (!names)\n        names = meta(proto, attrKey);\n    for (const key of names) {\n        const value = instance[key];\n        const name = mustDasherize(`${prefix}${key}`);\n        let descriptor = {\n            configurable: true,\n            get() {\n                return this.getAttribute(name) || '';\n            },\n            set(newValue) {\n                this.setAttribute(name, newValue || '');\n            }\n        };\n        if (typeof value === 'number') {\n            descriptor = {\n                configurable: true,\n                get() {\n                    return Number(this.getAttribute(name) || 0);\n                },\n                set(newValue) {\n                    this.setAttribute(name, newValue);\n                }\n            };\n        }\n        else if (typeof value === 'boolean') {\n            descriptor = {\n                configurable: true,\n                get() {\n                    return this.hasAttribute(name);\n                },\n                set(newValue) {\n                    this.toggleAttribute(name, newValue);\n                }\n            };\n        }\n        Object.defineProperty(instance, key, descriptor);\n        if (key in instance && !instance.hasAttribute(name)) {\n            descriptor.set.call(instance, value);\n        }\n    }\n}\nexport function defineObservedAttributes(classObject) {\n    let observed = classObject.observedAttributes || [];\n    const prefix = classObject.attrPrefix ?? 'data-';\n    const attrToAttributeName = (name) => mustDasherize(`${prefix}${name}`);\n    Object.defineProperty(classObject, 'observedAttributes', {\n        configurable: true,\n        get() {\n            return [...meta(classObject.prototype, attrKey)].map(attrToAttributeName).concat(observed);\n        },\n        set(attributes) {\n            observed = attributes;\n        }\n    });\n}\n//# sourceMappingURL=attr.js.map","import { register } from './register.js';\nimport { bind, bindShadow } from './bind.js';\nimport { autoShadowRoot } from './auto-shadow-root.js';\nimport { defineObservedAttributes, initializeAttrs } from './attr.js';\nconst symbol = Symbol.for('catalyst');\nexport class CatalystDelegate {\n    constructor(classObject) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const delegate = this;\n        const connectedCallback = classObject.prototype.connectedCallback;\n        classObject.prototype.connectedCallback = function () {\n            delegate.connectedCallback(this, connectedCallback);\n        };\n        const disconnectedCallback = classObject.prototype.disconnectedCallback;\n        classObject.prototype.disconnectedCallback = function () {\n            delegate.disconnectedCallback(this, disconnectedCallback);\n        };\n        const attributeChangedCallback = classObject.prototype.attributeChangedCallback;\n        classObject.prototype.attributeChangedCallback = function (name, oldValue, newValue) {\n            delegate.attributeChangedCallback(this, name, oldValue, newValue, attributeChangedCallback);\n        };\n        let observedAttributes = classObject.observedAttributes || [];\n        Object.defineProperty(classObject, 'observedAttributes', {\n            configurable: true,\n            get() {\n                return delegate.observedAttributes(this, observedAttributes);\n            },\n            set(attributes) {\n                observedAttributes = attributes;\n            }\n        });\n        defineObservedAttributes(classObject);\n        register(classObject);\n    }\n    observedAttributes(instance, observedAttributes) {\n        return observedAttributes;\n    }\n    connectedCallback(instance, connectedCallback) {\n        instance.toggleAttribute('data-catalyst', true);\n        customElements.upgrade(instance);\n        autoShadowRoot(instance);\n        initializeAttrs(instance);\n        bind(instance);\n        connectedCallback?.call(instance);\n        if (instance.shadowRoot)\n            bindShadow(instance.shadowRoot);\n    }\n    disconnectedCallback(element, disconnectedCallback) {\n        disconnectedCallback?.call(element);\n    }\n    attributeChangedCallback(instance, name, oldValue, newValue, attributeChangedCallback) {\n        initializeAttrs(instance);\n        if (name !== 'data-catalyst' && attributeChangedCallback) {\n            attributeChangedCallback.call(instance, name, oldValue, newValue);\n        }\n    }\n}\nexport function meta(proto, name) {\n    if (!Object.prototype.hasOwnProperty.call(proto, symbol)) {\n        const parent = proto[symbol];\n        const map = (proto[symbol] = new Map());\n        if (parent) {\n            for (const [key, value] of parent) {\n                map.set(key, new Set(value));\n            }\n        }\n    }\n    const map = proto[symbol];\n    if (!map.has(name))\n        map.set(name, new Set());\n    return map.get(name);\n}\n//# sourceMappingURL=core.js.map","import { dasherize } from './dasherize.js';\n/**\n * Register the controller as a custom element.\n *\n * The classname is converted to a approriate tag name.\n *\n * Example: HelloController => hello-controller\n */\nexport function register(classObject) {\n    const name = dasherize(classObject.name).replace(/-element$/, '');\n    try {\n        window.customElements.define(name, classObject);\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        window[classObject.name] = customElements.get(name);\n    }\n    catch (e) {\n        // The only reason for window.customElements.define to throw a `NotSupportedError`\n        // is if the element has already been defined.\n        if (!(e instanceof DOMException && e.name === 'NotSupportedError'))\n            throw e;\n    }\n    return classObject;\n}\n//# sourceMappingURL=register.js.map","export function autoShadowRoot(element) {\n    for (const template of element.querySelectorAll('template[data-shadowroot]')) {\n        if (template.parentElement === element) {\n            element\n                .attachShadow({\n                mode: template.getAttribute('data-shadowroot') === 'closed' ? 'closed' : 'open'\n            })\n                .append(template.content.cloneNode(true));\n        }\n    }\n}\n//# sourceMappingURL=auto-shadow-root.js.map","import { findTarget, findTargets } from './findtarget.js';\nimport { meta } from './core.js';\n/**\n * Target is a decorator which - when assigned to a property field on the\n * class - will override that class field, turning it into a Getter which\n * returns a call to `findTarget(this, key)` where `key` is the name of the\n * property field. In other words, `@target foo` becomes a getter for\n * `findTarget(this, 'foo')`.\n */\nexport function target(proto, key) {\n    meta(proto, 'target').add(key);\n    Object.defineProperty(proto, key, {\n        configurable: true,\n        get() {\n            return findTarget(this, key);\n        }\n    });\n}\n/**\n * Targets is a decorator which - when assigned to a property field on the\n * class - will override that class field, turning it into a Getter which\n * returns a call to `findTargets(this, key)` where `key` is the name of the\n * property field. In other words, `@targets foo` becomes a getter for\n * `findTargets(this, 'foo')`.\n */\nexport function targets(proto, key) {\n    meta(proto, 'targets').add(key);\n    Object.defineProperty(proto, key, {\n        configurable: true,\n        get() {\n            return findTargets(this, key);\n        }\n    });\n}\n//# sourceMappingURL=target.js.map","/**\n * findTarget will run `querySelectorAll` against the given controller, plus\n * its shadowRoot, returning any the first child that:\n *\n *  - Matches the selector of `[data-target~=\"tag.name\"]` where tag is the\n *  tagName of the given HTMLElement, and `name` is the given `name` argument.\n *\n *  - Closest ascendant of the element, that matches the tagname of the\n *  controller, is the specific instance of the controller itself - in other\n *  words it is not nested in other controllers of the same type.\n *\n */\nexport function findTarget(controller, name) {\n    const tag = controller.tagName.toLowerCase();\n    if (controller.shadowRoot) {\n        for (const el of controller.shadowRoot.querySelectorAll(`[data-target~=\"${tag}.${name}\"]`)) {\n            if (!el.closest(tag))\n                return el;\n        }\n    }\n    for (const el of controller.querySelectorAll(`[data-target~=\"${tag}.${name}\"]`)) {\n        if (el.closest(tag) === controller)\n            return el;\n    }\n}\nexport function findTargets(controller, name) {\n    const tag = controller.tagName.toLowerCase();\n    const targets = [];\n    if (controller.shadowRoot) {\n        for (const el of controller.shadowRoot.querySelectorAll(`[data-targets~=\"${tag}.${name}\"]`)) {\n            if (!el.closest(tag))\n                targets.push(el);\n        }\n    }\n    for (const el of controller.querySelectorAll(`[data-targets~=\"${tag}.${name}\"]`)) {\n        if (el.closest(tag) === controller)\n            targets.push(el);\n    }\n    return targets;\n}\n//# sourceMappingURL=findtarget.js.map","import { CatalystDelegate } from './core.js';\n/**\n * Controller is a decorator to be used over a class that extends HTMLElement.\n * It will automatically `register()` the component in the customElement\n * registry, as well as ensuring `bind(this)` is called on `connectedCallback`,\n * wrapping the classes `connectedCallback` method if needed.\n */\nexport function controller(classObject) {\n    new CatalystDelegate(classObject);\n}\n//# sourceMappingURL=controller.js.map","const dynamicElements = new Map();\nconst ready = new Promise(resolve => {\n    if (document.readyState !== 'loading') {\n        resolve();\n    }\n    else {\n        document.addEventListener('readystatechange', () => resolve(), { once: true });\n    }\n});\nconst firstInteraction = new Promise(resolve => {\n    const controller = new AbortController();\n    controller.signal.addEventListener('abort', () => resolve());\n    const listenerOptions = { once: true, passive: true, signal: controller.signal };\n    const handler = () => controller.abort();\n    document.addEventListener('mousedown', handler, listenerOptions);\n    // eslint-disable-next-line github/require-passive-events\n    document.addEventListener('touchstart', handler, listenerOptions);\n    document.addEventListener('keydown', handler, listenerOptions);\n    document.addEventListener('pointerdown', handler, listenerOptions);\n});\nconst visible = (tagName) => new Promise(resolve => {\n    const observer = new IntersectionObserver(entries => {\n        for (const entry of entries) {\n            if (entry.isIntersecting) {\n                resolve();\n                observer.disconnect();\n                return;\n            }\n        }\n    }, {\n        // Currently the threshold is set to 256px from the bottom of the viewport\n        // with a threshold of 0.1. This means the element will not load until about\n        // 2 keyboard-down-arrow presses away from being visible in the viewport,\n        // giving us some time to fetch it before the contents are made visible\n        rootMargin: '0px 0px 256px 0px',\n        threshold: 0.01\n    });\n    for (const el of document.querySelectorAll(tagName)) {\n        observer.observe(el);\n    }\n});\nconst strategies = {\n    ready: () => ready,\n    firstInteraction: () => firstInteraction,\n    visible\n};\nconst timers = new WeakMap();\nfunction scan(node) {\n    cancelAnimationFrame(timers.get(node) || 0);\n    timers.set(node, requestAnimationFrame(() => {\n        for (const tagName of dynamicElements.keys()) {\n            const child = node.matches(tagName) ? node : node.querySelector(tagName);\n            if (customElements.get(tagName) || child) {\n                const strategyName = (child?.getAttribute('data-load-on') || 'ready');\n                const strategy = strategyName in strategies ? strategies[strategyName] : strategies.ready;\n                // eslint-disable-next-line github/no-then\n                for (const cb of dynamicElements.get(tagName) || [])\n                    strategy(tagName).then(cb);\n                dynamicElements.delete(tagName);\n                timers.delete(node);\n            }\n        }\n    }));\n}\nlet elementLoader;\nexport function lazyDefine(tagName, callback) {\n    if (!dynamicElements.has(tagName))\n        dynamicElements.set(tagName, new Set());\n    dynamicElements.get(tagName).add(callback);\n    scan(document.body);\n    if (!elementLoader) {\n        elementLoader = new MutationObserver(mutations => {\n            if (!dynamicElements.size)\n                return;\n            for (const mutation of mutations) {\n                for (const node of mutation.addedNodes) {\n                    if (node instanceof Element)\n                        scan(node);\n                }\n            }\n        });\n        elementLoader.observe(document, { subtree: true, childList: true });\n    }\n}\n//# sourceMappingURL=lazy-define.js.map","import {controller} from '@github/catalyst'\n\n// eslint-disable-next-line custom-elements/no-exports-with-element\nexport class ActionListTruncationObserver {\n  resizeObserver = new ResizeObserver(entries => {\n    for (const entry of entries) {\n      const action = entry.target\n\n      if (action instanceof HTMLElement) {\n        this.update(action)\n      }\n    }\n  })\n\n  constructor(el: HTMLElement) {\n    this.resizeObserver.observe(el)\n  }\n\n  unobserve(el: HTMLElement) {\n    this.resizeObserver.unobserve(el)\n  }\n\n  update(el: HTMLElement) {\n    const items = el.querySelectorAll('li')\n\n    for (const item of items) {\n      const label = item.querySelector('.ActionListItem-label') as HTMLElement\n      if (!label) continue\n      const tooltip = item.querySelector('.ActionListItem-truncationTooltip') as HTMLElement\n      if (!tooltip) continue\n\n      const isTruncated = label.scrollWidth > label.clientWidth\n\n      if (isTruncated) {\n        tooltip.style.display = ''\n      } else {\n        tooltip.style.display = 'none'\n      }\n    }\n  }\n}\n\n@controller\n// eslint-disable-next-line custom-elements/expose-class-on-global\nexport class ActionListElement extends HTMLElement {\n  #truncationObserver: ActionListTruncationObserver\n\n  connectedCallback() {\n    this.#truncationObserver = new ActionListTruncationObserver(this)\n  }\n\n  disconnectedCallback() {\n    this.#truncationObserver.unobserve(this)\n  }\n}\n\ndeclare global {\n  interface Window {\n    ActionListElement: typeof ActionListElement\n  }\n}\n","const alternateOrders = {\n    'outside-top': ['outside-bottom', 'outside-right', 'outside-left', 'outside-bottom'],\n    'outside-bottom': ['outside-top', 'outside-right', 'outside-left', 'outside-bottom'],\n    'outside-left': ['outside-right', 'outside-bottom', 'outside-top', 'outside-bottom'],\n    'outside-right': ['outside-left', 'outside-bottom', 'outside-top', 'outside-bottom'],\n};\nconst alternateAlignments = {\n    start: ['end', 'center'],\n    end: ['start', 'center'],\n    center: ['end', 'start'],\n};\nfunction getAnchoredPosition(floatingElement, anchorElement, settings = {}) {\n    const parentElement = getPositionedParent(floatingElement);\n    const clippingRect = getClippingRect(parentElement);\n    const parentElementStyle = getComputedStyle(parentElement);\n    const parentElementRect = parentElement.getBoundingClientRect();\n    const [borderTop, borderLeft] = [parentElementStyle.borderTopWidth, parentElementStyle.borderLeftWidth].map(v => parseInt(v, 10) || 0);\n    const relativeRect = {\n        top: parentElementRect.top + borderTop,\n        left: parentElementRect.left + borderLeft,\n    };\n    return pureCalculateAnchoredPosition(clippingRect, relativeRect, floatingElement.getBoundingClientRect(), anchorElement instanceof Element ? anchorElement.getBoundingClientRect() : anchorElement, getDefaultSettings(settings));\n}\nfunction getPositionedParent(element) {\n    if (isOnTopLayer(element))\n        return document.body;\n    let parentNode = element.parentNode;\n    while (parentNode !== null) {\n        if (parentNode instanceof HTMLElement && getComputedStyle(parentNode).position !== 'static') {\n            return parentNode;\n        }\n        parentNode = parentNode.parentNode;\n    }\n    return document.body;\n}\nfunction isOnTopLayer(element) {\n    var _a;\n    if (element.tagName === 'DIALOG') {\n        return true;\n    }\n    try {\n        if (element.matches(':popover-open') && /native code/.test((_a = document.body.showPopover) === null || _a === void 0 ? void 0 : _a.toString())) {\n            return true;\n        }\n    }\n    catch (_b) {\n        return false;\n    }\n    return false;\n}\nfunction getClippingRect(element) {\n    let parentNode = element;\n    while (parentNode !== null) {\n        if (!(parentNode instanceof Element)) {\n            break;\n        }\n        const parentNodeStyle = getComputedStyle(parentNode);\n        if (parentNodeStyle.overflow !== 'visible') {\n            break;\n        }\n        parentNode = parentNode.parentNode;\n    }\n    const clippingNode = parentNode === document.body || !(parentNode instanceof HTMLElement) ? document.body : parentNode;\n    const elemRect = clippingNode.getBoundingClientRect();\n    const elemStyle = getComputedStyle(clippingNode);\n    const [borderTop, borderLeft, borderRight, borderBottom] = [\n        elemStyle.borderTopWidth,\n        elemStyle.borderLeftWidth,\n        elemStyle.borderRightWidth,\n        elemStyle.borderBottomWidth,\n    ].map(v => parseInt(v, 10) || 0);\n    return {\n        top: elemRect.top + borderTop,\n        left: elemRect.left + borderLeft,\n        width: elemRect.width - borderRight - borderLeft,\n        height: Math.max(elemRect.height - borderTop - borderBottom, clippingNode === document.body ? window.innerHeight : -Infinity),\n    };\n}\nconst positionDefaults = {\n    side: 'outside-bottom',\n    align: 'start',\n    anchorOffset: 4,\n    alignmentOffset: 4,\n    allowOutOfBounds: false,\n};\nfunction getDefaultSettings(settings = {}) {\n    var _a, _b, _c, _d, _e;\n    const side = (_a = settings.side) !== null && _a !== void 0 ? _a : positionDefaults.side;\n    const align = (_b = settings.align) !== null && _b !== void 0 ? _b : positionDefaults.align;\n    return {\n        side,\n        align,\n        anchorOffset: (_c = settings.anchorOffset) !== null && _c !== void 0 ? _c : (side === 'inside-center' ? 0 : positionDefaults.anchorOffset),\n        alignmentOffset: (_d = settings.alignmentOffset) !== null && _d !== void 0 ? _d : (align !== 'center' && side.startsWith('inside') ? positionDefaults.alignmentOffset : 0),\n        allowOutOfBounds: (_e = settings.allowOutOfBounds) !== null && _e !== void 0 ? _e : positionDefaults.allowOutOfBounds,\n    };\n}\nfunction pureCalculateAnchoredPosition(viewportRect, relativePosition, floatingRect, anchorRect, { side, align, allowOutOfBounds, anchorOffset, alignmentOffset }) {\n    const relativeViewportRect = {\n        top: viewportRect.top - relativePosition.top,\n        left: viewportRect.left - relativePosition.left,\n        width: viewportRect.width,\n        height: viewportRect.height,\n    };\n    let pos = calculatePosition(floatingRect, anchorRect, side, align, anchorOffset, alignmentOffset);\n    let anchorSide = side;\n    let anchorAlign = align;\n    pos.top -= relativePosition.top;\n    pos.left -= relativePosition.left;\n    if (!allowOutOfBounds) {\n        const alternateOrder = alternateOrders[side];\n        let positionAttempt = 0;\n        if (alternateOrder) {\n            let prevSide = side;\n            while (positionAttempt < alternateOrder.length &&\n                shouldRecalculatePosition(prevSide, pos, relativeViewportRect, floatingRect)) {\n                const nextSide = alternateOrder[positionAttempt++];\n                prevSide = nextSide;\n                pos = calculatePosition(floatingRect, anchorRect, nextSide, align, anchorOffset, alignmentOffset);\n                pos.top -= relativePosition.top;\n                pos.left -= relativePosition.left;\n                anchorSide = nextSide;\n            }\n        }\n        const alternateAlignment = alternateAlignments[align];\n        let alignmentAttempt = 0;\n        if (alternateAlignment) {\n            let prevAlign = align;\n            while (alignmentAttempt < alternateAlignment.length &&\n                shouldRecalculateAlignment(prevAlign, pos, relativeViewportRect, floatingRect)) {\n                const nextAlign = alternateAlignment[alignmentAttempt++];\n                prevAlign = nextAlign;\n                pos = calculatePosition(floatingRect, anchorRect, anchorSide, nextAlign, anchorOffset, alignmentOffset);\n                pos.top -= relativePosition.top;\n                pos.left -= relativePosition.left;\n                anchorAlign = nextAlign;\n            }\n        }\n        if (pos.top < relativeViewportRect.top) {\n            pos.top = relativeViewportRect.top;\n        }\n        if (pos.left < relativeViewportRect.left) {\n            pos.left = relativeViewportRect.left;\n        }\n        if (pos.left + floatingRect.width > viewportRect.width + relativeViewportRect.left) {\n            pos.left = viewportRect.width + relativeViewportRect.left - floatingRect.width;\n        }\n        if (alternateOrder && positionAttempt < alternateOrder.length) {\n            if (pos.top + floatingRect.height > viewportRect.height + relativeViewportRect.top) {\n                pos.top = Math.max(viewportRect.height + relativeViewportRect.top - floatingRect.height, 0);\n            }\n        }\n    }\n    return Object.assign(Object.assign({}, pos), { anchorSide, anchorAlign });\n}\nfunction calculatePosition(elementDimensions, anchorPosition, side, align, anchorOffset, alignmentOffset) {\n    const anchorRight = anchorPosition.left + anchorPosition.width;\n    const anchorBottom = anchorPosition.top + anchorPosition.height;\n    let top = -1;\n    let left = -1;\n    if (side === 'outside-top') {\n        top = anchorPosition.top - anchorOffset - elementDimensions.height;\n    }\n    else if (side === 'outside-bottom') {\n        top = anchorBottom + anchorOffset;\n    }\n    else if (side === 'outside-left') {\n        left = anchorPosition.left - anchorOffset - elementDimensions.width;\n    }\n    else if (side === 'outside-right') {\n        left = anchorRight + anchorOffset;\n    }\n    if (side === 'outside-top' || side === 'outside-bottom') {\n        if (align === 'start') {\n            left = anchorPosition.left + alignmentOffset;\n        }\n        else if (align === 'center') {\n            left = anchorPosition.left - (elementDimensions.width - anchorPosition.width) / 2 + alignmentOffset;\n        }\n        else {\n            left = anchorRight - elementDimensions.width - alignmentOffset;\n        }\n    }\n    if (side === 'outside-left' || side === 'outside-right') {\n        if (align === 'start') {\n            top = anchorPosition.top + alignmentOffset;\n        }\n        else if (align === 'center') {\n            top = anchorPosition.top - (elementDimensions.height - anchorPosition.height) / 2 + alignmentOffset;\n        }\n        else {\n            top = anchorBottom - elementDimensions.height - alignmentOffset;\n        }\n    }\n    if (side === 'inside-top') {\n        top = anchorPosition.top + anchorOffset;\n    }\n    else if (side === 'inside-bottom') {\n        top = anchorBottom - anchorOffset - elementDimensions.height;\n    }\n    else if (side === 'inside-left') {\n        left = anchorPosition.left + anchorOffset;\n    }\n    else if (side === 'inside-right') {\n        left = anchorRight - anchorOffset - elementDimensions.width;\n    }\n    else if (side === 'inside-center') {\n        left = (anchorRight + anchorPosition.left) / 2 - elementDimensions.width / 2 + anchorOffset;\n    }\n    if (side === 'inside-top' || side === 'inside-bottom') {\n        if (align === 'start') {\n            left = anchorPosition.left + alignmentOffset;\n        }\n        else if (align === 'center') {\n            left = anchorPosition.left - (elementDimensions.width - anchorPosition.width) / 2 + alignmentOffset;\n        }\n        else {\n            left = anchorRight - elementDimensions.width - alignmentOffset;\n        }\n    }\n    else if (side === 'inside-left' || side === 'inside-right' || side === 'inside-center') {\n        if (align === 'start') {\n            top = anchorPosition.top + alignmentOffset;\n        }\n        else if (align === 'center') {\n            top = anchorPosition.top - (elementDimensions.height - anchorPosition.height) / 2 + alignmentOffset;\n        }\n        else {\n            top = anchorBottom - elementDimensions.height - alignmentOffset;\n        }\n    }\n    return { top, left };\n}\nfunction shouldRecalculatePosition(side, currentPos, containerDimensions, elementDimensions) {\n    if (side === 'outside-top' || side === 'outside-bottom') {\n        return (currentPos.top < containerDimensions.top ||\n            currentPos.top + elementDimensions.height > containerDimensions.height + containerDimensions.top);\n    }\n    else {\n        return (currentPos.left < containerDimensions.left ||\n            currentPos.left + elementDimensions.width > containerDimensions.width + containerDimensions.left);\n    }\n}\nfunction shouldRecalculateAlignment(align, currentPos, containerDimensions, elementDimensions) {\n    if (align === 'end') {\n        return currentPos.left < containerDimensions.left;\n    }\n    else if (align === 'start' || align === 'center') {\n        return (currentPos.left + elementDimensions.width > containerDimensions.left + containerDimensions.width ||\n            currentPos.left < containerDimensions.left);\n    }\n}\n\nexport { getAnchoredPosition };\n","function* iterateFocusableElements(container, options = {}) {\n    var _a, _b;\n    const strict = (_a = options.strict) !== null && _a !== void 0 ? _a : false;\n    const acceptFn = ((_b = options.onlyTabbable) !== null && _b !== void 0 ? _b : false) ? isTabbable : isFocusable;\n    const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n        acceptNode: node => node instanceof HTMLElement && acceptFn(node, strict) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP,\n    });\n    let nextNode = null;\n    if (!options.reverse && acceptFn(container, strict)) {\n        yield container;\n    }\n    if (options.reverse) {\n        let lastChild = walker.lastChild();\n        while (lastChild) {\n            nextNode = lastChild;\n            lastChild = walker.lastChild();\n        }\n    }\n    else {\n        nextNode = walker.firstChild();\n    }\n    while (nextNode instanceof HTMLElement) {\n        yield nextNode;\n        nextNode = options.reverse ? walker.previousNode() : walker.nextNode();\n    }\n    if (options.reverse && acceptFn(container, strict)) {\n        yield container;\n    }\n    return undefined;\n}\nfunction getFocusableChild(container, lastChild = false) {\n    return iterateFocusableElements(container, { reverse: lastChild, strict: true, onlyTabbable: true }).next().value;\n}\nfunction isFocusable(elem, strict = false) {\n    const disabledAttrInert = ['BUTTON', 'INPUT', 'SELECT', 'TEXTAREA', 'OPTGROUP', 'OPTION', 'FIELDSET'].includes(elem.tagName) &&\n        elem.disabled;\n    const hiddenInert = elem.hidden;\n    const hiddenInputInert = elem instanceof HTMLInputElement && elem.type === 'hidden';\n    const sentinelInert = elem.classList.contains('sentinel');\n    if (disabledAttrInert || hiddenInert || hiddenInputInert || sentinelInert) {\n        return false;\n    }\n    if (strict) {\n        const style = getComputedStyle(elem);\n        const sizeInert = elem.offsetWidth === 0 || elem.offsetHeight === 0;\n        const visibilityInert = ['hidden', 'collapse'].includes(style.visibility);\n        const displayInert = style.display === 'none' || !elem.offsetParent;\n        const clientRectsInert = elem.getClientRects().length === 0;\n        if (sizeInert || visibilityInert || clientRectsInert || displayInert) {\n            return false;\n        }\n    }\n    if (elem.getAttribute('tabindex') != null) {\n        return true;\n    }\n    if (elem.getAttribute('contenteditable') === 'true' || elem.getAttribute('contenteditable') === 'plaintext-only') {\n        return true;\n    }\n    if (elem instanceof HTMLAnchorElement && elem.getAttribute('href') == null) {\n        return false;\n    }\n    return elem.tabIndex !== -1;\n}\nfunction isTabbable(elem, strict = false) {\n    return isFocusable(elem, strict) && elem.getAttribute('tabindex') !== '-1';\n}\n\nexport { getFocusableChild, isFocusable, isTabbable, iterateFocusableElements };\n","let signalSupported = false;\nfunction noop() { }\ntry {\n    const options = Object.create({}, {\n        signal: {\n            get() {\n                signalSupported = true;\n            },\n        },\n    });\n    window.addEventListener('test', noop, options);\n    window.removeEventListener('test', noop, options);\n}\ncatch (e) {\n}\nfunction featureSupported() {\n    return signalSupported;\n}\nfunction monkeyPatch() {\n    if (typeof window === 'undefined') {\n        return;\n    }\n    const originalAddEventListener = EventTarget.prototype.addEventListener;\n    EventTarget.prototype.addEventListener = function (name, originalCallback, optionsOrCapture) {\n        if (typeof optionsOrCapture === 'object' &&\n            'signal' in optionsOrCapture &&\n            optionsOrCapture.signal instanceof AbortSignal) {\n            originalAddEventListener.call(optionsOrCapture.signal, 'abort', () => {\n                this.removeEventListener(name, originalCallback, optionsOrCapture);\n            });\n        }\n        return originalAddEventListener.call(this, name, originalCallback, optionsOrCapture);\n    };\n}\nfunction polyfill() {\n    if (!featureSupported()) {\n        monkeyPatch();\n        signalSupported = true;\n    }\n}\n\nexport { polyfill };\n","import { getFocusableChild, isTabbable } from './utils/iterate-focusable-elements.mjs';\nimport { polyfill } from './polyfills/event-listener-signal.mjs';\n\npolyfill();\nconst suspendedTrapStack = [];\nlet activeTrap = undefined;\nfunction tryReactivate() {\n    const trapToReactivate = suspendedTrapStack.pop();\n    if (trapToReactivate) {\n        focusTrap(trapToReactivate.container, trapToReactivate.initialFocus, trapToReactivate.originalSignal);\n    }\n}\nfunction followSignal(signal) {\n    const controller = new AbortController();\n    signal.addEventListener('abort', () => {\n        controller.abort();\n    });\n    return controller;\n}\nfunction observeFocusTrap(container, sentinels) {\n    const observer = new MutationObserver(mutations => {\n        for (const mutation of mutations) {\n            if (mutation.type === 'childList' && mutation.addedNodes.length) {\n                const sentinelChildren = Array.from(mutation.addedNodes).filter(e => e instanceof HTMLElement && e.classList.contains('sentinel') && e.tagName === 'SPAN');\n                if (sentinelChildren.length) {\n                    return;\n                }\n                const firstChild = container.firstElementChild;\n                const lastChild = container.lastElementChild;\n                const [sentinelStart, sentinelEnd] = sentinels;\n                if (!(firstChild === null || firstChild === void 0 ? void 0 : firstChild.classList.contains('sentinel'))) {\n                    container.insertAdjacentElement('afterbegin', sentinelStart);\n                }\n                if (!(lastChild === null || lastChild === void 0 ? void 0 : lastChild.classList.contains('sentinel'))) {\n                    container.insertAdjacentElement('beforeend', sentinelEnd);\n                }\n            }\n        }\n    });\n    observer.observe(container, { childList: true });\n    return observer;\n}\nfunction focusTrap(container, initialFocus, abortSignal) {\n    const controller = new AbortController();\n    const signal = abortSignal !== null && abortSignal !== void 0 ? abortSignal : controller.signal;\n    container.setAttribute('data-focus-trap', 'active');\n    const sentinelStart = document.createElement('span');\n    sentinelStart.setAttribute('class', 'sentinel');\n    sentinelStart.setAttribute('tabindex', '0');\n    sentinelStart.setAttribute('aria-hidden', 'true');\n    sentinelStart.onfocus = () => {\n        const lastFocusableChild = getFocusableChild(container, true);\n        lastFocusableChild === null || lastFocusableChild === void 0 ? void 0 : lastFocusableChild.focus();\n    };\n    const sentinelEnd = document.createElement('span');\n    sentinelEnd.setAttribute('class', 'sentinel');\n    sentinelEnd.setAttribute('tabindex', '0');\n    sentinelEnd.setAttribute('aria-hidden', 'true');\n    sentinelEnd.onfocus = () => {\n        const firstFocusableChild = getFocusableChild(container);\n        firstFocusableChild === null || firstFocusableChild === void 0 ? void 0 : firstFocusableChild.focus();\n    };\n    container.prepend(sentinelStart);\n    container.append(sentinelEnd);\n    const observer = observeFocusTrap(container, [sentinelStart, sentinelEnd]);\n    let lastFocusedChild = undefined;\n    function ensureTrapZoneHasFocus(focusedElement) {\n        if (focusedElement instanceof HTMLElement && document.contains(container)) {\n            if (container.contains(focusedElement)) {\n                lastFocusedChild = focusedElement;\n                return;\n            }\n            else {\n                if (lastFocusedChild && isTabbable(lastFocusedChild) && container.contains(lastFocusedChild)) {\n                    lastFocusedChild.focus();\n                    return;\n                }\n                else if (initialFocus && container.contains(initialFocus)) {\n                    initialFocus.focus();\n                    return;\n                }\n                else {\n                    const firstFocusableChild = getFocusableChild(container);\n                    firstFocusableChild === null || firstFocusableChild === void 0 ? void 0 : firstFocusableChild.focus();\n                    return;\n                }\n            }\n        }\n    }\n    const wrappingController = followSignal(signal);\n    if (activeTrap) {\n        const suspendedTrap = activeTrap;\n        activeTrap.container.setAttribute('data-focus-trap', 'suspended');\n        activeTrap.controller.abort();\n        suspendedTrapStack.push(suspendedTrap);\n    }\n    wrappingController.signal.addEventListener('abort', () => {\n        activeTrap = undefined;\n    });\n    signal.addEventListener('abort', () => {\n        container.removeAttribute('data-focus-trap');\n        const sentinels = container.getElementsByClassName('sentinel');\n        while (sentinels.length > 0)\n            sentinels[0].remove();\n        const suspendedTrapIndex = suspendedTrapStack.findIndex(t => t.container === container);\n        if (suspendedTrapIndex >= 0) {\n            suspendedTrapStack.splice(suspendedTrapIndex, 1);\n        }\n        observer.disconnect();\n        tryReactivate();\n    });\n    document.addEventListener('focus', event => {\n        ensureTrapZoneHasFocus(event.target);\n    }, { signal: wrappingController.signal, capture: true });\n    ensureTrapZoneHasFocus(document.activeElement);\n    activeTrap = {\n        container,\n        controller: wrappingController,\n        initialFocus,\n        originalSignal: signal,\n    };\n    const suspendedTrapIndex = suspendedTrapStack.findIndex(t => t.container === container);\n    if (suspendedTrapIndex >= 0) {\n        suspendedTrapStack.splice(suspendedTrapIndex, 1);\n    }\n    if (!abortSignal) {\n        return controller;\n    }\n}\n\nexport { focusTrap };\n","let isMac = undefined;\nfunction isMacOS() {\n    if (isMac === undefined) {\n        isMac = /^mac/i.test(window.navigator.platform);\n    }\n    return isMac;\n}\n\nexport { isMacOS };\n","let idSeed = 10000;\nfunction uniqueId() {\n    return `__primer_id_${idSeed++}`;\n}\n\nexport { uniqueId };\n","import { polyfill } from './polyfills/event-listener-signal.mjs';\nimport { isMacOS } from './utils/user-agent.mjs';\nimport { iterateFocusableElements } from './utils/iterate-focusable-elements.mjs';\nimport { uniqueId } from './utils/unique-id.mjs';\n\npolyfill();\nvar FocusKeys;\n(function (FocusKeys) {\n    FocusKeys[FocusKeys[\"ArrowHorizontal\"] = 1] = \"ArrowHorizontal\";\n    FocusKeys[FocusKeys[\"ArrowVertical\"] = 2] = \"ArrowVertical\";\n    FocusKeys[FocusKeys[\"JK\"] = 4] = \"JK\";\n    FocusKeys[FocusKeys[\"HL\"] = 8] = \"HL\";\n    FocusKeys[FocusKeys[\"HomeAndEnd\"] = 16] = \"HomeAndEnd\";\n    FocusKeys[FocusKeys[\"PageUpDown\"] = 256] = \"PageUpDown\";\n    FocusKeys[FocusKeys[\"WS\"] = 32] = \"WS\";\n    FocusKeys[FocusKeys[\"AD\"] = 64] = \"AD\";\n    FocusKeys[FocusKeys[\"Tab\"] = 128] = \"Tab\";\n    FocusKeys[FocusKeys[\"Backspace\"] = 512] = \"Backspace\";\n    FocusKeys[FocusKeys[\"ArrowAll\"] = 3] = \"ArrowAll\";\n    FocusKeys[FocusKeys[\"HJKL\"] = 12] = \"HJKL\";\n    FocusKeys[FocusKeys[\"WASD\"] = 96] = \"WASD\";\n    FocusKeys[FocusKeys[\"All\"] = 511] = \"All\";\n})(FocusKeys || (FocusKeys = {}));\nconst KEY_TO_BIT = {\n    ArrowLeft: FocusKeys.ArrowHorizontal,\n    ArrowDown: FocusKeys.ArrowVertical,\n    ArrowUp: FocusKeys.ArrowVertical,\n    ArrowRight: FocusKeys.ArrowHorizontal,\n    h: FocusKeys.HL,\n    j: FocusKeys.JK,\n    k: FocusKeys.JK,\n    l: FocusKeys.HL,\n    a: FocusKeys.AD,\n    s: FocusKeys.WS,\n    w: FocusKeys.WS,\n    d: FocusKeys.AD,\n    Tab: FocusKeys.Tab,\n    Home: FocusKeys.HomeAndEnd,\n    End: FocusKeys.HomeAndEnd,\n    PageUp: FocusKeys.PageUpDown,\n    PageDown: FocusKeys.PageUpDown,\n    Backspace: FocusKeys.Backspace,\n};\nconst KEY_TO_DIRECTION = {\n    ArrowLeft: 'previous',\n    ArrowDown: 'next',\n    ArrowUp: 'previous',\n    ArrowRight: 'next',\n    h: 'previous',\n    j: 'next',\n    k: 'previous',\n    l: 'next',\n    a: 'previous',\n    s: 'next',\n    w: 'previous',\n    d: 'next',\n    Tab: 'next',\n    Home: 'start',\n    End: 'end',\n    PageUp: 'start',\n    PageDown: 'end',\n    Backspace: 'previous',\n};\nfunction getDirection(keyboardEvent) {\n    const direction = KEY_TO_DIRECTION[keyboardEvent.key];\n    if (keyboardEvent.key === 'Tab' && keyboardEvent.shiftKey) {\n        return 'previous';\n    }\n    const isMac = isMacOS();\n    if ((isMac && keyboardEvent.metaKey) || (!isMac && keyboardEvent.ctrlKey)) {\n        if (keyboardEvent.key === 'ArrowLeft' || keyboardEvent.key === 'ArrowUp') {\n            return 'start';\n        }\n        else if (keyboardEvent.key === 'ArrowRight' || keyboardEvent.key === 'ArrowDown') {\n            return 'end';\n        }\n    }\n    return direction;\n}\nfunction shouldIgnoreFocusHandling(keyboardEvent, activeElement) {\n    const key = keyboardEvent.key;\n    const keyLength = [...key].length;\n    const isTextInput = (activeElement instanceof HTMLInputElement && activeElement.type === 'text') ||\n        activeElement instanceof HTMLTextAreaElement;\n    if (isTextInput && (keyLength === 1 || key === 'Home' || key === 'End')) {\n        return true;\n    }\n    if (activeElement instanceof HTMLSelectElement) {\n        if (keyLength === 1) {\n            return true;\n        }\n        if (key === 'ArrowDown' && isMacOS() && !keyboardEvent.metaKey) {\n            return true;\n        }\n        if (key === 'ArrowDown' && !isMacOS() && keyboardEvent.altKey) {\n            return true;\n        }\n    }\n    if (activeElement instanceof HTMLTextAreaElement && (key === 'PageUp' || key === 'PageDown')) {\n        return true;\n    }\n    if (isTextInput) {\n        const textInput = activeElement;\n        const cursorAtStart = textInput.selectionStart === 0 && textInput.selectionEnd === 0;\n        const cursorAtEnd = textInput.selectionStart === textInput.value.length && textInput.selectionEnd === textInput.value.length;\n        if (key === 'ArrowLeft' && !cursorAtStart) {\n            return true;\n        }\n        if (key === 'ArrowRight' && !cursorAtEnd) {\n            return true;\n        }\n        if (textInput instanceof HTMLTextAreaElement) {\n            if (key === 'ArrowUp' && !cursorAtStart) {\n                return true;\n            }\n            if (key === 'ArrowDown' && !cursorAtEnd) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nconst isActiveDescendantAttribute = 'data-is-active-descendant';\nconst activeDescendantActivatedDirectly = 'activated-directly';\nconst activeDescendantActivatedIndirectly = 'activated-indirectly';\nconst hasActiveDescendantAttribute = 'data-has-active-descendant';\nfunction focusZone(container, settings) {\n    var _a, _b, _c, _d, _e;\n    const focusableElements = [];\n    const savedTabIndex = new WeakMap();\n    const bindKeys = (_a = settings === null || settings === void 0 ? void 0 : settings.bindKeys) !== null && _a !== void 0 ? _a : ((settings === null || settings === void 0 ? void 0 : settings.getNextFocusable) ? FocusKeys.ArrowAll : FocusKeys.ArrowVertical) | FocusKeys.HomeAndEnd;\n    const focusOutBehavior = (_b = settings === null || settings === void 0 ? void 0 : settings.focusOutBehavior) !== null && _b !== void 0 ? _b : 'stop';\n    const focusInStrategy = (_c = settings === null || settings === void 0 ? void 0 : settings.focusInStrategy) !== null && _c !== void 0 ? _c : 'previous';\n    const activeDescendantControl = settings === null || settings === void 0 ? void 0 : settings.activeDescendantControl;\n    const activeDescendantCallback = settings === null || settings === void 0 ? void 0 : settings.onActiveDescendantChanged;\n    let currentFocusedElement;\n    const preventScroll = (_d = settings === null || settings === void 0 ? void 0 : settings.preventScroll) !== null && _d !== void 0 ? _d : false;\n    function getFirstFocusableElement() {\n        return focusableElements[0];\n    }\n    function isActiveDescendantInputFocused() {\n        return document.activeElement === activeDescendantControl;\n    }\n    function updateFocusedElement(to, directlyActivated = false) {\n        const from = currentFocusedElement;\n        currentFocusedElement = to;\n        if (activeDescendantControl) {\n            if (to && isActiveDescendantInputFocused()) {\n                setActiveDescendant(from, to, directlyActivated);\n            }\n            else {\n                clearActiveDescendant();\n            }\n            return;\n        }\n        if (from && from !== to && savedTabIndex.has(from)) {\n            from.setAttribute('tabindex', '-1');\n        }\n        to === null || to === void 0 ? void 0 : to.setAttribute('tabindex', '0');\n    }\n    function setActiveDescendant(from, to, directlyActivated = false) {\n        if (!to.id) {\n            to.setAttribute('id', uniqueId());\n        }\n        if (from && from !== to) {\n            from.removeAttribute(isActiveDescendantAttribute);\n        }\n        if (!activeDescendantControl ||\n            (!directlyActivated && activeDescendantControl.getAttribute('aria-activedescendant') === to.id)) {\n            return;\n        }\n        activeDescendantControl.setAttribute('aria-activedescendant', to.id);\n        container.setAttribute(hasActiveDescendantAttribute, to.id);\n        to.setAttribute(isActiveDescendantAttribute, directlyActivated ? activeDescendantActivatedDirectly : activeDescendantActivatedIndirectly);\n        activeDescendantCallback === null || activeDescendantCallback === void 0 ? void 0 : activeDescendantCallback(to, from, directlyActivated);\n    }\n    function clearActiveDescendant(previouslyActiveElement = currentFocusedElement) {\n        if (focusInStrategy === 'first') {\n            currentFocusedElement = undefined;\n        }\n        activeDescendantControl === null || activeDescendantControl === void 0 ? void 0 : activeDescendantControl.removeAttribute('aria-activedescendant');\n        container.removeAttribute(hasActiveDescendantAttribute);\n        previouslyActiveElement === null || previouslyActiveElement === void 0 ? void 0 : previouslyActiveElement.removeAttribute(isActiveDescendantAttribute);\n        activeDescendantCallback === null || activeDescendantCallback === void 0 ? void 0 : activeDescendantCallback(undefined, previouslyActiveElement, false);\n    }\n    function beginFocusManagement(...elements) {\n        const filteredElements = elements.filter(e => { var _a, _b; return (_b = (_a = settings === null || settings === void 0 ? void 0 : settings.focusableElementFilter) === null || _a === void 0 ? void 0 : _a.call(settings, e)) !== null && _b !== void 0 ? _b : true; });\n        if (filteredElements.length === 0) {\n            return;\n        }\n        focusableElements.splice(findInsertionIndex(filteredElements), 0, ...filteredElements);\n        for (const element of filteredElements) {\n            if (!savedTabIndex.has(element)) {\n                savedTabIndex.set(element, element.getAttribute('tabindex'));\n            }\n            element.setAttribute('tabindex', '-1');\n        }\n        if (!currentFocusedElement) {\n            updateFocusedElement(getFirstFocusableElement());\n        }\n    }\n    function findInsertionIndex(elementsToInsert) {\n        const firstElementToInsert = elementsToInsert[0];\n        if (focusableElements.length === 0)\n            return 0;\n        let iMin = 0;\n        let iMax = focusableElements.length - 1;\n        while (iMin <= iMax) {\n            const i = Math.floor((iMin + iMax) / 2);\n            const element = focusableElements[i];\n            if (followsInDocument(firstElementToInsert, element)) {\n                iMax = i - 1;\n            }\n            else {\n                iMin = i + 1;\n            }\n        }\n        return iMin;\n    }\n    function followsInDocument(first, second) {\n        return (second.compareDocumentPosition(first) & Node.DOCUMENT_POSITION_PRECEDING) > 0;\n    }\n    function endFocusManagement(...elements) {\n        for (const element of elements) {\n            const focusableElementIndex = focusableElements.indexOf(element);\n            if (focusableElementIndex >= 0) {\n                focusableElements.splice(focusableElementIndex, 1);\n            }\n            const savedIndex = savedTabIndex.get(element);\n            if (savedIndex !== undefined) {\n                if (savedIndex === null) {\n                    element.removeAttribute('tabindex');\n                }\n                else {\n                    element.setAttribute('tabindex', savedIndex);\n                }\n                savedTabIndex.delete(element);\n            }\n            if (element === currentFocusedElement) {\n                const nextElementToFocus = getFirstFocusableElement();\n                updateFocusedElement(nextElementToFocus);\n            }\n        }\n    }\n    const iterateFocusableElementsOptions = {\n        reverse: settings === null || settings === void 0 ? void 0 : settings.reverse,\n        strict: settings === null || settings === void 0 ? void 0 : settings.strict,\n        onlyTabbable: settings === null || settings === void 0 ? void 0 : settings.onlyTabbable,\n    };\n    beginFocusManagement(...iterateFocusableElements(container, iterateFocusableElementsOptions));\n    const initialElement = typeof focusInStrategy === 'function' ? focusInStrategy(document.body) : getFirstFocusableElement();\n    updateFocusedElement(initialElement);\n    const observer = new MutationObserver(mutations => {\n        for (const mutation of mutations) {\n            for (const removedNode of mutation.removedNodes) {\n                if (removedNode instanceof HTMLElement) {\n                    endFocusManagement(...iterateFocusableElements(removedNode));\n                }\n            }\n            if (mutation.type === 'attributes' && mutation.oldValue === null) {\n                if (mutation.target instanceof HTMLElement) {\n                    endFocusManagement(mutation.target);\n                }\n            }\n        }\n        for (const mutation of mutations) {\n            for (const addedNode of mutation.addedNodes) {\n                if (addedNode instanceof HTMLElement) {\n                    beginFocusManagement(...iterateFocusableElements(addedNode, iterateFocusableElementsOptions));\n                }\n            }\n            if (mutation.type === 'attributes' && mutation.oldValue !== null) {\n                if (mutation.target instanceof HTMLElement) {\n                    beginFocusManagement(mutation.target);\n                }\n            }\n        }\n    });\n    observer.observe(container, {\n        subtree: true,\n        childList: true,\n        attributeFilter: ['hidden', 'disabled'],\n        attributeOldValue: true,\n    });\n    const controller = new AbortController();\n    const signal = (_e = settings === null || settings === void 0 ? void 0 : settings.abortSignal) !== null && _e !== void 0 ? _e : controller.signal;\n    signal.addEventListener('abort', () => {\n        endFocusManagement(...focusableElements);\n    });\n    let elementIndexFocusedByClick = undefined;\n    container.addEventListener('mousedown', event => {\n        if (event.target instanceof HTMLElement && event.target !== document.activeElement) {\n            elementIndexFocusedByClick = focusableElements.indexOf(event.target);\n        }\n    }, { signal });\n    if (activeDescendantControl) {\n        container.addEventListener('focusin', event => {\n            if (event.target instanceof HTMLElement && focusableElements.includes(event.target)) {\n                activeDescendantControl.focus({ preventScroll });\n                updateFocusedElement(event.target);\n            }\n        });\n        container.addEventListener('mousemove', ({ target }) => {\n            if (!(target instanceof Node)) {\n                return;\n            }\n            const focusableElement = focusableElements.find(element => element.contains(target));\n            if (focusableElement) {\n                updateFocusedElement(focusableElement);\n            }\n        }, { signal, capture: true });\n        activeDescendantControl.addEventListener('focusin', () => {\n            if (!currentFocusedElement) {\n                updateFocusedElement(getFirstFocusableElement());\n            }\n            else {\n                setActiveDescendant(undefined, currentFocusedElement);\n            }\n        });\n        activeDescendantControl.addEventListener('focusout', () => {\n            clearActiveDescendant();\n        });\n    }\n    else {\n        container.addEventListener('focusin', event => {\n            if (event.target instanceof HTMLElement) {\n                if (elementIndexFocusedByClick !== undefined) {\n                    if (elementIndexFocusedByClick >= 0) {\n                        if (focusableElements[elementIndexFocusedByClick] !== currentFocusedElement) {\n                            updateFocusedElement(focusableElements[elementIndexFocusedByClick]);\n                        }\n                    }\n                    elementIndexFocusedByClick = undefined;\n                }\n                else {\n                    if (focusInStrategy === 'previous') {\n                        updateFocusedElement(event.target);\n                    }\n                    else if (focusInStrategy === 'closest' || focusInStrategy === 'first') {\n                        if (event.relatedTarget instanceof Element && !container.contains(event.relatedTarget)) {\n                            const targetElementIndex = lastKeyboardFocusDirection === 'previous' ? focusableElements.length - 1 : 0;\n                            const targetElement = focusableElements[targetElementIndex];\n                            targetElement === null || targetElement === void 0 ? void 0 : targetElement.focus({ preventScroll });\n                            return;\n                        }\n                        else {\n                            updateFocusedElement(event.target);\n                        }\n                    }\n                    else if (typeof focusInStrategy === 'function') {\n                        if (event.relatedTarget instanceof Element && !container.contains(event.relatedTarget)) {\n                            const elementToFocus = focusInStrategy(event.relatedTarget);\n                            const requestedFocusElementIndex = elementToFocus ? focusableElements.indexOf(elementToFocus) : -1;\n                            if (requestedFocusElementIndex >= 0 && elementToFocus instanceof HTMLElement) {\n                                elementToFocus.focus({ preventScroll });\n                                return;\n                            }\n                            else {\n                                console.warn('Element requested is not a known focusable element.');\n                            }\n                        }\n                        else {\n                            updateFocusedElement(event.target);\n                        }\n                    }\n                }\n            }\n            lastKeyboardFocusDirection = undefined;\n        }, { signal });\n    }\n    const keyboardEventRecipient = activeDescendantControl !== null && activeDescendantControl !== void 0 ? activeDescendantControl : container;\n    let lastKeyboardFocusDirection = undefined;\n    if (focusInStrategy === 'closest') {\n        document.addEventListener('keydown', event => {\n            if (event.key === 'Tab') {\n                lastKeyboardFocusDirection = getDirection(event);\n            }\n        }, { signal, capture: true });\n    }\n    function getCurrentFocusedIndex() {\n        if (!currentFocusedElement) {\n            return 0;\n        }\n        const focusedIndex = focusableElements.indexOf(currentFocusedElement);\n        const fallbackIndex = currentFocusedElement === container ? -1 : 0;\n        return focusedIndex !== -1 ? focusedIndex : fallbackIndex;\n    }\n    keyboardEventRecipient.addEventListener('keydown', event => {\n        var _a;\n        if (event.key in KEY_TO_DIRECTION) {\n            const keyBit = KEY_TO_BIT[event.key];\n            if (!event.defaultPrevented &&\n                (keyBit & bindKeys) > 0 &&\n                !shouldIgnoreFocusHandling(event, document.activeElement)) {\n                const direction = getDirection(event);\n                let nextElementToFocus = undefined;\n                if (settings === null || settings === void 0 ? void 0 : settings.getNextFocusable) {\n                    nextElementToFocus = settings.getNextFocusable(direction, (_a = document.activeElement) !== null && _a !== void 0 ? _a : undefined, event);\n                }\n                if (!nextElementToFocus) {\n                    const lastFocusedIndex = getCurrentFocusedIndex();\n                    let nextFocusedIndex = lastFocusedIndex;\n                    if (direction === 'previous') {\n                        nextFocusedIndex -= 1;\n                    }\n                    else if (direction === 'start') {\n                        nextFocusedIndex = 0;\n                    }\n                    else if (direction === 'next') {\n                        nextFocusedIndex += 1;\n                    }\n                    else {\n                        nextFocusedIndex = focusableElements.length - 1;\n                    }\n                    if (nextFocusedIndex < 0) {\n                        if (focusOutBehavior === 'wrap' && event.key !== 'Tab') {\n                            nextFocusedIndex = focusableElements.length - 1;\n                        }\n                        else {\n                            nextFocusedIndex = 0;\n                        }\n                    }\n                    if (nextFocusedIndex >= focusableElements.length) {\n                        if (focusOutBehavior === 'wrap' && event.key !== 'Tab') {\n                            nextFocusedIndex = 0;\n                        }\n                        else {\n                            nextFocusedIndex = focusableElements.length - 1;\n                        }\n                    }\n                    if (lastFocusedIndex !== nextFocusedIndex) {\n                        nextElementToFocus = focusableElements[nextFocusedIndex];\n                    }\n                }\n                if (activeDescendantControl) {\n                    updateFocusedElement(nextElementToFocus || currentFocusedElement, true);\n                }\n                else if (nextElementToFocus) {\n                    lastKeyboardFocusDirection = direction;\n                    nextElementToFocus.focus({ preventScroll });\n                }\n                if (event.key !== 'Tab' || nextElementToFocus) {\n                    event.preventDefault();\n                }\n            }\n        }\n    }, { signal });\n    return controller;\n}\n\nexport { FocusKeys, activeDescendantActivatedDirectly, activeDescendantActivatedIndirectly, focusZone, hasActiveDescendantAttribute, isActiveDescendantAttribute };\n","import {controller, targets, target} from '@github/catalyst'\nimport {focusZone, FocusKeys} from '@primer/behaviors'\nimport {ActionMenuElement} from './action_menu/action_menu_element'\n\nconst instersectionObserver = new IntersectionObserver(entries => {\n  for (const entry of entries) {\n    const action = entry.target\n    if (entry.isIntersecting && action instanceof ActionBarElement) {\n      action.update()\n    }\n  }\n})\n\nconst resizeObserver = new ResizeObserver(entries => {\n  for (const entry of entries) {\n    const action = entry.target\n    if (action instanceof ActionBarElement) {\n      action.update()\n    }\n  }\n})\n\n// These are definitely used, but eslint is dumb apparently\n\n// eslint-disable-next-line no-unused-vars\nenum ItemType {\n  // eslint-disable-next-line no-unused-vars\n  Item,\n  // eslint-disable-next-line no-unused-vars\n  Divider,\n}\n\n@controller\nclass ActionBarElement extends HTMLElement {\n  @targets items: HTMLElement[]\n  @target itemContainer: HTMLElement\n  @target moreMenu: ActionMenuElement\n\n  #focusZoneAbortController: AbortController | null = null\n\n  connectedCallback() {\n    // Calculate the width of all the items before hiding anything\n    for (const item of this.items) {\n      const width = item.getBoundingClientRect().width\n      const marginLeft = parseInt(window.getComputedStyle(item)?.marginLeft, 10)\n      const marginRight = parseInt(window.getComputedStyle(item)?.marginRight, 10)\n      item.setAttribute('data-offset-width', `${width + marginLeft + marginRight}`)\n    }\n\n    resizeObserver.observe(this)\n    instersectionObserver.observe(this)\n\n    requestAnimationFrame(() => {\n      // This overflow visible is needed for browsers that don't support PopoverElement\n      // to ensure the menu and tooltips are visible when the action bar is in a collapsed state\n      // once popover is fully supported we can remove this.style.overflow = 'visible'\n      this.style.overflow = 'visible'\n      this.update()\n    })\n  }\n\n  disconnectedCallback() {\n    resizeObserver.unobserve(this)\n    instersectionObserver.unobserve(this)\n  }\n\n  menuItemClick(event: Event) {\n    const currentTarget = event.currentTarget as HTMLButtonElement\n\n    const id = currentTarget?.getAttribute('data-for')\n\n    if (id) {\n      document.getElementById(id)?.click()\n    }\n  }\n\n  update() {\n    const firstItem = this.#firstItem\n    if (!firstItem) return\n\n    const firstItemTop = firstItem.getBoundingClientRect().top\n    let previousItemType: ItemType | null = null\n\n    this.#eachItem((item: HTMLElement, index: number, type: ItemType): boolean => {\n      const itemTop = item.getBoundingClientRect().top\n\n      if (type === ItemType.Item) {\n        if (itemTop > firstItemTop) {\n          this.#hideItem(index)\n\n          if (this.moreMenu.hidden) {\n            this.moreMenu.hidden = false\n          }\n\n          if (previousItemType === ItemType.Divider) {\n            this.#hideItem(index - 1)\n          }\n        } else {\n          this.#showItem(index)\n\n          if (index === this.items.length - 1) {\n            this.moreMenu.hidden = true\n          }\n\n          if (previousItemType === ItemType.Divider) {\n            this.#showItem(index - 1)\n          }\n        }\n      }\n\n      previousItemType = type\n\n      return true\n    })\n\n    if (this.#focusZoneAbortController) {\n      this.#focusZoneAbortController.abort()\n    }\n\n    this.#focusZoneAbortController = focusZone(this, {\n      bindKeys: FocusKeys.ArrowHorizontal | FocusKeys.HomeAndEnd,\n      focusOutBehavior: 'wrap',\n      focusableElementFilter: element => {\n        const idx = this.items.indexOf(element.parentElement!)\n        const elementIsVisibleItem = idx > -1 && this.items[idx].style.visibility === 'visible'\n        const elementIsVisibleActionMenuInvoker = element === this.moreMenu.invokerElement && !this.moreMenu.hidden\n        return elementIsVisibleItem || elementIsVisibleActionMenuInvoker\n      },\n    })\n  }\n\n  get #firstItem(): HTMLElement | null {\n    let foundItem = null\n\n    this.#eachItem((item: HTMLElement, _index: number, type: ItemType): boolean => {\n      if (type === ItemType.Item) {\n        foundItem = item\n        return false\n      }\n\n      return true\n    })\n\n    return foundItem\n  }\n\n  #showItem(index: number) {\n    const item = this.items[index]\n    const menuItem = this.#menuItems[index]\n    if (!item || !menuItem) return\n    item.style.setProperty('visibility', 'visible')\n    menuItem.hidden = true\n  }\n\n  #hideItem(index: number) {\n    const item = this.items[index]\n    const menuItem = this.#menuItems[index]\n    if (!item || !menuItem) return\n    item.style.setProperty('visibility', 'hidden')\n    menuItem.hidden = false\n  }\n\n  get #menuItems(): NodeListOf<HTMLElement> {\n    return this.moreMenu.querySelectorAll('[role=\"menu\"] > li')\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  #eachItem(callback: (item: HTMLElement, index: number, type: ItemType) => boolean): void {\n    for (let i = 0; i < this.items.length; i++) {\n      const item = this.items[i]\n      const type = item.classList.contains('ActionBar-divider') ? ItemType.Divider : ItemType.Item\n      if (!callback(item, i, type)) {\n        break\n      }\n    }\n  }\n}\n\ndeclare global {\n  interface Window {\n    ActionBarElement: typeof ActionBarElement\n  }\n}\n\nwindow.ActionBarElement = ActionBarElement\n","class DetailsMenuElement extends HTMLElement {\n    get preload() {\n        return this.hasAttribute('preload');\n    }\n    set preload(value) {\n        if (value) {\n            this.setAttribute('preload', '');\n        }\n        else {\n            this.removeAttribute('preload');\n        }\n    }\n    get src() {\n        return this.getAttribute('src') || '';\n    }\n    set src(value) {\n        this.setAttribute('src', value);\n    }\n    connectedCallback() {\n        if (!this.hasAttribute('role'))\n            this.setAttribute('role', 'menu');\n        const details = this.parentElement;\n        if (!details)\n            return;\n        const summary = details.querySelector('summary');\n        if (summary) {\n            summary.setAttribute('aria-haspopup', 'menu');\n            if (!summary.hasAttribute('role'))\n                summary.setAttribute('role', 'button');\n        }\n        const subscriptions = [\n            fromEvent(details, 'compositionstart', e => trackComposition(this, e)),\n            fromEvent(details, 'compositionend', e => trackComposition(this, e)),\n            fromEvent(details, 'click', e => shouldCommit(details, e)),\n            fromEvent(details, 'change', e => shouldCommit(details, e)),\n            fromEvent(details, 'keydown', e => keydown(details, this, e)),\n            fromEvent(details, 'toggle', () => loadFragment(details, this), { once: true }),\n            fromEvent(details, 'toggle', () => closeCurrentMenu(details)),\n            this.preload\n                ? fromEvent(details, 'mouseover', () => loadFragment(details, this), { once: true })\n                : NullSubscription,\n            ...focusOnOpen(details)\n        ];\n        states.set(this, { subscriptions, loaded: false, isComposing: false });\n    }\n    disconnectedCallback() {\n        const state = states.get(this);\n        if (!state)\n            return;\n        states.delete(this);\n        for (const sub of state.subscriptions) {\n            sub.unsubscribe();\n        }\n    }\n}\nconst states = new WeakMap();\nconst NullSubscription = {\n    unsubscribe() {\n    }\n};\nfunction fromEvent(target, eventName, onNext, options = false) {\n    target.addEventListener(eventName, onNext, options);\n    return {\n        unsubscribe: () => {\n            target.removeEventListener(eventName, onNext, options);\n        }\n    };\n}\nfunction loadFragment(details, menu) {\n    const src = menu.getAttribute('src');\n    if (!src)\n        return;\n    const state = states.get(menu);\n    if (!state)\n        return;\n    if (state.loaded)\n        return;\n    state.loaded = true;\n    const loader = menu.querySelector('include-fragment');\n    if (loader && !loader.hasAttribute('src')) {\n        loader.addEventListener('loadend', () => autofocus(details));\n        loader.setAttribute('src', src);\n    }\n}\nfunction focusOnOpen(details) {\n    let isMouse = false;\n    const onmousedown = () => (isMouse = true);\n    const onkeydown = () => (isMouse = false);\n    const ontoggle = () => {\n        if (!details.hasAttribute('open'))\n            return;\n        if (autofocus(details))\n            return;\n        if (!isMouse)\n            focusFirstItem(details);\n    };\n    return [\n        fromEvent(details, 'mousedown', onmousedown),\n        fromEvent(details, 'keydown', onkeydown),\n        fromEvent(details, 'toggle', ontoggle)\n    ];\n}\nfunction closeCurrentMenu(details) {\n    if (!details.hasAttribute('open'))\n        return;\n    for (const menu of document.querySelectorAll('details[open] > details-menu')) {\n        const opened = menu.closest('details');\n        if (opened && opened !== details && !opened.contains(details)) {\n            opened.removeAttribute('open');\n        }\n    }\n}\nfunction autofocus(details) {\n    if (!details.hasAttribute('open'))\n        return false;\n    const input = details.querySelector('details-menu [autofocus]');\n    if (input) {\n        input.focus();\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction focusFirstItem(details) {\n    const selected = document.activeElement;\n    if (selected && isMenuItem(selected) && details.contains(selected))\n        return;\n    const target = sibling(details, true);\n    if (target)\n        target.focus();\n}\nfunction sibling(details, next) {\n    const options = Array.from(details.querySelectorAll('[role^=\"menuitem\"]:not([hidden]):not([disabled])'));\n    const selected = document.activeElement;\n    const index = selected instanceof HTMLElement ? options.indexOf(selected) : -1;\n    const found = next ? options[index + 1] : options[index - 1];\n    const def = next ? options[0] : options[options.length - 1];\n    return found || def;\n}\nconst ctrlBindings = navigator.userAgent.match(/Macintosh/);\nfunction shouldCommit(details, event) {\n    const target = event.target;\n    if (!(target instanceof Element))\n        return;\n    if (target.closest('details') !== details)\n        return;\n    if (event.type === 'click') {\n        const menuitem = target.closest('[role=\"menuitem\"], [role=\"menuitemradio\"]');\n        if (!menuitem)\n            return;\n        const input = menuitem.querySelector('input');\n        if (menuitem.tagName === 'LABEL' && target === input)\n            return;\n        const onlyCommitOnChangeEvent = menuitem.tagName === 'LABEL' && input && !input.checked;\n        if (!onlyCommitOnChangeEvent) {\n            commit(menuitem, details);\n        }\n    }\n    else if (event.type === 'change') {\n        const menuitem = target.closest('[role=\"menuitemradio\"], [role=\"menuitemcheckbox\"]');\n        if (menuitem)\n            commit(menuitem, details);\n    }\n}\nfunction updateChecked(selected, details) {\n    for (const el of details.querySelectorAll('[role=\"menuitemradio\"], [role=\"menuitemcheckbox\"]')) {\n        const input = el.querySelector('input[type=\"radio\"], input[type=\"checkbox\"]');\n        let checkState = (el === selected).toString();\n        if (input instanceof HTMLInputElement) {\n            checkState = input.indeterminate ? 'mixed' : input.checked.toString();\n        }\n        el.setAttribute('aria-checked', checkState);\n    }\n}\nfunction commit(selected, details) {\n    if (selected.hasAttribute('disabled') || selected.getAttribute('aria-disabled') === 'true')\n        return;\n    const menu = selected.closest('details-menu');\n    if (!menu)\n        return;\n    const dispatched = menu.dispatchEvent(new CustomEvent('details-menu-select', {\n        cancelable: true,\n        detail: { relatedTarget: selected }\n    }));\n    if (!dispatched)\n        return;\n    updateLabel(selected, details);\n    updateChecked(selected, details);\n    if (selected.getAttribute('role') !== 'menuitemcheckbox')\n        close(details);\n    menu.dispatchEvent(new CustomEvent('details-menu-selected', {\n        detail: { relatedTarget: selected }\n    }));\n}\nfunction keydown(details, menu, event) {\n    if (!(event instanceof KeyboardEvent))\n        return;\n    if (details.querySelector('details[open]'))\n        return;\n    const state = states.get(menu);\n    if (!state || state.isComposing)\n        return;\n    const isSummaryFocused = event.target instanceof Element && event.target.tagName === 'SUMMARY';\n    switch (event.key) {\n        case 'Escape':\n            if (details.hasAttribute('open')) {\n                close(details);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            break;\n        case 'ArrowDown':\n            {\n                if (isSummaryFocused && !details.hasAttribute('open')) {\n                    details.setAttribute('open', '');\n                }\n                const target = sibling(details, true);\n                if (target)\n                    target.focus();\n                event.preventDefault();\n            }\n            break;\n        case 'ArrowUp':\n            {\n                if (isSummaryFocused && !details.hasAttribute('open')) {\n                    details.setAttribute('open', '');\n                }\n                const target = sibling(details, false);\n                if (target)\n                    target.focus();\n                event.preventDefault();\n            }\n            break;\n        case 'n':\n            {\n                if (ctrlBindings && event.ctrlKey) {\n                    const target = sibling(details, true);\n                    if (target)\n                        target.focus();\n                    event.preventDefault();\n                }\n            }\n            break;\n        case 'p':\n            {\n                if (ctrlBindings && event.ctrlKey) {\n                    const target = sibling(details, false);\n                    if (target)\n                        target.focus();\n                    event.preventDefault();\n                }\n            }\n            break;\n        case ' ':\n        case 'Enter':\n            {\n                const selected = document.activeElement;\n                if (selected instanceof HTMLElement && isMenuItem(selected) && selected.closest('details') === details) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    selected.click();\n                }\n            }\n            break;\n    }\n}\nfunction isMenuItem(el) {\n    const role = el.getAttribute('role');\n    return role === 'menuitem' || role === 'menuitemcheckbox' || role === 'menuitemradio';\n}\nfunction close(details) {\n    const wasOpen = details.hasAttribute('open');\n    if (!wasOpen)\n        return;\n    details.removeAttribute('open');\n    const summary = details.querySelector('summary');\n    if (summary)\n        summary.focus();\n}\nfunction updateLabel(item, details) {\n    const button = details.querySelector('[data-menu-button]');\n    if (!button)\n        return;\n    const text = labelText(item);\n    if (text) {\n        button.textContent = text;\n    }\n    else {\n        const html = labelHTML(item);\n        if (html)\n            button.innerHTML = html;\n    }\n}\nfunction labelText(el) {\n    if (!el)\n        return null;\n    const textEl = el.hasAttribute('data-menu-button-text') ? el : el.querySelector('[data-menu-button-text]');\n    if (!textEl)\n        return null;\n    return textEl.getAttribute('data-menu-button-text') || textEl.textContent;\n}\nfunction labelHTML(el) {\n    if (!el)\n        return null;\n    const contentsEl = el.hasAttribute('data-menu-button-contents') ? el : el.querySelector('[data-menu-button-contents]');\n    return contentsEl ? contentsEl.innerHTML : null;\n}\nfunction trackComposition(menu, event) {\n    const state = states.get(menu);\n    if (!state)\n        return;\n    state.isComposing = event.type === 'compositionstart';\n}\nexport default DetailsMenuElement;\nif (!window.customElements.get('details-menu')) {\n    window.DetailsMenuElement = DetailsMenuElement;\n    window.customElements.define('details-menu', DetailsMenuElement);\n}\n","import type {AnchorAlignment, AnchorSide, PositionSettings} from '@primer/behaviors'\nimport {getAnchoredPosition} from '@primer/behaviors'\n\nconst updateWhenVisible = (() => {\n  const anchors = new Set<AnchoredPositionElement>()\n  let intersectionObserver: IntersectionObserver | null = null\n  let resizeObserver: ResizeObserver | null = null\n  function updateVisibleAnchors() {\n    for (const anchor of anchors) {\n      anchor.update()\n    }\n  }\n  return (el: AnchoredPositionElement) => {\n    // eslint-disable-next-line github/prefer-observers\n    window.addEventListener('resize', updateVisibleAnchors)\n    // eslint-disable-next-line github/prefer-observers\n    window.addEventListener('scroll', updateVisibleAnchors)\n    intersectionObserver ||= new IntersectionObserver(entries => {\n      for (const entry of entries) {\n        const target = entry.target as AnchoredPositionElement\n        if (entry.isIntersecting) {\n          target.update()\n          anchors.add(target)\n        } else {\n          anchors.delete(target)\n        }\n      }\n    })\n    resizeObserver ||= new ResizeObserver(() => {\n      for (const anchor of anchors) {\n        anchor.update()\n      }\n    })\n    resizeObserver.observe(el.ownerDocument.documentElement)\n    intersectionObserver.observe(el)\n  }\n})()\n\nexport default class AnchoredPositionElement extends HTMLElement implements PositionSettings {\n  get align(): AnchorAlignment {\n    const value = this.getAttribute('align')\n    if (value === 'center' || value === 'end') return value\n    return 'start'\n  }\n\n  set align(value: AnchorAlignment) {\n    this.setAttribute('align', `${value}`)\n  }\n\n  get side(): AnchorSide {\n    const value = this.getAttribute('side')\n    if (\n      value === 'inside-top' ||\n      value === 'inside-bottom' ||\n      value === 'inside-left' ||\n      value === 'inside-right' ||\n      value === 'inside-center' ||\n      value === 'outside-top' ||\n      value === 'outside-left' ||\n      value === 'outside-right'\n    ) {\n      return value\n    }\n    return 'outside-bottom'\n  }\n\n  set side(value: AnchorSide) {\n    this.setAttribute('side', `${value}`)\n  }\n\n  get anchorOffset(): number {\n    const alias = this.getAttribute('anchor-offset')\n    if (alias === 'spacious' || alias === '8') return 8\n    return 4\n  }\n\n  set anchorOffset(value: number | 'normal' | 'spacious') {\n    this.setAttribute('anchor-offset', `${value}`)\n  }\n\n  get anchor() {\n    return this.getAttribute('anchor') || ''\n  }\n\n  set anchor(value: string) {\n    this.setAttribute('anchor', `${value}`)\n  }\n\n  #anchorElement: HTMLElement | null = null\n  get anchorElement(): HTMLElement | null {\n    if (this.#anchorElement) return this.#anchorElement\n    const idRef = this.anchor\n    if (!idRef) return null\n    return this.ownerDocument.getElementById(idRef)\n  }\n\n  set anchorElement(value: HTMLElement | null) {\n    this.#anchorElement = value\n    if (!this.#anchorElement) {\n      this.removeAttribute('anchor')\n    }\n  }\n\n  get alignmentOffset(): number {\n    return Number(this.getAttribute('alignment-offset'))\n  }\n\n  set alignmentOffset(value: number) {\n    this.setAttribute('alignment-offset', `${value}`)\n  }\n\n  get allowOutOfBounds() {\n    return this.hasAttribute('allow-out-of-bounds')\n  }\n\n  set allowOutOfBounds(value: boolean) {\n    this.toggleAttribute('allow-out-of-bounds', value)\n  }\n\n  connectedCallback() {\n    this.update()\n    this.addEventListener('beforetoggle', () => this.update())\n    updateWhenVisible(this)\n  }\n\n  static observedAttributes = ['align', 'side', 'anchor', 'alignment-offset', 'allow-out-of-bounds']\n  attributeChangedCallback() {\n    this.update()\n  }\n\n  #animationFrame: ReturnType<typeof requestAnimationFrame>\n  update() {\n    if (!this.isConnected) return\n    cancelAnimationFrame(this.#animationFrame)\n\n    this.#animationFrame = requestAnimationFrame(() => {\n      const anchor = this.anchorElement\n      this.classList.toggle('not-anchored', !anchor)\n      if (anchor) {\n        const {left, top} = getAnchoredPosition(this, anchor, this)\n        this.style.top = `${top}px`\n        this.style.left = `${left}px`\n        this.style.bottom = 'auto'\n        this.style.right = 'auto'\n      } else {\n        this.style.top = '0'\n        this.style.left = '0'\n        this.style.bottom = '0'\n        this.style.right = '0'\n      }\n    })\n  }\n}\n\nif (!customElements.get('anchored-position')) {\n  window.AnchoredPositionElement = AnchoredPositionElement\n  customElements.define('anchored-position', AnchoredPositionElement)\n}\n\ndeclare global {\n  interface Window {\n    AnchoredPositionElement: typeof AnchoredPositionElement\n  }\n}\n","function dialogInvokerButtonHandler(event: Event) {\n  const target = event.target as HTMLElement\n  const button = target?.closest('button')\n\n  if (!button || button.hasAttribute('disabled') || button.getAttribute('aria-disabled') === 'true') return\n\n  // If the user is clicking a valid dialog trigger\n  let dialogId = button?.getAttribute('data-show-dialog-id')\n  if (dialogId) {\n    const dialog = document.getElementById(dialogId)\n    if (dialog instanceof HTMLDialogElement) {\n      dialog.showModal()\n      // A buttons default behaviour in some browsers it to send a pointer event\n      // If the behaviour is allowed through the dialog will be shown but then\n      // quickly hidden- as if it were never shown. This prevents that.\n      event.preventDefault()\n\n      // In some older browsers, such as Chrome 122, when a top layer element (such as a dialog)\n      // opens from within a popover, the \"hide all popovers\" internal algorithm runs, hiding\n      // any popover that is currently open, regardless of whether or not another top layer element,\n      // such as a <dialog> is nested inside.\n      // See https://github.com/whatwg/html/issues/9998.\n      // This is fixed by https://github.com/whatwg/html/pull/10116, but while we still support browsers\n      // that present this bug, we must undo the work they did to hide ancestral popovers of the dialog:\n      let node: HTMLElement | null | undefined = button\n      let fixed = false\n      while (node) {\n        node = node.parentElement?.closest('[popover]:not(:popover-open)')\n        if (node && node.popover === 'auto') {\n          node.classList.add('dialog-inside-popover-fix')\n          node.popover = 'manual'\n          node.showPopover()\n          fixed = true\n        }\n      }\n      if (fixed) {\n        // We need to re-open the dialog as modal, and also ensure no close event listeners\n        // are trying to act on the close\n        /* eslint-disable-next-line no-restricted-syntax */\n        dialog.addEventListener('close', e => e.stopImmediatePropagation(), {once: true})\n        dialog.close()\n        dialog.showModal()\n        dialog.addEventListener(\n          'close',\n          () => {\n            for (const el of dialog.ownerDocument.querySelectorAll<HTMLElement>('.dialog-inside-popover-fix')) {\n              if (el.contains(dialog)) {\n                el.classList.remove('dialog-inside-popover-fix')\n                el.popover = 'auto'\n                el.showPopover()\n              }\n            }\n          },\n          {once: true},\n        )\n      }\n    }\n  }\n\n  dialogId = button.getAttribute('data-close-dialog-id') || button.getAttribute('data-submit-dialog-id')\n  if (dialogId) {\n    const dialog = document.getElementById(dialogId)\n    if (dialog instanceof HTMLDialogElement && dialog.open) {\n      dialog.close()\n    }\n  }\n}\n\nexport class DialogHelperElement extends HTMLElement {\n  get dialog() {\n    return this.querySelector('dialog')\n  }\n\n  #abortController: AbortController | null = null\n  connectedCallback() {\n    const {signal} = (this.#abortController = new AbortController())\n    document.addEventListener('click', dialogInvokerButtonHandler, true)\n    document.addEventListener('click', this, {signal})\n    this.ownerDocument.body.style.setProperty(\n      '--dialog-scrollgutter',\n      `${window.innerWidth - this.ownerDocument.body.clientWidth}px`,\n    )\n    new MutationObserver(records => {\n      for (const record of records) {\n        if (record.target === this.dialog) {\n          this.#handleDialogOpenAttribute()\n        }\n      }\n    }).observe(this, {subtree: true, attributeFilter: ['open']})\n    this.#handleDialogOpenAttribute()\n  }\n\n  disconnectedCallback() {\n    this.#abortController?.abort()\n  }\n\n  #handleDialogOpenAttribute() {\n    if (!this.dialog) return\n    this.ownerDocument.body.classList.toggle('has-modal', this.dialog.matches(':modal'))\n    // We don't want to show the Dialog component as non-modal\n    if (this.dialog.matches('[open]:not(:modal)')) {\n      // eslint-disable-next-line no-restricted-syntax\n      this.dialog.addEventListener('close', e => e.stopImmediatePropagation(), {once: true})\n      this.dialog.close()\n      this.dialog.showModal()\n    }\n  }\n\n  handleEvent(event: MouseEvent) {\n    const target = event.target as HTMLElement\n    const dialog = this.dialog\n    // The click target _must_ be the dialog element itself, and not elements underneath or inside.\n    if (target !== dialog || !dialog?.open) return\n\n    const rect = dialog.getBoundingClientRect()\n    const clickWasInsideDialog =\n      rect.top <= event.clientY &&\n      event.clientY <= rect.top + rect.height &&\n      rect.left <= event.clientX &&\n      event.clientX <= rect.left + rect.width\n\n    if (!clickWasInsideDialog) {\n      dialog.close()\n    }\n  }\n}\n\ndeclare global {\n  interface Window {\n    DialogHelperElement: typeof DialogHelperElement\n  }\n  interface HTMLElementTagNameMap {\n    'dialog-helper': DialogHelperElement\n  }\n}\n\nif (!window.customElements.get('dialog-helper')) {\n  window.DialogHelperElement = DialogHelperElement\n  window.customElements.define('dialog-helper', DialogHelperElement)\n}\n","// src/events.ts\nvar ToggleEvent = class extends Event {\n  oldState;\n  newState;\n  constructor(type, { oldState = \"\", newState = \"\", ...init } = {}) {\n    super(type, init);\n    this.oldState = String(oldState || \"\");\n    this.newState = String(newState || \"\");\n  }\n};\nvar popoverToggleTaskQueue = /* @__PURE__ */ new WeakMap();\nfunction queuePopoverToggleEventTask(element, oldState, newState) {\n  popoverToggleTaskQueue.set(\n    element,\n    setTimeout(() => {\n      if (!popoverToggleTaskQueue.has(element)) return;\n      element.dispatchEvent(\n        new ToggleEvent(\"toggle\", {\n          cancelable: false,\n          oldState,\n          newState\n        })\n      );\n    }, 0)\n  );\n}\n\n// src/popover-helpers.ts\nvar ShadowRoot = globalThis.ShadowRoot || function() {\n};\nvar HTMLDialogElement = globalThis.HTMLDialogElement || function() {\n};\nvar topLayerElements = /* @__PURE__ */ new WeakMap();\nvar autoPopoverList = /* @__PURE__ */ new WeakMap();\nvar visibilityState = /* @__PURE__ */ new WeakMap();\nfunction getPopoverVisibilityState(popover) {\n  return visibilityState.get(popover) || \"hidden\";\n}\nvar popoverInvoker = /* @__PURE__ */ new WeakMap();\nfunction popoverTargetAttributeActivationBehavior(element) {\n  const popover = element.popoverTargetElement;\n  if (!(popover instanceof HTMLElement)) {\n    return;\n  }\n  const visibility = getPopoverVisibilityState(popover);\n  if (element.popoverTargetAction === \"show\" && visibility === \"showing\") {\n    return;\n  }\n  if (element.popoverTargetAction === \"hide\" && visibility === \"hidden\") return;\n  if (visibility === \"showing\") {\n    hidePopover(popover, true, true);\n  } else if (checkPopoverValidity(popover, false)) {\n    popoverInvoker.set(popover, element);\n    showPopover(popover);\n  }\n}\nfunction checkPopoverValidity(element, expectedToBeShowing) {\n  if (element.popover !== \"auto\" && element.popover !== \"manual\") {\n    return false;\n  }\n  if (!element.isConnected) return false;\n  if (expectedToBeShowing && getPopoverVisibilityState(element) !== \"showing\") {\n    return false;\n  }\n  if (!expectedToBeShowing && getPopoverVisibilityState(element) !== \"hidden\") {\n    return false;\n  }\n  if (element instanceof HTMLDialogElement && element.hasAttribute(\"open\")) {\n    return false;\n  }\n  if (document.fullscreenElement === element) return false;\n  return true;\n}\nfunction getStackPosition(popover) {\n  if (!popover) return 0;\n  return Array.from(autoPopoverList.get(popover.ownerDocument) || []).indexOf(\n    popover\n  ) + 1;\n}\nfunction topMostClickedPopover(target) {\n  const clickedPopover = nearestInclusiveOpenPopover(target);\n  const invokerPopover = nearestInclusiveTargetPopoverForInvoker(target);\n  if (getStackPosition(clickedPopover) > getStackPosition(invokerPopover)) {\n    return clickedPopover;\n  }\n  return invokerPopover;\n}\nfunction topMostAutoPopover(document2) {\n  const documentPopovers = autoPopoverList.get(document2);\n  for (const popover of documentPopovers || []) {\n    if (!popover.isConnected) {\n      documentPopovers.delete(popover);\n    } else {\n      return popover;\n    }\n  }\n  return null;\n}\nfunction getRootNode(node) {\n  if (typeof node.getRootNode === \"function\") {\n    return node.getRootNode();\n  }\n  if (node.parentNode) return getRootNode(node.parentNode);\n  return node;\n}\nfunction nearestInclusiveOpenPopover(node) {\n  while (node) {\n    if (node instanceof HTMLElement && node.popover === \"auto\" && visibilityState.get(node) === \"showing\") {\n      return node;\n    }\n    node = node instanceof Element && node.assignedSlot || node.parentElement || getRootNode(node);\n    if (node instanceof ShadowRoot) node = node.host;\n    if (node instanceof Document) return;\n  }\n}\nfunction nearestInclusiveTargetPopoverForInvoker(node) {\n  while (node) {\n    const nodePopover = node.popoverTargetElement;\n    if (nodePopover instanceof HTMLElement) return nodePopover;\n    node = node.parentElement || getRootNode(node);\n    if (node instanceof ShadowRoot) node = node.host;\n    if (node instanceof Document) return;\n  }\n}\nfunction topMostPopoverAncestor(newPopover) {\n  const popoverPositions = /* @__PURE__ */ new Map();\n  let i = 0;\n  for (const popover of autoPopoverList.get(newPopover.ownerDocument) || []) {\n    popoverPositions.set(popover, i);\n    i += 1;\n  }\n  popoverPositions.set(newPopover, i);\n  i += 1;\n  let topMostPopoverAncestor2 = null;\n  function checkAncestor(candidate) {\n    const candidateAncestor = nearestInclusiveOpenPopover(candidate);\n    if (candidateAncestor === null) return null;\n    const candidatePosition = popoverPositions.get(candidateAncestor);\n    if (topMostPopoverAncestor2 === null || popoverPositions.get(topMostPopoverAncestor2) < candidatePosition) {\n      topMostPopoverAncestor2 = candidateAncestor;\n    }\n  }\n  checkAncestor(newPopover.parentElement || getRootNode(newPopover));\n  return topMostPopoverAncestor2;\n}\nfunction isFocusable(focusTarget) {\n  if (focusTarget.hidden || focusTarget instanceof ShadowRoot) return false;\n  if (focusTarget instanceof HTMLButtonElement || focusTarget instanceof HTMLInputElement || focusTarget instanceof HTMLSelectElement || focusTarget instanceof HTMLTextAreaElement || focusTarget instanceof HTMLOptGroupElement || focusTarget instanceof HTMLOptionElement || focusTarget instanceof HTMLFieldSetElement) {\n    if (focusTarget.disabled) return false;\n  }\n  if (focusTarget instanceof HTMLInputElement && focusTarget.type === \"hidden\") {\n    return false;\n  }\n  if (focusTarget instanceof HTMLAnchorElement && focusTarget.href === \"\") {\n    return false;\n  }\n  return typeof focusTarget.tabIndex === \"number\" && focusTarget.tabIndex !== -1;\n}\nfunction focusDelegate(focusTarget) {\n  if (focusTarget.shadowRoot && focusTarget.shadowRoot.delegatesFocus !== true) {\n    return null;\n  }\n  let whereToLook = focusTarget;\n  if (whereToLook.shadowRoot) {\n    whereToLook = whereToLook.shadowRoot;\n  }\n  let autoFocusDelegate = whereToLook.querySelector(\"[autofocus]\");\n  if (autoFocusDelegate) {\n    return autoFocusDelegate;\n  } else {\n    const slots = whereToLook.querySelectorAll(\"slot\");\n    for (const slot of slots) {\n      const assignedElements = slot.assignedElements({ flatten: true });\n      for (const el of assignedElements) {\n        if (el.hasAttribute(\"autofocus\")) {\n          return el;\n        } else {\n          autoFocusDelegate = el.querySelector(\"[autofocus]\");\n          if (autoFocusDelegate) {\n            return autoFocusDelegate;\n          }\n        }\n      }\n    }\n  }\n  const walker = focusTarget.ownerDocument.createTreeWalker(\n    whereToLook,\n    NodeFilter.SHOW_ELEMENT\n  );\n  let descendant = walker.currentNode;\n  while (descendant) {\n    if (isFocusable(descendant)) {\n      return descendant;\n    }\n    descendant = walker.nextNode();\n  }\n}\nfunction popoverFocusingSteps(subject) {\n  focusDelegate(subject)?.focus();\n}\nvar previouslyFocusedElements = /* @__PURE__ */ new WeakMap();\nfunction showPopover(element) {\n  if (!checkPopoverValidity(element, false)) {\n    return;\n  }\n  const document2 = element.ownerDocument;\n  if (!element.dispatchEvent(\n    new ToggleEvent(\"beforetoggle\", {\n      cancelable: true,\n      oldState: \"closed\",\n      newState: \"open\"\n    })\n  )) {\n    return;\n  }\n  if (!checkPopoverValidity(element, false)) {\n    return;\n  }\n  let shouldRestoreFocus = false;\n  if (element.popover === \"auto\") {\n    const originalType = element.getAttribute(\"popover\");\n    const ancestor = topMostPopoverAncestor(element) || document2;\n    hideAllPopoversUntil(ancestor, false, true);\n    if (originalType !== element.getAttribute(\"popover\") || !checkPopoverValidity(element, false)) {\n      return;\n    }\n  }\n  if (!topMostAutoPopover(document2)) {\n    shouldRestoreFocus = true;\n  }\n  previouslyFocusedElements.delete(element);\n  const originallyFocusedElement = document2.activeElement;\n  element.classList.add(\":popover-open\");\n  visibilityState.set(element, \"showing\");\n  if (!topLayerElements.has(document2)) {\n    topLayerElements.set(document2, /* @__PURE__ */ new Set());\n  }\n  topLayerElements.get(document2).add(element);\n  popoverFocusingSteps(element);\n  if (element.popover === \"auto\") {\n    if (!autoPopoverList.has(document2)) {\n      autoPopoverList.set(document2, /* @__PURE__ */ new Set());\n    }\n    autoPopoverList.get(document2).add(element);\n    setInvokerAriaExpanded(popoverInvoker.get(element), true);\n  }\n  if (shouldRestoreFocus && originallyFocusedElement && element.popover === \"auto\") {\n    previouslyFocusedElements.set(element, originallyFocusedElement);\n  }\n  queuePopoverToggleEventTask(element, \"closed\", \"open\");\n}\nfunction hidePopover(element, focusPreviousElement = false, fireEvents = false) {\n  if (!checkPopoverValidity(element, true)) {\n    return;\n  }\n  const document2 = element.ownerDocument;\n  if (element.popover === \"auto\") {\n    hideAllPopoversUntil(element, focusPreviousElement, fireEvents);\n    if (!checkPopoverValidity(element, true)) {\n      return;\n    }\n  }\n  setInvokerAriaExpanded(popoverInvoker.get(element), false);\n  popoverInvoker.delete(element);\n  if (fireEvents) {\n    element.dispatchEvent(\n      new ToggleEvent(\"beforetoggle\", {\n        oldState: \"open\",\n        newState: \"closed\"\n      })\n    );\n    if (!checkPopoverValidity(element, true)) {\n      return;\n    }\n  }\n  topLayerElements.get(document2)?.delete(element);\n  autoPopoverList.get(document2)?.delete(element);\n  element.classList.remove(\":popover-open\");\n  visibilityState.set(element, \"hidden\");\n  if (fireEvents) {\n    queuePopoverToggleEventTask(element, \"open\", \"closed\");\n  }\n  const previouslyFocusedElement = previouslyFocusedElements.get(element);\n  if (previouslyFocusedElement) {\n    previouslyFocusedElements.delete(element);\n    if (focusPreviousElement) {\n      previouslyFocusedElement.focus();\n    }\n  }\n}\nfunction closeAllOpenPopovers(document2, focusPreviousElement = false, fireEvents = false) {\n  let popover = topMostAutoPopover(document2);\n  while (popover) {\n    hidePopover(popover, focusPreviousElement, fireEvents);\n    popover = topMostAutoPopover(document2);\n  }\n}\nfunction hideAllPopoversUntil(endpoint, focusPreviousElement, fireEvents) {\n  const document2 = endpoint.ownerDocument || endpoint;\n  if (endpoint instanceof Document) {\n    return closeAllOpenPopovers(document2, focusPreviousElement, fireEvents);\n  }\n  let lastToHide = null;\n  let foundEndpoint = false;\n  for (const popover of autoPopoverList.get(document2) || []) {\n    if (popover === endpoint) {\n      foundEndpoint = true;\n    } else if (foundEndpoint) {\n      lastToHide = popover;\n      break;\n    }\n  }\n  if (!foundEndpoint) {\n    return closeAllOpenPopovers(document2, focusPreviousElement, fireEvents);\n  }\n  while (lastToHide && getPopoverVisibilityState(lastToHide) === \"showing\" && autoPopoverList.get(document2)?.size) {\n    hidePopover(lastToHide, focusPreviousElement, fireEvents);\n  }\n}\nvar popoverPointerDownTargets = /* @__PURE__ */ new WeakMap();\nfunction lightDismissOpenPopovers(event) {\n  if (!event.isTrusted) return;\n  const target = event.composedPath()[0];\n  if (!target) return;\n  const document2 = target.ownerDocument;\n  const topMostPopover = topMostAutoPopover(document2);\n  if (!topMostPopover) return;\n  const ancestor = topMostClickedPopover(target);\n  if (ancestor && event.type === \"pointerdown\") {\n    popoverPointerDownTargets.set(document2, ancestor);\n  } else if (event.type === \"pointerup\") {\n    const sameTarget = popoverPointerDownTargets.get(document2) === ancestor;\n    popoverPointerDownTargets.delete(document2);\n    if (sameTarget) {\n      hideAllPopoversUntil(ancestor || document2, false, true);\n    }\n  }\n}\nvar initialAriaExpandedValue = /* @__PURE__ */ new WeakMap();\nfunction setInvokerAriaExpanded(el, force = false) {\n  if (!el) return;\n  if (!initialAriaExpandedValue.has(el)) {\n    initialAriaExpandedValue.set(el, el.getAttribute(\"aria-expanded\"));\n  }\n  const popover = el.popoverTargetElement;\n  if (popover instanceof HTMLElement && popover.popover === \"auto\") {\n    el.setAttribute(\"aria-expanded\", String(force));\n  } else {\n    const initialValue = initialAriaExpandedValue.get(el);\n    if (!initialValue) {\n      el.removeAttribute(\"aria-expanded\");\n    } else {\n      el.setAttribute(\"aria-expanded\", initialValue);\n    }\n  }\n}\n\n// src/popover.ts\nvar ShadowRoot2 = globalThis.ShadowRoot || function() {\n};\nfunction isSupported() {\n  return typeof HTMLElement !== \"undefined\" && typeof HTMLElement.prototype === \"object\" && \"popover\" in HTMLElement.prototype;\n}\nfunction patchSelectorFn(object, name, mapper) {\n  const original = object[name];\n  Object.defineProperty(object, name, {\n    value(selector) {\n      return original.call(this, mapper(selector));\n    }\n  });\n}\nvar nonEscapedPopoverSelector = /(^|[^\\\\]):popover-open\\b/g;\nfunction hasLayerSupport() {\n  return typeof globalThis.CSSLayerBlockRule === \"function\";\n}\nfunction getStyles() {\n  const useLayer = hasLayerSupport();\n  return `\n${useLayer ? \"@layer popover-polyfill {\" : \"\"}\n  :where([popover]) {\n    position: fixed;\n    z-index: 2147483647;\n    inset: 0;\n    padding: 0.25em;\n    width: fit-content;\n    height: fit-content;\n    border-width: initial;\n    border-color: initial;\n    border-image: initial;\n    border-style: solid;\n    background-color: canvas;\n    color: canvastext;\n    overflow: auto;\n    margin: auto;\n  }\n\n  :where([popover]:not(.\\\\:popover-open)) {\n    display: none;\n  }\n\n  :where(dialog[popover].\\\\:popover-open) {\n    display: block;\n  }\n\n  :where(dialog[popover][open]) {\n    display: revert;\n  }\n\n  :where([anchor].\\\\:popover-open) {\n    inset: auto;\n  }\n\n  :where([anchor]:popover-open) {\n    inset: auto;\n  }\n\n  @supports not (background-color: canvas) {\n    :where([popover]) {\n      background-color: white;\n      color: black;\n    }\n  }\n\n  @supports (width: -moz-fit-content) {\n    :where([popover]) {\n      width: -moz-fit-content;\n      height: -moz-fit-content;\n    }\n  }\n\n  @supports not (inset: 0) {\n    :where([popover]) {\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n    }\n  }\n${useLayer ? \"}\" : \"\"}\n`;\n}\nvar popoverStyleSheet = null;\nfunction injectStyles(root) {\n  const styles = getStyles();\n  if (popoverStyleSheet === null) {\n    try {\n      popoverStyleSheet = new CSSStyleSheet();\n      popoverStyleSheet.replaceSync(styles);\n    } catch {\n      popoverStyleSheet = false;\n    }\n  }\n  if (popoverStyleSheet === false) {\n    const sheet = document.createElement(\"style\");\n    sheet.textContent = styles;\n    if (root instanceof Document) {\n      root.head.prepend(sheet);\n    } else {\n      root.prepend(sheet);\n    }\n  } else {\n    root.adoptedStyleSheets = [popoverStyleSheet, ...root.adoptedStyleSheets];\n  }\n}\nfunction apply() {\n  if (typeof window === \"undefined\") return;\n  window.ToggleEvent = window.ToggleEvent || ToggleEvent;\n  function rewriteSelector(selector) {\n    if (selector?.includes(\":popover-open\")) {\n      selector = selector.replace(\n        nonEscapedPopoverSelector,\n        \"$1.\\\\:popover-open\"\n      );\n    }\n    return selector;\n  }\n  patchSelectorFn(Document.prototype, \"querySelector\", rewriteSelector);\n  patchSelectorFn(Document.prototype, \"querySelectorAll\", rewriteSelector);\n  patchSelectorFn(Element.prototype, \"querySelector\", rewriteSelector);\n  patchSelectorFn(Element.prototype, \"querySelectorAll\", rewriteSelector);\n  patchSelectorFn(Element.prototype, \"matches\", rewriteSelector);\n  patchSelectorFn(Element.prototype, \"closest\", rewriteSelector);\n  patchSelectorFn(\n    DocumentFragment.prototype,\n    \"querySelectorAll\",\n    rewriteSelector\n  );\n  Object.defineProperties(HTMLElement.prototype, {\n    popover: {\n      enumerable: true,\n      configurable: true,\n      get() {\n        if (!this.hasAttribute(\"popover\")) return null;\n        const value = (this.getAttribute(\"popover\") || \"\").toLowerCase();\n        if (value === \"\" || value == \"auto\") return \"auto\";\n        return \"manual\";\n      },\n      set(value) {\n        this.setAttribute(\"popover\", value);\n      }\n    },\n    showPopover: {\n      enumerable: true,\n      configurable: true,\n      value() {\n        showPopover(this);\n      }\n    },\n    hidePopover: {\n      enumerable: true,\n      configurable: true,\n      value() {\n        hidePopover(this, true, true);\n      }\n    },\n    togglePopover: {\n      enumerable: true,\n      configurable: true,\n      value(force) {\n        if (visibilityState.get(this) === \"showing\" && force === void 0 || force === false) {\n          hidePopover(this, true, true);\n        } else if (force === void 0 || force === true) {\n          showPopover(this);\n        }\n      }\n    }\n  });\n  const originalAttachShadow = Element.prototype.attachShadow;\n  if (originalAttachShadow) {\n    Object.defineProperties(Element.prototype, {\n      attachShadow: {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value(options) {\n          const shadowRoot = originalAttachShadow.call(this, options);\n          injectStyles(shadowRoot);\n          return shadowRoot;\n        }\n      }\n    });\n  }\n  const originalAttachInternals = HTMLElement.prototype.attachInternals;\n  if (originalAttachInternals) {\n    Object.defineProperties(HTMLElement.prototype, {\n      attachInternals: {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value() {\n          const internals = originalAttachInternals.call(this);\n          if (internals.shadowRoot) {\n            injectStyles(internals.shadowRoot);\n          }\n          return internals;\n        }\n      }\n    });\n  }\n  const popoverTargetAssociatedElements = /* @__PURE__ */ new WeakMap();\n  function applyPopoverInvokerElementMixin(ElementClass) {\n    Object.defineProperties(ElementClass.prototype, {\n      popoverTargetElement: {\n        enumerable: true,\n        configurable: true,\n        set(targetElement) {\n          if (targetElement === null) {\n            this.removeAttribute(\"popovertarget\");\n            popoverTargetAssociatedElements.delete(this);\n          } else if (!(targetElement instanceof Element)) {\n            throw new TypeError(\n              `popoverTargetElement must be an element or null`\n            );\n          } else {\n            this.setAttribute(\"popovertarget\", \"\");\n            popoverTargetAssociatedElements.set(this, targetElement);\n          }\n        },\n        get() {\n          if (this.localName !== \"button\" && this.localName !== \"input\") {\n            return null;\n          }\n          if (this.localName === \"input\" && this.type !== \"reset\" && this.type !== \"image\" && this.type !== \"button\") {\n            return null;\n          }\n          if (this.disabled) {\n            return null;\n          }\n          if (this.form && this.type === \"submit\") {\n            return null;\n          }\n          const targetElement = popoverTargetAssociatedElements.get(this);\n          if (targetElement && targetElement.isConnected) {\n            return targetElement;\n          } else if (targetElement && !targetElement.isConnected) {\n            popoverTargetAssociatedElements.delete(this);\n            return null;\n          }\n          const root = getRootNode(this);\n          const idref = this.getAttribute(\"popovertarget\");\n          if ((root instanceof Document || root instanceof ShadowRoot2) && idref) {\n            return root.getElementById(idref) || null;\n          }\n          return null;\n        }\n      },\n      popoverTargetAction: {\n        enumerable: true,\n        configurable: true,\n        get() {\n          const value = (this.getAttribute(\"popovertargetaction\") || \"\").toLowerCase();\n          if (value === \"show\" || value === \"hide\") return value;\n          return \"toggle\";\n        },\n        set(value) {\n          this.setAttribute(\"popovertargetaction\", value);\n        }\n      }\n    });\n  }\n  applyPopoverInvokerElementMixin(HTMLButtonElement);\n  applyPopoverInvokerElementMixin(HTMLInputElement);\n  const handleInvokerActivation = (event) => {\n    const composedPath = event.composedPath();\n    const target = composedPath[0];\n    if (!(target instanceof Element) || target?.shadowRoot) {\n      return;\n    }\n    const root = getRootNode(target);\n    if (!(root instanceof ShadowRoot2 || root instanceof Document)) {\n      return;\n    }\n    const invoker = composedPath.find(\n      (el) => el.matches?.(\"[popovertargetaction],[popovertarget]\")\n    );\n    if (invoker) {\n      popoverTargetAttributeActivationBehavior(invoker);\n      event.preventDefault();\n      return;\n    }\n  };\n  const onKeydown = (event) => {\n    const key = event.key;\n    const target = event.target;\n    if (!event.defaultPrevented && target && (key === \"Escape\" || key === \"Esc\")) {\n      hideAllPopoversUntil(target.ownerDocument, true, true);\n    }\n  };\n  const addEventListeners = (root) => {\n    root.addEventListener(\"click\", handleInvokerActivation);\n    root.addEventListener(\"keydown\", onKeydown);\n    root.addEventListener(\"pointerdown\", lightDismissOpenPopovers);\n    root.addEventListener(\"pointerup\", lightDismissOpenPopovers);\n  };\n  addEventListeners(document);\n  injectStyles(document);\n}\n\n// src/index.ts\nif (!isSupported()) apply();\n//# sourceMappingURL=popover.js.map\n","import '@oddbird/popover-polyfill'\n\nconst validSelectors = ['[role=\"menuitem\"]', '[role=\"menuitemcheckbox\"]', '[role=\"menuitemradio\"]', '[role=\"option\"]']\nconst menuItemSelector = validSelectors.map(selector => `:not([hidden]) > ${selector}`).join(', ')\n\nconst getMnemonicFor = (item: Element) => item.textContent?.trim()[0].toLowerCase()\n\nconst printable = /^\\S$/\n\nexport default class FocusGroupElement extends HTMLElement {\n  #retainSignal: AbortController | null = null\n\n  get nowrap(): boolean {\n    return this.hasAttribute('nowrap')\n  }\n\n  set nowrap(value: boolean) {\n    this.toggleAttribute('nowrap', value)\n  }\n\n  get direction(): 'horizontal' | 'vertical' | 'both' {\n    if (this.getAttribute('direction') === 'horizontal') return 'horizontal'\n    return 'vertical'\n  }\n\n  set direction(value: 'horizontal' | 'vertical' | 'both') {\n    this.setAttribute('direction', `${value}`)\n  }\n\n  get retain() {\n    return this.hasAttribute('retain')\n  }\n\n  set retain(value: boolean) {\n    this.toggleAttribute('retain', value)\n  }\n\n  get mnemonics() {\n    return this.hasAttribute('mnemonics')\n  }\n\n  #abortController: AbortController | null = null\n  connectedCallback() {\n    this.#abortController = new AbortController()\n    const {signal} = this.#abortController\n\n    this.addEventListener('keydown', this, {signal})\n    this.addEventListener('click', this, {signal})\n    this.addEventListener('mouseover', this, {signal})\n    this.addEventListener('focusin', this, {signal})\n  }\n\n  disconnectedCallback() {\n    this.#abortController?.abort()\n  }\n\n  get #items() {\n    return this.querySelectorAll(menuItemSelector)\n  }\n\n  handleEvent(event: Event) {\n    const {direction, nowrap} = this\n    if (event.type === 'focusin') {\n      if (this.retain && event.target instanceof Element && event.target.matches(menuItemSelector)) {\n        this.#retainSignal?.abort()\n        const {signal} = (this.#retainSignal = new AbortController())\n        for (const item of this.#items) {\n          item.setAttribute('tabindex', item === event.target ? '0' : '-1')\n          const popover = event.target.closest<HTMLElement>('[popover]')\n          if (item === event.target && popover?.popover === 'auto' && popover.closest('focus-group') === this) {\n            popover.addEventListener(\n              'toggle',\n              (toggleEvent: Event) => {\n                if (!(toggleEvent.target instanceof Element)) return\n                if ((toggleEvent as ToggleEvent).newState === 'closed') {\n                  this.#retainSignal?.abort()\n                  item.setAttribute('tabindex', '-1')\n                  if (popover.id) {\n                    const invoker = this.querySelector(`[popovertarget=\"${popover.id}\"]`)\n                    if (invoker) {\n                      invoker.setAttribute('tabindex', '0')\n                    } else {\n                      this.#items[0]?.setAttribute('tabindex', '0')\n                    }\n                  }\n                }\n              },\n              {signal},\n            )\n          }\n        }\n      }\n    } else if (event instanceof KeyboardEvent) {\n      const items = Array.from(this.#items)\n      let index = items.indexOf(event.target as Element)\n      const key = event.key\n      if (key === 'Up' || key === 'ArrowUp') {\n        if (direction === 'vertical' || direction === 'both') {\n          index -= index < 0 ? 0 : 1\n          event.preventDefault()\n        }\n      } else if (key === 'Down' || key === 'ArrowDown') {\n        if (direction === 'vertical' || direction === 'both') {\n          index += 1\n          event.preventDefault()\n        }\n      } else if (event.key === 'Left' || event.key === 'ArrowLeft') {\n        if (direction === 'horizontal' || direction === 'both') {\n          index -= 1\n          event.preventDefault()\n        }\n      } else if (event.key === 'Right' || event.key === 'ArrowRight') {\n        if (direction === 'horizontal' || direction === 'both') {\n          index += 1\n          event.preventDefault()\n        }\n      } else if (event.key === 'Home' || event.key === 'PageUp') {\n        index = 0\n        event.preventDefault()\n      } else if (event.key === 'End' || event.key === 'PageDown') {\n        index = items.length - 1\n        event.preventDefault()\n      } else if (this.mnemonics && printable.test(key)) {\n        const mnemonic = key.toLowerCase()\n        const offset = index > 0 && getMnemonicFor(event.target as Element) === mnemonic ? index : 0\n        index = items.findIndex((item, i) => i > offset && getMnemonicFor(item) === mnemonic)\n        if (index < 0 && !nowrap) {\n          index = items.findIndex(item => getMnemonicFor(item) === mnemonic)\n        }\n      } else {\n        return\n      }\n      if (nowrap && index < 0) index = 0\n      if (!nowrap && index >= items.length) index = 0\n      const focusEl = items.at(Math.min(index, items.length - 1)) as HTMLElement\n      {\n        let el: HTMLElement | null = focusEl\n        do {\n          el = el.closest(`[popover]:not(:popover-open)`)\n          if (el?.popover === 'auto' && !['ArrowRight', 'ArrowLeft'].includes(event.key)) {\n            el.showPopover()\n          }\n          el = el?.parentElement || null\n        } while (el)\n      }\n      focusEl?.focus()\n    }\n  }\n}\n\nif (!customElements.get('focus-group')) {\n  window.FocusGroupElement = FocusGroupElement\n  customElements.define('focus-group', FocusGroupElement)\n}\n\ndeclare global {\n  interface Window {\n    FocusGroupElement: typeof FocusGroupElement\n  }\n}\n","import {controller, attr} from '@github/catalyst'\n\n@controller\nexport class ScrollableRegionElement extends HTMLElement {\n  @attr hasOverflow = false\n  @attr labelledBy = ''\n\n  observer: ResizeObserver\n\n  connectedCallback() {\n    this.style.overflow = 'auto'\n\n    this.observer = new ResizeObserver(entries => {\n      for (const entry of entries) {\n        this.hasOverflow =\n          entry.target.scrollHeight > entry.target.clientHeight || entry.target.scrollWidth > entry.target.clientWidth\n      }\n    })\n\n    this.observer.observe(this)\n  }\n\n  disconnectedCallback() {\n    this.observer.disconnect()\n  }\n\n  attributeChangedCallback(name: string) {\n    if (name === 'data-has-overflow') {\n      if (this.hasOverflow) {\n        this.setAttribute('aria-labelledby', this.labelledBy)\n        this.setAttribute('role', 'region')\n        this.setAttribute('tabindex', '0')\n      } else {\n        this.removeAttribute('aria-labelledby')\n        this.removeAttribute('role')\n        this.removeAttribute('tabindex')\n      }\n    }\n  }\n}\n\ndeclare global {\n  interface Window {\n    ScrollableRegionElement: typeof ScrollableRegionElement\n  }\n}\n\nwindow.ScrollableRegionElement = ScrollableRegionElement\n","const safeDocument = typeof document === 'undefined' ? undefined : document\n\n// Announce an element's text to the screen reader.\nexport function announceFromElement(el: HTMLElement, options?: {assertive?: boolean; element?: HTMLElement}) {\n  announce(getTextContent(el), options)\n}\n\n// Announce message update to screen reader.\n// Note: Use caution when using this function while a dialog is active.\n// If the message is updated while the dialog is open, the screen reader may not announce the live region.\nexport function announce(message: string, options?: {assertive?: boolean; element?: HTMLElement}) {\n  const {assertive, element} = options ?? {}\n\n  setContainerContent(message, assertive, element)\n}\n\n// Set aria-live container to message.\nfunction setContainerContent(message: string, assertive?: boolean, element?: HTMLElement) {\n  const getQuerySelector = () => {\n    return assertive ? '#js-global-screen-reader-notice-assertive' : '#js-global-screen-reader-notice'\n  }\n  const container = element ?? safeDocument?.querySelector(getQuerySelector())\n  if (!container) return\n  if (container.textContent === message) {\n    /* This is a hack due to the way the aria live API works.\n    A screen reader will not read a live region again\n    if the text is the same. Adding a space character tells\n    the browser that the live region has updated,\n    which will cause it to read again, but with no audible difference. */\n    container.textContent = `${message}\\u00A0`\n  } else {\n    container.textContent = message\n  }\n}\n\n// Gets the trimmed text content of an element.\nfunction getTextContent(el: HTMLElement): string {\n  // innerText does not contain hidden text\n  /* eslint-disable-next-line github/no-innerText */\n  return (el.getAttribute('aria-label') || el.innerText || '').trim()\n}\n","const startPositions = new WeakMap();\nconst dragStartPositions = new WeakMap();\nconst constructedElements = new WeakMap();\nfunction moveCropArea(event) {\n    const el = event.currentTarget;\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box, image } = constructedElements.get(el) || {};\n    if (!box || !image)\n        return;\n    let deltaX = 0;\n    let deltaY = 0;\n    if (event instanceof KeyboardEvent) {\n        if (event.key === 'ArrowUp') {\n            deltaY = -1;\n        }\n        else if (event.key === 'ArrowDown') {\n            deltaY = 1;\n        }\n        else if (event.key === 'ArrowLeft') {\n            deltaX = -1;\n        }\n        else if (event.key === 'ArrowRight') {\n            deltaX = 1;\n        }\n    }\n    else if (dragStartPositions.has(el) && event instanceof MouseEvent) {\n        const pos = dragStartPositions.get(el);\n        deltaX = event.pageX - pos.dragStartX;\n        deltaY = event.pageY - pos.dragStartY;\n    }\n    else if (dragStartPositions.has(el) && event instanceof TouchEvent) {\n        const { pageX, pageY } = event.changedTouches[0];\n        const { dragStartX, dragStartY } = dragStartPositions.get(el);\n        deltaX = pageX - dragStartX;\n        deltaY = pageY - dragStartY;\n    }\n    if (deltaX !== 0 || deltaY !== 0) {\n        const x = Math.min(Math.max(0, box.offsetLeft + deltaX), image.width - box.offsetWidth);\n        const y = Math.min(Math.max(0, box.offsetTop + deltaY), image.height - box.offsetHeight);\n        box.style.left = `${x}px`;\n        box.style.top = `${y}px`;\n        fireChangeEvent(el, { x, y, width: box.offsetWidth, height: box.offsetHeight });\n    }\n    if (event instanceof MouseEvent) {\n        dragStartPositions.set(el, {\n            dragStartX: event.pageX,\n            dragStartY: event.pageY\n        });\n    }\n    else if (event instanceof TouchEvent) {\n        const { pageX, pageY } = event.changedTouches[0];\n        dragStartPositions.set(el, {\n            dragStartX: pageX,\n            dragStartY: pageY\n        });\n    }\n}\nfunction updateCropArea(event) {\n    const target = event.target;\n    if (!(target instanceof HTMLElement))\n        return;\n    const el = getShadowHost(target);\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box } = constructedElements.get(el) || {};\n    if (!box)\n        return;\n    const rect = el.getBoundingClientRect();\n    let deltaX, deltaY, delta;\n    if (event instanceof KeyboardEvent) {\n        if (event.key === 'Escape')\n            return setInitialPosition(el);\n        if (event.key === '-')\n            delta = -10;\n        if (event.key === '=')\n            delta = +10;\n        if (!delta)\n            return;\n        deltaX = box.offsetWidth + delta;\n        deltaY = box.offsetHeight + delta;\n        startPositions.set(el, { startX: box.offsetLeft, startY: box.offsetTop });\n    }\n    else if (event instanceof MouseEvent) {\n        const pos = startPositions.get(el);\n        if (!pos)\n            return;\n        deltaX = event.pageX - pos.startX - rect.left - window.pageXOffset;\n        deltaY = event.pageY - pos.startY - rect.top - window.pageYOffset;\n    }\n    else if (event instanceof TouchEvent) {\n        const pos = startPositions.get(el);\n        if (!pos)\n            return;\n        deltaX = event.changedTouches[0].pageX - pos.startX - rect.left - window.pageXOffset;\n        deltaY = event.changedTouches[0].pageY - pos.startY - rect.top - window.pageYOffset;\n    }\n    if (deltaX && deltaY)\n        updateDimensions(el, deltaX, deltaY, !(event instanceof KeyboardEvent));\n}\nfunction getShadowHost(el) {\n    const rootNode = el.getRootNode();\n    if (!(rootNode instanceof ShadowRoot))\n        return el;\n    return rootNode.host;\n}\nfunction startUpdate(event) {\n    const currentTarget = event.currentTarget;\n    if (!(currentTarget instanceof HTMLElement))\n        return;\n    const el = getShadowHost(currentTarget);\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box } = constructedElements.get(el) || {};\n    if (!box)\n        return;\n    const target = event.target;\n    if (!(target instanceof HTMLElement))\n        return;\n    if (target.hasAttribute('data-direction')) {\n        const direction = target.getAttribute('data-direction') || '';\n        el.addEventListener('mousemove', updateCropArea);\n        el.addEventListener('touchmove', updateCropArea, { passive: true });\n        if (['nw', 'se'].indexOf(direction) >= 0)\n            el.classList.add('nwse');\n        if (['ne', 'sw'].indexOf(direction) >= 0)\n            el.classList.add('nesw');\n        startPositions.set(el, {\n            startX: box.offsetLeft + (['se', 'ne'].indexOf(direction) >= 0 ? 0 : box.offsetWidth),\n            startY: box.offsetTop + (['se', 'sw'].indexOf(direction) >= 0 ? 0 : box.offsetHeight)\n        });\n        updateCropArea(event);\n    }\n    else {\n        el.addEventListener('mousemove', moveCropArea);\n        el.addEventListener('touchmove', moveCropArea, { passive: true });\n    }\n}\nfunction updateDimensions(target, deltaX, deltaY, reposition = true) {\n    let newSide = Math.max(Math.abs(deltaX), Math.abs(deltaY), 10);\n    const pos = startPositions.get(target);\n    if (!pos)\n        return;\n    const { box, image } = constructedElements.get(target) || {};\n    if (!box || !image)\n        return;\n    newSide = Math.min(newSide, deltaY > 0 ? image.height - pos.startY : pos.startY, deltaX > 0 ? image.width - pos.startX : pos.startX);\n    const x = reposition ? Math.round(Math.max(0, deltaX > 0 ? pos.startX : pos.startX - newSide)) : box.offsetLeft;\n    const y = reposition ? Math.round(Math.max(0, deltaY > 0 ? pos.startY : pos.startY - newSide)) : box.offsetTop;\n    box.style.left = `${x}px`;\n    box.style.top = `${y}px`;\n    box.style.width = `${newSide}px`;\n    box.style.height = `${newSide}px`;\n    fireChangeEvent(target, { x, y, width: newSide, height: newSide });\n}\nfunction setInitialPosition(el) {\n    const { image } = constructedElements.get(el) || {};\n    if (!image)\n        return;\n    const side = Math.round(image.clientWidth > image.clientHeight ? image.clientHeight : image.clientWidth);\n    startPositions.set(el, {\n        startX: (image.clientWidth - side) / 2,\n        startY: (image.clientHeight - side) / 2\n    });\n    updateDimensions(el, side, side);\n}\nfunction stopUpdate(event) {\n    const el = event.currentTarget;\n    if (!(el instanceof ImageCropElement))\n        return;\n    dragStartPositions.delete(el);\n    el.classList.remove('nwse', 'nesw');\n    el.removeEventListener('mousemove', updateCropArea);\n    el.removeEventListener('mousemove', moveCropArea);\n    el.removeEventListener('touchmove', updateCropArea);\n    el.removeEventListener('touchmove', moveCropArea);\n}\nfunction fireChangeEvent(target, result) {\n    const { image } = constructedElements.get(target) || {};\n    if (!image)\n        return;\n    const ratio = image.naturalWidth / image.width;\n    for (const key in result) {\n        const value = Math.round(result[key] * ratio);\n        result[key] = value;\n        const slottedInput = target.querySelector(`[data-image-crop-input='${key}']`);\n        if (slottedInput instanceof HTMLInputElement)\n            slottedInput.value = value.toString();\n    }\n    target.dispatchEvent(new CustomEvent('image-crop-change', { bubbles: true, detail: result }));\n}\nclass ImageCropElement extends HTMLElement {\n    connectedCallback() {\n        if (constructedElements.has(this))\n            return;\n        const shadowRoot = this.attachShadow({ mode: 'open' });\n        shadowRoot.innerHTML = `\n<style>\n  :host { touch-action: none; display: block; }\n  :host(.nesw) { cursor: nesw-resize; }\n  :host(.nwse) { cursor: nwse-resize; }\n  :host(.nesw) .crop-box, :host(.nwse) .crop-box { cursor: inherit; }\n  :host([loaded]) .crop-image { display: block; }\n  :host([loaded]) ::slotted([data-loading-slot]), .crop-image { display: none; }\n\n  .crop-wrapper {\n    position: relative;\n    font-size: 0;\n  }\n  .crop-container {\n    user-select: none;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    position: absolute;\n    overflow: hidden;\n    z-index: 1;\n    top: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  :host([rounded]) .crop-box {\n    border-radius: 50%;\n    box-shadow: 0 0 0 4000px rgba(0, 0, 0, 0.3);\n  }\n  .crop-box {\n    position: absolute;\n    border: 1px dashed #fff;\n    box-sizing: border-box;\n    cursor: move;\n  }\n\n  :host([rounded]) .crop-outline {\n    outline: none;\n  }\n  .crop-outline {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    outline: 4000px solid rgba(0, 0, 0, .3);\n  }\n\n  .handle { position: absolute; }\n  :host([rounded]) .handle::before { border-radius: 50%; }\n  .handle:before {\n    position: absolute;\n    display: block;\n    padding: 4px;\n    transform: translate(-50%, -50%);\n    content: ' ';\n    background: #fff;\n    border: 1px solid #767676;\n  }\n  .ne { top: 0; right: 0; cursor: nesw-resize; }\n  .nw { top: 0; left: 0; cursor: nwse-resize; }\n  .se { bottom: 0; right: 0; cursor: nwse-resize; }\n  .sw { bottom: 0; left: 0; cursor: nesw-resize; }\n</style>\n<slot></slot>\n<div class=\"crop-wrapper\">\n  <img width=\"100%\" class=\"crop-image\" alt=\"\">\n  <div class=\"crop-container\">\n    <div data-crop-box class=\"crop-box\">\n      <div class=\"crop-outline\"></div>\n      <div data-direction=\"nw\" class=\"handle nw\"></div>\n      <div data-direction=\"ne\" class=\"handle ne\"></div>\n      <div data-direction=\"sw\" class=\"handle sw\"></div>\n      <div data-direction=\"se\" class=\"handle se\"></div>\n    </div>\n  </div>\n</div>\n`;\n        const box = shadowRoot.querySelector('[data-crop-box]');\n        if (!(box instanceof HTMLElement))\n            return;\n        const image = shadowRoot.querySelector('img');\n        if (!(image instanceof HTMLImageElement))\n            return;\n        constructedElements.set(this, { box, image });\n        image.addEventListener('load', () => {\n            this.loaded = true;\n            setInitialPosition(this);\n        });\n        this.addEventListener('mouseleave', stopUpdate);\n        this.addEventListener('touchend', stopUpdate);\n        this.addEventListener('mouseup', stopUpdate);\n        box.addEventListener('mousedown', startUpdate);\n        box.addEventListener('touchstart', startUpdate, { passive: true });\n        this.addEventListener('keydown', moveCropArea);\n        this.addEventListener('keydown', updateCropArea);\n        if (this.src)\n            image.src = this.src;\n    }\n    static get observedAttributes() {\n        return ['src'];\n    }\n    get src() {\n        return this.getAttribute('src');\n    }\n    set src(val) {\n        if (val) {\n            this.setAttribute('src', val);\n        }\n        else {\n            this.removeAttribute('src');\n        }\n    }\n    get loaded() {\n        return this.hasAttribute('loaded');\n    }\n    set loaded(val) {\n        if (val) {\n            this.setAttribute('loaded', '');\n        }\n        else {\n            this.removeAttribute('loaded');\n        }\n    }\n    attributeChangedCallback(attribute, oldValue, newValue) {\n        const { image } = constructedElements.get(this) || {};\n        if (attribute === 'src') {\n            this.loaded = false;\n            if (image)\n                image.src = newValue;\n        }\n    }\n}\nexport default ImageCropElement;\nif (!window.customElements.get('image-crop')) {\n    window.ImageCropElement = ImageCropElement;\n    window.customElements.define('image-crop', ImageCropElement);\n}\n","import {focusTrap} from '@primer/behaviors'\nimport {getFocusableChild} from '@primer/behaviors/utils'\n\nfunction focusIfNeeded(elem: HTMLElement | undefined | null) {\n  if (document.activeElement !== elem) {\n    elem?.focus()\n  }\n}\n\nconst overlayStack: ModalDialogElement[] = []\n\nfunction clickHandler(event: Event) {\n  const target = event.target as HTMLElement\n  const button = target?.closest('button')\n\n  if (!button || button.hasAttribute('disabled') || button.getAttribute('aria-disabled') === 'true') return\n\n  // If the user is clicking a valid dialog trigger\n  let dialogId = button?.getAttribute('data-show-dialog-id')\n  if (dialogId) {\n    /* eslint-disable-next-line no-restricted-syntax */\n    event.stopPropagation()\n    const dialog = document.getElementById(dialogId)\n    if (dialog instanceof ModalDialogElement) {\n      dialog.openButton = button\n      dialog.show()\n      // A buttons default behaviour in some browsers it to send a pointer event\n      // If the behaviour is allowed through the dialog will be shown but then\n      // quickly hidden- as if it were never shown. This prevents that.\n      event.preventDefault()\n      return\n    }\n  }\n\n  if (!overlayStack.length) return\n\n  dialogId = button.getAttribute('data-close-dialog-id') || button.getAttribute('data-submit-dialog-id')\n  if (dialogId) {\n    const dialog = document.getElementById(dialogId)\n    if (dialog instanceof ModalDialogElement) {\n      const dialogIndex = overlayStack.findIndex(ele => ele.id === dialogId)\n      overlayStack.splice(dialogIndex, 1)\n      dialog.close(button.hasAttribute('data-submit-dialog-id'))\n    }\n  }\n}\n\nfunction keydownHandler(event: Event) {\n  if (\n    !(event instanceof KeyboardEvent) ||\n    event.type !== 'keydown' ||\n    event.key !== 'Enter' ||\n    event.ctrlKey ||\n    event.altKey ||\n    event.metaKey ||\n    event.shiftKey\n  )\n    return\n\n  clickHandler(event)\n}\n\nfunction mousedownHandler(event: Event) {\n  const target = event.target as HTMLElement\n  if (target?.closest('button')) return\n\n  // Find the top level dialog that is open.\n  const topLevelDialog = overlayStack[overlayStack.length - 1]\n  if (!topLevelDialog) return\n\n  // Check if the mousedown happened outside the boundary of the top level dialog\n  const mouseDownOutsideDialog = !target.closest(`#${topLevelDialog.getAttribute('id')}`)\n\n  // Only close dialog if it's a click outside the dialog and the dialog has a button?\n  if (mouseDownOutsideDialog) {\n    target.ownerDocument.addEventListener(\n      'mouseup',\n      (upEvent: Event) => {\n        if (upEvent.target === target) {\n          overlayStack.pop()\n          topLevelDialog.close()\n        }\n      },\n      {once: true},\n    )\n  }\n}\n\nexport class ModalDialogElement extends HTMLElement {\n  //TODO: Do we remove the abortController from focusTrap?\n  #focusAbortController = new AbortController()\n  openButton: HTMLButtonElement | null\n\n  get open() {\n    return this.hasAttribute('open')\n  }\n  set open(value: boolean) {\n    if (value) {\n      if (this.open) return\n      this.setAttribute('open', '')\n      this.setAttribute('aria-disabled', 'false')\n      document.body.style.paddingRight = `${window.innerWidth - document.body.clientWidth}px`\n      document.body.style.overflow = 'hidden'\n      this.#overlayBackdrop?.classList.remove('Overlay--hidden')\n      if (this.#focusAbortController.signal.aborted) {\n        this.#focusAbortController = new AbortController()\n      }\n      focusTrap(this, this.querySelector('[autofocus]') as HTMLElement, this.#focusAbortController.signal)\n      overlayStack.push(this)\n    } else {\n      if (!this.open) return\n      this.removeAttribute('open')\n      this.setAttribute('aria-disabled', 'true')\n      this.#overlayBackdrop?.classList.add('Overlay--hidden')\n      document.body.style.paddingRight = '0'\n      document.body.style.overflow = 'initial'\n      this.#focusAbortController.abort()\n      // if #openButton is a child of a menu, we need to focus a suitable child of the menu\n      // element since it is expected for the menu to close on click\n      const menu = this.openButton?.closest('details') || this.openButton?.closest('action-menu')\n      if (menu) {\n        focusIfNeeded(getFocusableChild(menu))\n      } else {\n        focusIfNeeded(this.openButton)\n      }\n      this.openButton = null\n    }\n  }\n\n  get #overlayBackdrop(): HTMLElement | null {\n    if (this.parentElement?.hasAttribute('data-modal-dialog-overlay')) {\n      return this.parentElement\n    }\n\n    return null\n  }\n\n  get showButtons(): NodeList {\n    // Dialogs may also be opened from any arbitrary button with a matching show-dialog-id data attribute\n    return document.querySelectorAll(`button[data-show-dialog-id='${this.id}']`)\n  }\n\n  connectedCallback(): void {\n    if (!this.hasAttribute('role')) this.setAttribute('role', 'dialog')\n\n    document.addEventListener('click', clickHandler)\n    document.addEventListener('keydown', keydownHandler)\n    document.addEventListener('mousedown', mousedownHandler)\n\n    this.addEventListener('keydown', e => this.#keydown(e))\n  }\n\n  show() {\n    this.open = true\n  }\n\n  close(closedNotCancelled = false) {\n    if (this.open === false) return\n    const eventType = closedNotCancelled ? 'close' : 'cancel'\n    const dialogEvent = new Event(eventType)\n    this.dispatchEvent(dialogEvent)\n    this.open = false\n  }\n\n  #keydown(event: Event) {\n    if (!(event instanceof KeyboardEvent)) return\n    if (event.isComposing) return\n    if (!this.open) return\n\n    switch (event.key) {\n      case 'Escape':\n        this.close()\n        event.preventDefault()\n        /* eslint-disable-next-line no-restricted-syntax */\n        event.stopPropagation()\n        break\n      case 'Enter': {\n        const target = event.target as HTMLElement\n\n        if (target.getAttribute('data-close-dialog-id') === this.id) {\n          /* eslint-disable-next-line no-restricted-syntax */\n          event.stopPropagation()\n        }\n        break\n      }\n    }\n  }\n}\n\ndeclare global {\n  interface Window {\n    ModalDialogElement: typeof ModalDialogElement\n  }\n  interface HTMLElementTagNameMap {\n    'modal-dialog': ModalDialogElement\n  }\n}\n\nif (!window.customElements.get('modal-dialog')) {\n  window.ModalDialogElement = ModalDialogElement\n  window.customElements.define('modal-dialog', ModalDialogElement)\n}\n","/* eslint-disable custom-elements/expose-class-on-global */\nimport {controller, target, targets} from '@github/catalyst'\nimport {ActionListTruncationObserver} from '../alpha/action_list'\n\n@controller\nexport class NavListElement extends HTMLElement {\n  @targets items: HTMLElement[]\n  @target topLevelList: HTMLElement\n\n  #truncationObserver: ActionListTruncationObserver\n\n  connectedCallback() {\n    // groups are wrapped in <action-list>, which handles resizing on its own\n    if (this.topLevelList) {\n      this.#truncationObserver = new ActionListTruncationObserver(this.topLevelList)\n    }\n  }\n\n  disconnectedCallback() {\n    if (this.topLevelList) {\n      this.#truncationObserver.unobserve(this.topLevelList)\n    }\n  }\n\n  selectItemById(itemId: string | null): boolean {\n    if (!itemId) return false\n\n    const selectedItem = this.#findSelectedNavItemById(itemId)\n\n    if (selectedItem) {\n      this.#select(selectedItem)\n      return true\n    }\n\n    return false\n  }\n\n  selectItemByHref(href: string | null): boolean {\n    if (!href) return false\n\n    const selectedItem = this.#findSelectedNavItemByHref(href)\n\n    if (selectedItem) {\n      this.#select(selectedItem)\n      return true\n    }\n\n    return false\n  }\n\n  selectItemByCurrentLocation(): boolean {\n    const selectedItem = this.#findSelectedNavItemByCurrentLocation()\n\n    if (selectedItem) {\n      this.#select(selectedItem)\n      return true\n    }\n\n    return false\n  }\n\n  // expand collapsible item onClick\n  expandItem(item: HTMLElement) {\n    item.nextElementSibling?.removeAttribute('data-hidden')\n    item.setAttribute('aria-expanded', 'true')\n  }\n\n  collapseItem(item: HTMLElement) {\n    item.nextElementSibling?.setAttribute('data-hidden', '')\n    item.setAttribute('aria-expanded', 'false')\n    item.focus()\n  }\n\n  itemIsExpanded(item: HTMLElement | null) {\n    if (item?.tagName === 'A') {\n      return true\n    }\n    return item?.getAttribute('aria-expanded') === 'true'\n  }\n\n  // expand/collapse item\n  handleItemWithSubItemClick(e: Event) {\n    const el = e.target\n    if (!(el instanceof HTMLElement)) return\n\n    const button = el.closest<HTMLButtonElement>('button')\n    if (!button) return\n    if (this.itemIsExpanded(button)) {\n      this.collapseItem(button)\n    } else {\n      this.expandItem(button)\n    }\n\n    /* eslint-disable-next-line no-restricted-syntax */\n    e.stopPropagation()\n  }\n\n  // collapse item\n  handleItemWithSubItemKeydown(e: KeyboardEvent) {\n    const el = e.currentTarget\n    if (!(el instanceof HTMLElement)) return\n\n    let button = el.closest<HTMLButtonElement>('button')\n    if (!button) {\n      const button_id = el.getAttribute('aria-labelledby')\n      if (button_id) {\n        button = document.getElementById(button_id) as HTMLButtonElement\n      } else {\n        return\n      }\n    }\n\n    if (this.itemIsExpanded(button) && e.key === 'Escape') {\n      this.collapseItem(button)\n    }\n\n    /* eslint-disable-next-line no-restricted-syntax */\n    e.stopPropagation()\n  }\n\n  #findSelectedNavItemById(itemId: string): HTMLElement | null {\n    // First we compare the selected link to data-item-id for each nav item\n    for (const navItem of this.items) {\n      if (navItem.classList.contains('ActionListItem--hasSubItem')) {\n        continue\n      }\n\n      const keys = navItem.getAttribute('data-item-id')?.split(' ') || []\n\n      if (keys.includes(itemId)) {\n        return navItem\n      }\n    }\n\n    return null\n  }\n\n  #findSelectedNavItemByHref(href: string): HTMLElement | null {\n    // If we didn't find a match, we compare the selected link to the href of each nav item\n    const selectedNavItem = this.querySelector<HTMLAnchorElement>(`.ActionListContent[href=\"${href}\"]`)\n    if (selectedNavItem) {\n      return selectedNavItem.closest('.ActionListItem')\n    }\n\n    return null\n  }\n\n  #findSelectedNavItemByCurrentLocation(): HTMLElement | null {\n    return this.#findSelectedNavItemByHref(window.location.pathname)\n  }\n\n  #select(navItem: HTMLElement) {\n    const currentlySelectedItem = this.querySelector('.ActionListItem--navActive') as HTMLElement\n    if (currentlySelectedItem) this.#deselect(currentlySelectedItem)\n\n    navItem.classList.add('ActionListItem--navActive')\n\n    if (navItem.children.length > 0) {\n      navItem.children[0].setAttribute('aria-current', 'page')\n    }\n\n    const parentMenu = this.#findParentMenu(navItem)\n\n    if (parentMenu) {\n      this.expandItem(parentMenu)\n      parentMenu.classList.add('ActionListContent--hasActiveSubItem')\n    }\n  }\n\n  #deselect(navItem: HTMLElement) {\n    navItem.classList.remove('ActionListItem--navActive')\n\n    if (navItem.children.length > 0) {\n      navItem.children[0].removeAttribute('aria-current')\n    }\n\n    const parentMenu = this.#findParentMenu(navItem)\n\n    if (parentMenu) {\n      this.collapseItem(parentMenu)\n      parentMenu.classList.remove('ActionListContent--hasActiveSubItem')\n    }\n  }\n\n  #findParentMenu(navItem: HTMLElement): HTMLElement | null {\n    if (!navItem.classList.contains('ActionListItem--subItem')) return null\n\n    const parent = navItem.closest('li.ActionListItem--hasSubItem')?.querySelector('button.ActionListContent')\n\n    if (parent) {\n      return parent as HTMLElement\n    } else {\n      return null\n    }\n  }\n}\n\ndeclare global {\n  interface Window {\n    NavListElement: typeof NavListElement\n  }\n}\n","import {controller, target, targets} from '@github/catalyst'\nimport {ActionListTruncationObserver} from '../alpha/action_list'\n\n@controller\nexport class NavListGroupElement extends HTMLElement {\n  @target showMoreItem: HTMLElement\n  @targets focusMarkers: HTMLElement[]\n\n  connectedCallback(): void {\n    this.setShowMoreItemState()\n  }\n\n  get showMoreDisabled(): boolean {\n    return this.showMoreItem.hasAttribute('aria-disabled')\n  }\n\n  set showMoreDisabled(value: boolean) {\n    if (value) {\n      this.showMoreItem.setAttribute('aria-disabled', 'true')\n    } else {\n      this.showMoreItem.removeAttribute('aria-disabled')\n    }\n    this.showMoreItem.classList.toggle('disabled', value)\n  }\n\n  set currentPage(value: number) {\n    this.showMoreItem.setAttribute('data-current-page', value.toString())\n  }\n\n  get currentPage(): number {\n    return parseInt(this.showMoreItem.getAttribute('data-current-page') as string) || 1\n  }\n\n  get totalPages(): number {\n    return parseInt(this.showMoreItem.getAttribute('data-total-pages') as string) || 1\n  }\n\n  get paginationSrc(): string {\n    return this.showMoreItem.getAttribute('src') || ''\n  }\n\n  private async showMore(e: Event) {\n    e.preventDefault()\n    if (this.showMoreDisabled) return\n    this.showMoreDisabled = true\n    let html\n    try {\n      const paginationURL = new URL(this.paginationSrc, window.location.origin)\n      this.currentPage++\n      paginationURL.searchParams.append('page', this.currentPage.toString())\n      const response = await fetch(paginationURL)\n      if (!response.ok) return\n      html = await response.text()\n      if (this.currentPage === this.totalPages) {\n        this.showMoreItem.hidden = true\n      }\n    } catch (err) {\n      // Ignore network errors\n      this.showMoreDisabled = false\n      this.currentPage--\n      return\n    }\n    const fragment = this.#parseHTML(document, html)\n    fragment?.querySelector('li > a')?.setAttribute('data-targets', 'nav-list-group.focusMarkers')\n    const listId = (e.target as HTMLElement).closest('button')!.getAttribute('data-list-id')!\n    const list = document.getElementById(listId)!\n    list.append(fragment)\n    this.focusMarkers.pop()?.focus()\n    this.showMoreDisabled = false\n  }\n\n  private setShowMoreItemState() {\n    if (!this.showMoreItem) {\n      return\n    }\n\n    if (this.currentPage < this.totalPages) {\n      this.showMoreItem.hidden = false\n    } else {\n      this.showMoreItem.hidden = true\n    }\n  }\n\n  #parseHTML(document: Document, html: string): DocumentFragment {\n    const template = document.createElement('template')\n    // eslint-disable-next-line github/no-inner-html\n    template.innerHTML = html\n    return document.importNode(template.content, true)\n  }\n\n  #truncateObserver = new ActionListTruncationObserver(this)\n}\n\ndeclare global {\n  interface Window {\n    NavListGroupElement: typeof NavListGroupElement\n  }\n}\n\nwindow.NavListGroupElement = NavListGroupElement\n","import {controller, targets} from '@github/catalyst'\n\n@controller\nclass SegmentedControlElement extends HTMLElement {\n  @targets items: HTMLElement[]\n\n  connectedCallback() {\n    this.#updateButtonLabels()\n  }\n\n  select(event: Event) {\n    const button = event.currentTarget as HTMLButtonElement\n    for (const item of this.items) {\n      item.classList.remove('SegmentedControl-item--selected')\n      item.querySelector('[aria-current]')?.setAttribute('aria-current', 'false')\n    }\n\n    button.closest('li.SegmentedControl-item')?.classList.add('SegmentedControl-item--selected')\n    button.setAttribute('aria-current', 'true')\n  }\n\n  // Updates the button labels to have a data-content attribute with the text\n  // This is for selection styling to avoid the text jumping. It only needs to be\n  // setup when the component is first loaded.\n  #updateButtonLabels() {\n    for (const label of this.querySelectorAll('.Button-label')) {\n      label.setAttribute('data-content', label.textContent || '')\n    }\n  }\n}\n\ndeclare global {\n  interface Window {\n    SegmentedControlElement: typeof SegmentedControlElement\n  }\n}\n\nif (!window.customElements.get('segmented-control')) {\n  window.SegmentedControlElement = SegmentedControlElement\n  window.customElements.define('segmented-control', SegmentedControlElement)\n}\n","import {controller, target, attr} from '@github/catalyst'\n\n@controller\nclass ToggleSwitchElement extends HTMLElement {\n  @target switch: HTMLElement\n  @target loadingSpinner: HTMLElement\n  @target errorIcon: HTMLElement\n  @attr turbo = false\n\n  private toggling = false\n\n  get src(): string | null {\n    const src = this.getAttribute('src')\n    if (!src) return null\n\n    const link = this.ownerDocument.createElement('a')\n    link.href = src\n    return link.href\n  }\n\n  get csrf(): string | null {\n    const csrfElement = this.querySelector('[data-csrf]')\n    return this.getAttribute('data-csrf') || (csrfElement instanceof HTMLInputElement && csrfElement.value) || null\n  }\n\n  get csrfField(): string {\n    // the authenticity token is passed into the element and is not generated in js land\n\n    return this.getAttribute('csrf-field') || 'authenticity_token'\n  }\n\n  isRemote(): boolean {\n    return this.src != null\n  }\n\n  async toggle() {\n    if (this.toggling) return\n\n    this.toggling = true\n\n    if (this.isDisabled()) {\n      return\n    }\n\n    if (!this.isRemote()) {\n      this.performToggle()\n      this.toggling = false\n      return\n    }\n\n    // toggle immediately to tell screen readers the switch was clicked\n    this.performToggle()\n    this.setLoadingState()\n\n    try {\n      await this.submitForm()\n    } catch (error) {\n      if (error instanceof Error) {\n        // because we toggle immediately when the switch is clicked, toggle back to the\n        // old state on failure\n        this.setErrorState(error.message || 'An error occurred, please try again.')\n        this.performToggle()\n      }\n\n      return\n    } finally {\n      this.toggling = false\n    }\n\n    this.setSuccessState()\n  }\n\n  turnOn(): void {\n    if (this.isDisabled()) {\n      return\n    }\n\n    this.switch.setAttribute('aria-pressed', 'true')\n    this.classList.add('ToggleSwitch--checked')\n  }\n\n  turnOff(): void {\n    if (this.isDisabled()) {\n      return\n    }\n\n    this.switch.setAttribute('aria-pressed', 'false')\n    this.classList.remove('ToggleSwitch--checked')\n  }\n\n  isOn(): boolean {\n    return this.switch.getAttribute('aria-pressed') === 'true'\n  }\n\n  isOff(): boolean {\n    return !this.isOn()\n  }\n\n  isDisabled(): boolean {\n    return this.switch.getAttribute('disabled') != null\n  }\n\n  disable(): void {\n    this.switch.setAttribute('disabled', 'disabled')\n  }\n\n  enable(): void {\n    this.switch.removeAttribute('disabled')\n  }\n\n  private performToggle(): void {\n    if (this.isOn()) {\n      this.turnOff()\n    } else {\n      this.turnOn()\n    }\n  }\n\n  private setLoadingState(): void {\n    this.errorIcon.setAttribute('hidden', 'hidden')\n    this.loadingSpinner.removeAttribute('hidden')\n\n    const event = new CustomEvent('toggleSwitchLoading', {bubbles: true})\n    this.dispatchEvent(event)\n  }\n\n  private setSuccessState(): void {\n    const event = new CustomEvent('toggleSwitchSuccess', {bubbles: true})\n    this.dispatchEvent(event)\n\n    this.setFinishedState(false)\n  }\n\n  private setErrorState(message: string): void {\n    const event = new CustomEvent('toggleSwitchError', {bubbles: true, detail: message})\n    this.dispatchEvent(event)\n\n    this.setFinishedState(true)\n  }\n\n  private setFinishedState(error: boolean): void {\n    if (error) {\n      this.errorIcon.removeAttribute('hidden')\n    }\n\n    this.loadingSpinner.setAttribute('hidden', 'hidden')\n  }\n\n  private async submitForm() {\n    const body = new FormData()\n\n    if (this.csrf) {\n      body.append(this.csrfField, this.csrf)\n    }\n\n    body.append('value', this.isOn() ? '1' : '0')\n\n    if (!this.src) throw new Error('invalid src')\n\n    let response\n\n    const requestHeaders: {[key: string]: string} = {\n      'Requested-With': 'XMLHttpRequest',\n    }\n\n    if (this.turbo) {\n      requestHeaders['Accept'] = 'text/vnd.turbo-stream.html'\n    }\n\n    try {\n      response = await fetch(this.src, {\n        credentials: 'same-origin',\n        method: 'POST',\n        headers: requestHeaders,\n        body,\n      })\n    } catch (error) {\n      throw new Error('A network error occurred, please try again.')\n    }\n\n    if (!response.ok) {\n      throw new Error(await response.text())\n    }\n\n    const contentType = response.headers.get('Content-Type')\n    if (window.Turbo && this.turbo && contentType?.startsWith('text/vnd.turbo-stream.html')) {\n      window.Turbo.renderStreamMessage(await response.text())\n    }\n  }\n}\n\ndeclare global {\n  interface Window {\n    ToggleSwitchElement: typeof ToggleSwitchElement\n    Turbo: {\n      renderStreamMessage: (message: string) => void\n    }\n  }\n}\n\nif (!window.customElements.get('toggle-switch')) {\n  window.ToggleSwitchElement = ToggleSwitchElement\n  window.customElements.define('toggle-switch', ToggleSwitchElement)\n}\n","import type {AnchorAlignment, AnchorSide} from '@primer/behaviors'\nimport '@oddbird/popover-polyfill'\nimport {getAnchoredPosition} from '@primer/behaviors'\n\nconst isPopoverOpen = (() => {\n  let selector: string\n  function setSelector(el: Element) {\n    try {\n      selector = ':popover-open'\n      return el.matches(selector)\n    } catch {\n      try {\n        selector = ':open'\n        return el.matches(':open')\n      } catch {\n        selector = '.\\\\:popover-open'\n        return el.matches('.\\\\:popover-open')\n      }\n    }\n  }\n  return (el: Element) => (selector ? el.matches(selector) : setSelector(el))\n})()\n\nconst TOOLTIP_SR_ONLY_CLASS = 'sr-only'\n\ntype Direction = 'n' | 's' | 'e' | 'w' | 'ne' | 'se' | 'nw' | 'sw'\n\nconst DIRECTION_CLASSES = [\n  'tooltip-n',\n  'tooltip-s',\n  'tooltip-e',\n  'tooltip-w',\n  'tooltip-ne',\n  'tooltip-se',\n  'tooltip-nw',\n  'tooltip-sw',\n]\n\nfunction closeOpenTooltips(except?: Element) {\n  for (const tooltip of openTooltips) {\n    if (tooltip === except) continue\n    if (isPopoverOpen(tooltip)) {\n      tooltip.hidePopover()\n    } else {\n      openTooltips.delete(tooltip)\n    }\n  }\n}\n\nfunction focusOutListener() {\n  closeOpenTooltips()\n}\n\nfunction focusInListener(event: Event) {\n  setTimeout(() => {\n    for (const tooltip of openTooltips) {\n      if (isPopoverOpen(tooltip) && tooltip.showReason === 'focus' && tooltip.control !== event.target) {\n        tooltip.hidePopover()\n      }\n    }\n  }, 0)\n}\n\nconst tooltips = new Set<ToolTipElement>()\nconst openTooltips = new Set<ToolTipElement>()\nclass ToolTipElement extends HTMLElement {\n  styles() {\n    return `\n      :host {\n        --tooltip-top: var(--tool-tip-position-top, 0);\n        --tooltip-left: var(--tool-tip-position-left, 0);\n        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;\n        font: var(--text-body-shorthand-small);\n        color: var(--tooltip-fgColor, var(--fgColor-onEmphasis)) !important;\n        text-align: center;\n        text-decoration: none;\n        text-shadow: none;\n        text-transform: none;\n        letter-spacing: normal;\n        word-wrap: break-word;\n        white-space: pre;\n        background: var(--tooltip-bgColor, var(--bgColor-emphasis)) !important;\n        border-radius: var(--borderRadius-medium);\n        border: 0 !important;\n        opacity: 0;\n        max-width: var(--overlay-width-small);\n        word-wrap: break-word;\n        white-space: normal;\n        width: max-content !important;\n        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;\n        overflow: visible !important;\n        text-wrap: balance;\n      }\n\n      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {\n        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));\n        --tooltip-left: var(--tool-tip-position-left);\n      }\n\n      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {\n        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));\n        --tooltip-left: var(--tool-tip-position-left);\n      }\n\n      :host(.tooltip-w) {\n        --tooltip-top: var(--tool-tip-position-top);\n        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));\n      }\n\n      :host(.tooltip-e) {\n        --tooltip-top: var(--tool-tip-position-top);\n        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));\n      }\n\n      :host:after{\n        position: absolute;\n        display: block;\n        right: 0;\n        left: 0;\n        height: var(--overlay-offset, 0.25rem);\n        content: \"\";\n      }\n\n      :host(.tooltip-s):after,\n      :host(.tooltip-se):after,\n      :host(.tooltip-sw):after {\n        bottom: 100%\n      }\n\n      :host(.tooltip-n):after,\n      :host(.tooltip-ne):after,\n      :host(.tooltip-nw):after {\n        top: 100%;\n      }\n\n      @keyframes tooltip-appear {\n        from {\n          opacity: 0;\n        }\n        to {\n          opacity: 1;\n        }\n      }\n\n      :host(:popover-open),\n      :host(:popover-open):before {\n        animation-name: tooltip-appear;\n        animation-duration: .1s;\n        animation-fill-mode: forwards;\n        animation-timing-function: ease-in;\n      }\n\n      :host(.\\\\:popover-open) {\n        animation-name: tooltip-appear;\n        animation-duration: .1s;\n        animation-fill-mode: forwards;\n        animation-timing-function: ease-in;\n      }\n\n      @media (forced-colors: active) {\n        :host {\n          outline: solid 1px transparent;\n        }\n\n        :host:before {\n          display: none;\n        }\n      }\n    `\n  }\n\n  #abortController: AbortController | undefined\n  #align: AnchorAlignment = 'center'\n  #side: AnchorSide = 'outside-bottom'\n  #allowUpdatePosition = false\n  #showReason: 'focus' | 'mouse' = 'mouse'\n  get showReason() {\n    return this.#showReason\n  }\n\n  get htmlFor(): string {\n    return this.getAttribute('for') || ''\n  }\n\n  set htmlFor(value: string) {\n    this.setAttribute('for', value)\n  }\n\n  get type(): 'description' | 'label' {\n    const type = this.getAttribute('data-type')\n    return type === 'label' ? 'label' : 'description'\n  }\n\n  set type(value: 'description' | 'label') {\n    this.setAttribute('data-type', value)\n  }\n\n  get direction(): Direction {\n    return (this.getAttribute('data-direction') || 's') as Direction\n  }\n\n  set direction(value: Direction) {\n    this.setAttribute('data-direction', value)\n  }\n\n  get control(): HTMLElement | null {\n    return this.ownerDocument.getElementById(this.htmlFor)\n  }\n\n  /* @deprecated */\n  set hiddenFromView(value: true | false) {\n    if (value && isPopoverOpen(this)) {\n      this.hidePopover()\n    } else if (!value && !isPopoverOpen(this)) {\n      this.showPopover()\n    }\n  }\n\n  /* @deprecated */\n  get hiddenFromView() {\n    return !isPopoverOpen(this)\n  }\n\n  connectedCallback() {\n    tooltips.add(this)\n    this.#updateControlReference()\n    this.#updateDirection()\n    if (!this.shadowRoot) {\n      const shadow = this.attachShadow({mode: 'open'})\n      const style = shadow.appendChild(document.createElement('style'))\n      style.textContent = this.styles()\n      shadow.appendChild(document.createElement('slot'))\n    }\n    this.#update(false)\n    this.#allowUpdatePosition = true\n\n    if (!this.control) return\n\n    this.setAttribute('role', 'tooltip')\n\n    this.#abortController?.abort()\n    this.#abortController = new AbortController()\n    const {signal} = this.#abortController\n\n    this.addEventListener('mouseleave', this, {signal})\n    this.addEventListener('toggle', this, {signal})\n    this.control.addEventListener('mouseenter', this, {signal})\n    this.control.addEventListener('mouseleave', this, {signal})\n    this.control.addEventListener('focus', this, {signal})\n    this.control.addEventListener('mousedown', this, {signal})\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore popoverTargetElement is not in the type definition\n    this.control.popoverTargetElement?.addEventListener('beforetoggle', this, {\n      signal,\n    })\n    this.ownerDocument.addEventListener('focusout', focusOutListener)\n    this.ownerDocument.addEventListener('focusin', focusInListener)\n    this.ownerDocument.addEventListener('keydown', this, {signal, capture: true})\n  }\n\n  disconnectedCallback() {\n    tooltips.delete(this)\n    openTooltips.delete(this)\n    this.#abortController?.abort()\n  }\n\n  async handleEvent(event: Event) {\n    if (!this.control) return\n    const showing = isPopoverOpen(this)\n\n    // Ensures that tooltip stays open when hovering between tooltip and element\n    // WCAG Success Criterion 1.4.13 Hoverable\n    const shouldShow =\n      event.type === 'mouseenter' ||\n      // Only show tooltip on focus if running in headless browser (for tests) or if focus ring\n      // is visible (i.e. if user is using keyboard navigation)\n      (event.type === 'focus' && (navigator.webdriver || this.control.matches(':focus-visible')))\n    const isMouseLeaveFromButton =\n      event.type === 'mouseleave' &&\n      (event as MouseEvent).relatedTarget !== this.control &&\n      (event as MouseEvent).relatedTarget !== this\n    const isEscapeKeydown = event.type === 'keydown' && (event as KeyboardEvent).key === 'Escape'\n    const isMouseDownOnButton = event.type === 'mousedown' && event.currentTarget === this.control\n    const isOpeningOtherPopover = event.type === 'beforetoggle' && event.currentTarget !== this\n    const shouldHide = isMouseLeaveFromButton || isEscapeKeydown || isMouseDownOnButton || isOpeningOtherPopover\n\n    if (showing && isEscapeKeydown) {\n      /* eslint-disable-next-line no-restricted-syntax */\n      event.stopImmediatePropagation()\n      event.preventDefault()\n    }\n\n    await Promise.resolve()\n    if (!showing && shouldShow && !isPopoverOpen(this)) {\n      this.#showReason = event.type === 'mouseenter' ? 'mouse' : 'focus'\n      this.showPopover()\n    } else if (showing && shouldHide && isPopoverOpen(this)) {\n      this.hidePopover()\n    }\n\n    if (event.type === 'toggle') {\n      this.#update((event as ToggleEvent).newState === 'open')\n    }\n  }\n\n  static observedAttributes = ['data-type', 'data-direction', 'id']\n\n  #update(isOpen: boolean) {\n    if (isOpen) {\n      openTooltips.add(this)\n      this.classList.remove(TOOLTIP_SR_ONLY_CLASS)\n      closeOpenTooltips(this)\n      this.#updatePosition()\n    } else {\n      openTooltips.delete(this)\n      this.classList.remove(...DIRECTION_CLASSES)\n      this.classList.add(TOOLTIP_SR_ONLY_CLASS)\n    }\n  }\n\n  attributeChangedCallback(name: string) {\n    if (!this.isConnected) return\n\n    if (name === 'id' || name === 'data-type') {\n      this.#updateControlReference()\n    } else if (name === 'data-direction') {\n      this.#updateDirection()\n    }\n  }\n\n  #updateControlReference() {\n    if (!this.id || !this.control) return\n    if (this.type === 'label') {\n      let labelledBy = this.control.getAttribute('aria-labelledby')\n      if (labelledBy) {\n        if (!labelledBy.split(' ').includes(this.id)) {\n          labelledBy = `${labelledBy} ${this.id}`\n        } else {\n          labelledBy = `${labelledBy}`\n        }\n      } else {\n        labelledBy = this.id\n      }\n      this.control.setAttribute('aria-labelledby', labelledBy)\n\n      // Prevent duplicate accessible name announcements.\n      this.setAttribute('aria-hidden', 'true')\n    } else {\n      let describedBy = this.control.getAttribute('aria-describedby')\n      if (describedBy) {\n        if (!describedBy.split(' ').includes(this.id)) {\n          describedBy = `${describedBy} ${this.id}`\n        } else {\n          describedBy = `${describedBy}`\n        }\n      } else {\n        describedBy = this.id\n      }\n      this.control.setAttribute('aria-describedby', describedBy)\n    }\n  }\n\n  #updateDirection() {\n    this.classList.remove(...DIRECTION_CLASSES)\n    const direction = this.direction\n    if (direction === 'n') {\n      this.#align = 'center'\n      this.#side = 'outside-top'\n    } else if (direction === 'ne') {\n      this.#align = 'end'\n      this.#side = 'outside-top'\n    } else if (direction === 'e') {\n      this.#align = 'center'\n      this.#side = 'outside-right'\n    } else if (direction === 'se') {\n      this.#align = 'end'\n      this.#side = 'outside-bottom'\n    } else if (direction === 's') {\n      this.#align = 'center'\n      this.#side = 'outside-bottom'\n    } else if (direction === 'sw') {\n      this.#align = 'start'\n      this.#side = 'outside-bottom'\n    } else if (direction === 'w') {\n      this.#align = 'center'\n      this.#side = 'outside-left'\n    } else if (direction === 'nw') {\n      this.#align = 'start'\n      this.#side = 'outside-top'\n    }\n  }\n\n  #updatePosition() {\n    if (!this.control) return\n    if (!this.#allowUpdatePosition || !isPopoverOpen(this)) return\n\n    const position = getAnchoredPosition(this, this.control, {\n      side: this.#side,\n      align: this.#align,\n      anchorOffset: 0,\n    })\n    const anchorSide = position.anchorSide\n    const align = position.anchorAlign\n\n    this.style.setProperty('--tool-tip-position-top', `${position.top}px`)\n    this.style.setProperty('--tool-tip-position-left', `${position.left}px`)\n\n    let direction: Direction = 's'\n\n    if (anchorSide === 'outside-left') {\n      direction = 'w'\n    } else if (anchorSide === 'outside-right') {\n      direction = 'e'\n    } else if (anchorSide === 'outside-top') {\n      if (align === 'center') {\n        direction = 'n'\n      } else if (align === 'start') {\n        direction = 'ne'\n      } else {\n        direction = 'nw'\n      }\n    } else {\n      if (align === 'center') {\n        direction = 's'\n      } else if (align === 'start') {\n        direction = 'se'\n      } else {\n        direction = 'sw'\n      }\n    }\n\n    this.classList.add(`tooltip-${direction}`)\n  }\n}\n\nif (!window.customElements.get('tool-tip')) {\n  window.ToolTipElement = ToolTipElement\n  window.customElements.define('tool-tip', ToolTipElement)\n}\n\ndeclare global {\n  interface Window {\n    ToolTipElement: typeof ToolTipElement\n  }\n}\n","import {controller, target} from '@github/catalyst'\n\ndeclare global {\n  interface HTMLElementEventMap {\n    'banner:dismiss': CustomEvent<void>\n  }\n}\n\n@controller\nclass XBannerElement extends HTMLElement {\n  @target titleText: HTMLElement\n\n  dismiss() {\n    if (this.#dismissScheme === 'remove') {\n      const parentElement = this.parentElement\n      if (!parentElement) return\n\n      parentElement.removeChild(this)\n    } else {\n      this.hide()\n    }\n\n    this.dispatchEvent(new CustomEvent('banner:dismiss'))\n  }\n\n  show() {\n    this.style.setProperty('display', 'initial')\n  }\n\n  hide() {\n    this.style.setProperty('display', 'none')\n  }\n\n  get #dismissScheme(): string {\n    return this.getAttribute('data-dismiss-scheme')!\n  }\n}\n\ndeclare global {\n  interface Window {\n    XBannerElement: typeof XBannerElement\n  }\n}\n\nif (!window.customElements.get('x-banner')) {\n  window.XBannerElement = XBannerElement\n  window.customElements.define('x-banner', XBannerElement)\n}\n","export default class Combobox {\n    constructor(input, list, { tabInsertsSuggestions, defaultFirstOption } = {}) {\n        this.input = input;\n        this.list = list;\n        this.tabInsertsSuggestions = tabInsertsSuggestions !== null && tabInsertsSuggestions !== void 0 ? tabInsertsSuggestions : true;\n        this.defaultFirstOption = defaultFirstOption !== null && defaultFirstOption !== void 0 ? defaultFirstOption : false;\n        this.isComposing = false;\n        if (!list.id) {\n            list.id = `combobox-${Math.random().toString().slice(2, 6)}`;\n        }\n        this.ctrlBindings = !!navigator.userAgent.match(/Macintosh/);\n        this.keyboardEventHandler = event => keyboardBindings(event, this);\n        this.compositionEventHandler = event => trackComposition(event, this);\n        this.inputHandler = this.clearSelection.bind(this);\n        input.setAttribute('role', 'combobox');\n        input.setAttribute('aria-controls', list.id);\n        input.setAttribute('aria-expanded', 'false');\n        input.setAttribute('aria-autocomplete', 'list');\n        input.setAttribute('aria-haspopup', 'listbox');\n    }\n    destroy() {\n        this.clearSelection();\n        this.stop();\n        this.input.removeAttribute('role');\n        this.input.removeAttribute('aria-controls');\n        this.input.removeAttribute('aria-expanded');\n        this.input.removeAttribute('aria-autocomplete');\n        this.input.removeAttribute('aria-haspopup');\n    }\n    start() {\n        this.input.setAttribute('aria-expanded', 'true');\n        this.input.addEventListener('compositionstart', this.compositionEventHandler);\n        this.input.addEventListener('compositionend', this.compositionEventHandler);\n        this.input.addEventListener('input', this.inputHandler);\n        this.input.addEventListener('keydown', this.keyboardEventHandler);\n        this.list.addEventListener('click', commitWithElement);\n        this.indicateDefaultOption();\n    }\n    stop() {\n        this.clearSelection();\n        this.input.setAttribute('aria-expanded', 'false');\n        this.input.removeEventListener('compositionstart', this.compositionEventHandler);\n        this.input.removeEventListener('compositionend', this.compositionEventHandler);\n        this.input.removeEventListener('input', this.inputHandler);\n        this.input.removeEventListener('keydown', this.keyboardEventHandler);\n        this.list.removeEventListener('click', commitWithElement);\n    }\n    indicateDefaultOption() {\n        var _a;\n        if (this.defaultFirstOption) {\n            (_a = Array.from(this.list.querySelectorAll('[role=\"option\"]:not([aria-disabled=\"true\"])'))\n                .filter(visible)[0]) === null || _a === void 0 ? void 0 : _a.setAttribute('data-combobox-option-default', 'true');\n        }\n    }\n    navigate(indexDiff = 1) {\n        const focusEl = Array.from(this.list.querySelectorAll('[aria-selected=\"true\"]')).filter(visible)[0];\n        const els = Array.from(this.list.querySelectorAll('[role=\"option\"]')).filter(visible);\n        const focusIndex = els.indexOf(focusEl);\n        if ((focusIndex === els.length - 1 && indexDiff === 1) || (focusIndex === 0 && indexDiff === -1)) {\n            this.clearSelection();\n            this.input.focus();\n            return;\n        }\n        let indexOfItem = indexDiff === 1 ? 0 : els.length - 1;\n        if (focusEl && focusIndex >= 0) {\n            const newIndex = focusIndex + indexDiff;\n            if (newIndex >= 0 && newIndex < els.length)\n                indexOfItem = newIndex;\n        }\n        const target = els[indexOfItem];\n        if (!target)\n            return;\n        for (const el of els) {\n            el.removeAttribute('data-combobox-option-default');\n            if (target === el) {\n                this.input.setAttribute('aria-activedescendant', target.id);\n                target.setAttribute('aria-selected', 'true');\n                scrollTo(this.list, target);\n            }\n            else {\n                el.removeAttribute('aria-selected');\n            }\n        }\n    }\n    clearSelection() {\n        this.input.removeAttribute('aria-activedescendant');\n        for (const el of this.list.querySelectorAll('[aria-selected=\"true\"]')) {\n            el.removeAttribute('aria-selected');\n        }\n        this.indicateDefaultOption();\n    }\n}\nfunction keyboardBindings(event, combobox) {\n    if (event.shiftKey || event.metaKey || event.altKey)\n        return;\n    if (!combobox.ctrlBindings && event.ctrlKey)\n        return;\n    if (combobox.isComposing)\n        return;\n    switch (event.key) {\n        case 'Enter':\n            if (commit(combobox.input, combobox.list)) {\n                event.preventDefault();\n            }\n            break;\n        case 'Tab':\n            if (combobox.tabInsertsSuggestions && commit(combobox.input, combobox.list)) {\n                event.preventDefault();\n            }\n            break;\n        case 'Escape':\n            combobox.clearSelection();\n            break;\n        case 'ArrowDown':\n            combobox.navigate(1);\n            event.preventDefault();\n            break;\n        case 'ArrowUp':\n            combobox.navigate(-1);\n            event.preventDefault();\n            break;\n        case 'n':\n            if (combobox.ctrlBindings && event.ctrlKey) {\n                combobox.navigate(1);\n                event.preventDefault();\n            }\n            break;\n        case 'p':\n            if (combobox.ctrlBindings && event.ctrlKey) {\n                combobox.navigate(-1);\n                event.preventDefault();\n            }\n            break;\n        default:\n            if (event.ctrlKey)\n                break;\n            combobox.clearSelection();\n    }\n}\nfunction commitWithElement(event) {\n    if (!(event.target instanceof Element))\n        return;\n    const target = event.target.closest('[role=\"option\"]');\n    if (!target)\n        return;\n    if (target.getAttribute('aria-disabled') === 'true')\n        return;\n    fireCommitEvent(target, { event });\n}\nfunction commit(input, list) {\n    const target = list.querySelector('[aria-selected=\"true\"], [data-combobox-option-default=\"true\"]');\n    if (!target)\n        return false;\n    if (target.getAttribute('aria-disabled') === 'true')\n        return true;\n    target.click();\n    return true;\n}\nfunction fireCommitEvent(target, detail) {\n    target.dispatchEvent(new CustomEvent('combobox-commit', { bubbles: true, detail }));\n}\nfunction visible(el) {\n    return (!el.hidden &&\n        !(el instanceof HTMLInputElement && el.type === 'hidden') &&\n        (el.offsetWidth > 0 || el.offsetHeight > 0));\n}\nfunction trackComposition(event, combobox) {\n    combobox.isComposing = event.type === 'compositionstart';\n    const list = document.getElementById(combobox.input.getAttribute('aria-controls') || '');\n    if (!list)\n        return;\n    combobox.clearSelection();\n}\nfunction scrollTo(container, target) {\n    if (!inViewport(container, target)) {\n        container.scrollTop = target.offsetTop;\n    }\n}\nfunction inViewport(container, element) {\n    const scrollTop = container.scrollTop;\n    const containerBottom = scrollTop + container.clientHeight;\n    const top = element.offsetTop;\n    const bottom = top + element.clientHeight;\n    return top >= scrollTop && bottom <= containerBottom;\n}\n","import Combobox from '@github/combobox-nav';\nimport debounce from './debounce.js';\nconst SCREEN_READER_DELAY = window.testScreenReaderDelay || 100;\nexport default class Autocomplete {\n    constructor(container, input, results, autoselectEnabled = false) {\n        var _a;\n        this.container = container;\n        this.input = input;\n        this.results = results;\n        this.combobox = new Combobox(input, results, {\n            defaultFirstOption: autoselectEnabled,\n        });\n        this.feedback = container.getRootNode().getElementById(`${this.results.id}-feedback`);\n        this.autoselectEnabled = autoselectEnabled;\n        this.clearButton = container.getRootNode().getElementById(`${this.input.id || this.input.name}-clear`);\n        this.clientOptions = results.querySelectorAll('[role=option]');\n        if (this.feedback) {\n            this.feedback.setAttribute('aria-live', 'polite');\n            this.feedback.setAttribute('aria-atomic', 'true');\n        }\n        if (this.clearButton && !this.clearButton.getAttribute('aria-label')) {\n            const labelElem = document.querySelector(`label[for=\"${this.input.name}\"]`);\n            this.clearButton.setAttribute('aria-label', `clear:`);\n            this.clearButton.setAttribute('aria-labelledby', `${this.clearButton.id} ${(labelElem === null || labelElem === void 0 ? void 0 : labelElem.id) || ''}`);\n        }\n        if (!this.input.getAttribute('aria-expanded')) {\n            this.input.setAttribute('aria-expanded', 'false');\n        }\n        if (this.results.popover) {\n            if (this.results.matches(':popover-open')) {\n                this.results.hidePopover();\n            }\n        }\n        else {\n            this.results.hidden = true;\n        }\n        if (!this.results.getAttribute('aria-label')) {\n            this.results.setAttribute('aria-label', 'results');\n        }\n        this.input.setAttribute('autocomplete', 'off');\n        this.input.setAttribute('spellcheck', 'false');\n        this.interactingWithList = false;\n        this.onInputChange = debounce(this.onInputChange.bind(this), 300);\n        this.onResultsMouseDown = this.onResultsMouseDown.bind(this);\n        this.onInputBlur = this.onInputBlur.bind(this);\n        this.onInputFocus = this.onInputFocus.bind(this);\n        this.onKeydown = this.onKeydown.bind(this);\n        this.onCommit = this.onCommit.bind(this);\n        this.handleClear = this.handleClear.bind(this);\n        this.input.addEventListener('keydown', this.onKeydown);\n        this.input.addEventListener('focus', this.onInputFocus);\n        this.input.addEventListener('blur', this.onInputBlur);\n        this.input.addEventListener('input', this.onInputChange);\n        this.results.addEventListener('mousedown', this.onResultsMouseDown);\n        this.results.addEventListener('combobox-commit', this.onCommit);\n        (_a = this.clearButton) === null || _a === void 0 ? void 0 : _a.addEventListener('click', this.handleClear);\n    }\n    destroy() {\n        this.input.removeEventListener('keydown', this.onKeydown);\n        this.input.removeEventListener('focus', this.onInputFocus);\n        this.input.removeEventListener('blur', this.onInputBlur);\n        this.input.removeEventListener('input', this.onInputChange);\n        this.results.removeEventListener('mousedown', this.onResultsMouseDown);\n        this.results.removeEventListener('combobox-commit', this.onCommit);\n    }\n    handleClear(event) {\n        event.preventDefault();\n        if (this.input.getAttribute('aria-expanded') === 'true') {\n            this.input.setAttribute('aria-expanded', 'false');\n            this.updateFeedbackForScreenReaders('Results hidden.');\n        }\n        this.input.value = '';\n        this.container.value = '';\n        this.input.focus();\n        this.input.dispatchEvent(new Event('change'));\n        this.close();\n    }\n    onKeydown(event) {\n        if (event.key === 'Escape' && this.container.open) {\n            this.close();\n            event.stopPropagation();\n            event.preventDefault();\n        }\n        else if (event.altKey && event.key === 'ArrowUp' && this.container.open) {\n            this.close();\n            event.stopPropagation();\n            event.preventDefault();\n        }\n        else if (event.altKey && event.key === 'ArrowDown' && !this.container.open) {\n            if (!this.input.value.trim())\n                return;\n            this.open();\n            event.stopPropagation();\n            event.preventDefault();\n        }\n    }\n    onInputFocus() {\n        if (this.interactingWithList)\n            return;\n        this.fetchResults();\n    }\n    onInputBlur() {\n        if (this.interactingWithList)\n            return;\n        this.close();\n    }\n    onCommit({ target }) {\n        const selected = target;\n        if (!(selected instanceof HTMLElement))\n            return;\n        this.close();\n        if (selected instanceof HTMLAnchorElement)\n            return;\n        const value = selected.getAttribute('data-autocomplete-value') || selected.textContent;\n        this.updateFeedbackForScreenReaders(`${selected.textContent || ''} selected.`);\n        this.container.value = value;\n        if (!value) {\n            this.updateFeedbackForScreenReaders(`Results hidden.`);\n        }\n    }\n    onResultsMouseDown() {\n        this.interactingWithList = true;\n    }\n    onInputChange() {\n        if (this.feedback && this.feedback.textContent) {\n            this.feedback.textContent = '';\n        }\n        this.container.removeAttribute('value');\n        this.fetchResults();\n    }\n    identifyOptions() {\n        let id = 0;\n        for (const el of this.results.querySelectorAll('[role=\"option\"]:not([id])')) {\n            el.id = `${this.results.id}-option-${id++}`;\n        }\n    }\n    updateFeedbackForScreenReaders(inputString) {\n        setTimeout(() => {\n            if (this.feedback) {\n                this.feedback.textContent = inputString;\n            }\n        }, SCREEN_READER_DELAY);\n    }\n    fetchResults() {\n        const query = this.input.value.trim();\n        if (!query && !this.container.fetchOnEmpty) {\n            this.close();\n            return;\n        }\n        const src = this.container.src;\n        if (!src)\n            return;\n        const url = new URL(src, window.location.href);\n        const params = new URLSearchParams(url.search.slice(1));\n        params.append('q', query);\n        url.search = params.toString();\n        this.container.dispatchEvent(new CustomEvent('loadstart'));\n        this.container\n            .fetchResult(url)\n            .then(html => {\n            this.results.innerHTML = html;\n            this.identifyOptions();\n            this.combobox.indicateDefaultOption();\n            const allNewOptions = this.results.querySelectorAll('[role=\"option\"]');\n            const hasResults = !!allNewOptions.length;\n            const numOptions = allNewOptions.length;\n            const [firstOption] = allNewOptions;\n            const firstOptionValue = firstOption === null || firstOption === void 0 ? void 0 : firstOption.textContent;\n            if (this.autoselectEnabled && firstOptionValue) {\n                this.updateFeedbackForScreenReaders(`${numOptions} results. ${firstOptionValue} is the top result: Press Enter to activate.`);\n            }\n            else {\n                this.updateFeedbackForScreenReaders(`${numOptions || 'No'} results.`);\n            }\n            hasResults ? this.open() : this.close();\n            this.container.dispatchEvent(new CustomEvent('load'));\n            this.container.dispatchEvent(new CustomEvent('loadend'));\n        })\n            .catch(() => {\n            this.container.dispatchEvent(new CustomEvent('error'));\n            this.container.dispatchEvent(new CustomEvent('loadend'));\n        });\n    }\n    open() {\n        const isHidden = this.results.popover ? !this.results.matches(':popover-open') : this.results.hidden;\n        if (isHidden) {\n            this.combobox.start();\n            if (this.results.popover) {\n                this.results.showPopover();\n            }\n            else {\n                this.results.hidden = false;\n            }\n        }\n        this.container.open = true;\n        this.interactingWithList = true;\n    }\n    close() {\n        const isVisible = this.results.popover ? this.results.matches(':popover-open') : !this.results.hidden;\n        if (isVisible) {\n            this.combobox.stop();\n            if (this.results.popover) {\n                this.results.hidePopover();\n            }\n            else {\n                this.results.hidden = true;\n            }\n        }\n        this.container.open = false;\n        this.interactingWithList = false;\n    }\n}\n","export default function debounce(callback, wait = 0) {\n    let timeout;\n    return function (...Rest) {\n        clearTimeout(timeout);\n        timeout = window.setTimeout(() => {\n            clearTimeout(timeout);\n            callback(...Rest);\n        }, wait);\n    };\n}\n","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar _AutoCompleteElement_instances, _AutoCompleteElement_forElement, _AutoCompleteElement_inputElement, _AutoCompleteElement_reattachState, _AutoCompleteElement_requestController;\nimport Autocomplete from './autocomplete.js';\nconst HTMLElement = globalThis.HTMLElement || null;\nexport class AutoCompleteEvent extends Event {\n    constructor(type, _a) {\n        var { relatedTarget } = _a, init = __rest(_a, [\"relatedTarget\"]);\n        super(type, init);\n        this.relatedTarget = relatedTarget;\n    }\n}\nconst state = new WeakMap();\nlet cspTrustedTypesPolicyPromise = null;\nexport class AutoCompleteElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        _AutoCompleteElement_instances.add(this);\n        _AutoCompleteElement_forElement.set(this, null);\n        _AutoCompleteElement_inputElement.set(this, null);\n        _AutoCompleteElement_requestController.set(this, void 0);\n    }\n    static define(tag = 'auto-complete', registry = customElements) {\n        registry.define(tag, this);\n        return this;\n    }\n    static setCSPTrustedTypesPolicy(policy) {\n        cspTrustedTypesPolicyPromise = policy === null ? policy : Promise.resolve(policy);\n    }\n    get forElement() {\n        var _a;\n        if ((_a = __classPrivateFieldGet(this, _AutoCompleteElement_forElement, \"f\")) === null || _a === void 0 ? void 0 : _a.isConnected) {\n            return __classPrivateFieldGet(this, _AutoCompleteElement_forElement, \"f\");\n        }\n        const id = this.getAttribute('for');\n        const root = this.getRootNode();\n        if (id && (root instanceof Document || root instanceof ShadowRoot)) {\n            return root.getElementById(id);\n        }\n        return null;\n    }\n    set forElement(element) {\n        __classPrivateFieldSet(this, _AutoCompleteElement_forElement, element, \"f\");\n        this.setAttribute('for', '');\n    }\n    get inputElement() {\n        var _a;\n        if ((_a = __classPrivateFieldGet(this, _AutoCompleteElement_inputElement, \"f\")) === null || _a === void 0 ? void 0 : _a.isConnected) {\n            return __classPrivateFieldGet(this, _AutoCompleteElement_inputElement, \"f\");\n        }\n        return this.querySelector('input');\n    }\n    set inputElement(input) {\n        __classPrivateFieldSet(this, _AutoCompleteElement_inputElement, input, \"f\");\n        __classPrivateFieldGet(this, _AutoCompleteElement_instances, \"m\", _AutoCompleteElement_reattachState).call(this);\n    }\n    connectedCallback() {\n        if (!this.isConnected)\n            return;\n        __classPrivateFieldGet(this, _AutoCompleteElement_instances, \"m\", _AutoCompleteElement_reattachState).call(this);\n        new MutationObserver(() => {\n            if (!state.get(this)) {\n                __classPrivateFieldGet(this, _AutoCompleteElement_instances, \"m\", _AutoCompleteElement_reattachState).call(this);\n            }\n        }).observe(this, { subtree: true, childList: true });\n    }\n    disconnectedCallback() {\n        const autocomplete = state.get(this);\n        if (autocomplete) {\n            autocomplete.destroy();\n            state.delete(this);\n        }\n    }\n    get src() {\n        return this.getAttribute('src') || '';\n    }\n    set src(url) {\n        this.setAttribute('src', url);\n    }\n    get value() {\n        return this.getAttribute('value') || '';\n    }\n    set value(value) {\n        this.setAttribute('value', value);\n    }\n    get open() {\n        return this.hasAttribute('open');\n    }\n    set open(value) {\n        if (value) {\n            this.setAttribute('open', '');\n        }\n        else {\n            this.removeAttribute('open');\n        }\n    }\n    get fetchOnEmpty() {\n        return this.hasAttribute('fetch-on-empty');\n    }\n    set fetchOnEmpty(fetchOnEmpty) {\n        this.toggleAttribute('fetch-on-empty', fetchOnEmpty);\n    }\n    async fetchResult(url) {\n        var _a;\n        (_a = __classPrivateFieldGet(this, _AutoCompleteElement_requestController, \"f\")) === null || _a === void 0 ? void 0 : _a.abort();\n        const { signal } = (__classPrivateFieldSet(this, _AutoCompleteElement_requestController, new AbortController(), \"f\"));\n        const res = await fetch(url.toString(), {\n            signal,\n            headers: {\n                Accept: 'text/fragment+html',\n            },\n        });\n        if (!res.ok) {\n            throw new Error(await res.text());\n        }\n        if (cspTrustedTypesPolicyPromise) {\n            const cspTrustedTypesPolicy = await cspTrustedTypesPolicyPromise;\n            return cspTrustedTypesPolicy.createHTML(await res.text(), res);\n        }\n        return await res.text();\n    }\n    static get observedAttributes() {\n        return ['open', 'value', 'for'];\n    }\n    attributeChangedCallback(name, oldValue, newValue) {\n        var _a, _b;\n        if (oldValue === newValue)\n            return;\n        const autocomplete = state.get(this);\n        if (!autocomplete)\n            return;\n        if (this.forElement !== ((_a = state.get(this)) === null || _a === void 0 ? void 0 : _a.results) || this.inputElement !== ((_b = state.get(this)) === null || _b === void 0 ? void 0 : _b.input)) {\n            __classPrivateFieldGet(this, _AutoCompleteElement_instances, \"m\", _AutoCompleteElement_reattachState).call(this);\n        }\n        switch (name) {\n            case 'open':\n                newValue === null ? autocomplete.close() : autocomplete.open();\n                break;\n            case 'value':\n                if (newValue !== null) {\n                    autocomplete.input.value = newValue;\n                }\n                this.dispatchEvent(new AutoCompleteEvent('auto-complete-change', {\n                    bubbles: true,\n                    relatedTarget: autocomplete.input,\n                }));\n                break;\n        }\n    }\n}\n_AutoCompleteElement_forElement = new WeakMap(), _AutoCompleteElement_inputElement = new WeakMap(), _AutoCompleteElement_requestController = new WeakMap(), _AutoCompleteElement_instances = new WeakSet(), _AutoCompleteElement_reattachState = function _AutoCompleteElement_reattachState() {\n    var _a;\n    (_a = state.get(this)) === null || _a === void 0 ? void 0 : _a.destroy();\n    const { forElement, inputElement } = this;\n    if (!forElement || !inputElement)\n        return;\n    const autoselectEnabled = this.getAttribute('data-autoselect') === 'true';\n    state.set(this, new Autocomplete(this, inputElement, forElement, autoselectEnabled));\n    forElement.setAttribute('role', 'listbox');\n};\nexport default AutoCompleteElement;\n","import { AutoCompleteElement } from './auto-complete-element.js';\nconst root = (typeof globalThis !== 'undefined' ? globalThis : window);\ntry {\n    root.AutocompleteElement = root.AutoCompleteElement = AutoCompleteElement.define();\n}\ncatch (e) {\n    if (!(root.DOMException && e instanceof DOMException && e.name === 'NotSupportedError') &&\n        !(e instanceof ReferenceError)) {\n        throw e;\n    }\n}\nexport default AutoCompleteElement;\nexport * from './auto-complete-element.js';\n","function createNode(text) {\n    const node = document.createElement('pre');\n    node.style.width = '1px';\n    node.style.height = '1px';\n    node.style.position = 'fixed';\n    node.style.top = '5px';\n    node.textContent = text;\n    return node;\n}\nexport function copyNode(node) {\n    if ('clipboard' in navigator) {\n        return navigator.clipboard.writeText(node.textContent || '');\n    }\n    const selection = getSelection();\n    if (selection == null) {\n        return Promise.reject(new Error());\n    }\n    selection.removeAllRanges();\n    const range = document.createRange();\n    range.selectNodeContents(node);\n    selection.addRange(range);\n    document.execCommand('copy');\n    selection.removeAllRanges();\n    return Promise.resolve();\n}\nexport function copyText(text) {\n    if ('clipboard' in navigator) {\n        return navigator.clipboard.writeText(text);\n    }\n    const body = document.body;\n    if (!body) {\n        return Promise.reject(new Error());\n    }\n    const node = createNode(text);\n    body.appendChild(node);\n    copyNode(node);\n    body.removeChild(node);\n    return Promise.resolve();\n}\n","import { copyNode, copyText } from './clipboard.js';\nasync function copy(button) {\n    const id = button.getAttribute('for');\n    const text = button.getAttribute('value');\n    function trigger() {\n        button.dispatchEvent(new CustomEvent('clipboard-copy', { bubbles: true }));\n    }\n    if (button.getAttribute('aria-disabled') === 'true') {\n        return;\n    }\n    if (text) {\n        await copyText(text);\n        trigger();\n    }\n    else if (id) {\n        const root = 'getRootNode' in Element.prototype ? button.getRootNode() : button.ownerDocument;\n        if (!(root instanceof Document || ('ShadowRoot' in window && root instanceof ShadowRoot)))\n            return;\n        const node = root.getElementById(id);\n        if (node) {\n            await copyTarget(node);\n            trigger();\n        }\n    }\n}\nfunction copyTarget(content) {\n    if (content instanceof HTMLInputElement || content instanceof HTMLTextAreaElement) {\n        return copyText(content.value);\n    }\n    else if (content instanceof HTMLAnchorElement && content.hasAttribute('href')) {\n        return copyText(content.href);\n    }\n    else {\n        return copyNode(content);\n    }\n}\nfunction clicked(event) {\n    const button = event.currentTarget;\n    if (button instanceof HTMLElement) {\n        copy(button);\n    }\n}\nfunction keydown(event) {\n    if (event.key === ' ' || event.key === 'Enter') {\n        const button = event.currentTarget;\n        if (button instanceof HTMLElement) {\n            event.preventDefault();\n            copy(button);\n        }\n    }\n}\nfunction focused(event) {\n    ;\n    event.currentTarget.addEventListener('keydown', keydown);\n}\nfunction blurred(event) {\n    ;\n    event.currentTarget.removeEventListener('keydown', keydown);\n}\nexport class ClipboardCopyElement extends HTMLElement {\n    static define(tag = 'clipboard-copy', registry = customElements) {\n        registry.define(tag, this);\n        return this;\n    }\n    constructor() {\n        super();\n        this.addEventListener('click', clicked);\n        this.addEventListener('focus', focused);\n        this.addEventListener('blur', blurred);\n    }\n    connectedCallback() {\n        if (!this.hasAttribute('tabindex')) {\n            this.setAttribute('tabindex', '0');\n        }\n        if (!this.hasAttribute('role')) {\n            this.setAttribute('role', 'button');\n        }\n    }\n    get value() {\n        return this.getAttribute('value') || '';\n    }\n    set value(text) {\n        this.setAttribute('value', text);\n    }\n}\n","import { ClipboardCopyElement } from './clipboard-copy-element.js';\nconst root = (typeof globalThis !== 'undefined' ? globalThis : window);\ntry {\n    root.ClipboardCopyElement = ClipboardCopyElement.define();\n}\ncatch (e) {\n    if (!(root.DOMException && e instanceof DOMException && e.name === 'NotSupportedError') &&\n        !(e instanceof ReferenceError)) {\n        throw e;\n    }\n}\nexport default ClipboardCopyElement;\nexport * from './clipboard-copy-element.js';\n","import '@github/clipboard-copy-element'\n\nconst CLIPBOARD_COPY_TIMER_DURATION = 2000\n\nfunction showSVG(svg: SVGElement) {\n  svg.style.display = 'inline-block'\n}\n\nfunction hideSVG(svg: SVGElement) {\n  svg.style.display = 'none'\n}\n\n// Toggle a copy button.\nfunction showCopy(button: HTMLElement) {\n  const [copyIcon, checkIcon] = button.querySelectorAll<SVGElement>('.octicon')\n\n  if (!copyIcon || !checkIcon) return\n\n  showSVG(copyIcon)\n  hideSVG(checkIcon)\n}\n\n// Toggle a copy button.\nfunction showCheck(button: HTMLElement) {\n  const [copyIcon, checkIcon] = button.querySelectorAll<SVGElement>('.octicon')\n\n  if (!copyIcon || !checkIcon) return\n\n  hideSVG(copyIcon)\n  showSVG(checkIcon)\n}\n\nconst clipboardCopyElementTimers = new WeakMap<HTMLElement, number>()\n\ndocument.addEventListener('clipboard-copy', ({target}) => {\n  if (!(target instanceof HTMLElement)) return\n  if (!target.hasAttribute('data-view-component')) return\n\n  const currentTimeout = clipboardCopyElementTimers.get(target)\n  const clipboardCopyLiveRegion = target.parentNode?.querySelector<HTMLElement>('[data-clipboard-copy-feedback]')\n  const copiedAnnouncement = 'Copied!'\n\n  if (currentTimeout) {\n    clearTimeout(currentTimeout)\n    clipboardCopyElementTimers.delete(target)\n  } else {\n    showCheck(target)\n    if (clipboardCopyLiveRegion) {\n      if (clipboardCopyLiveRegion.textContent === copiedAnnouncement) {\n        /* This is a hack due to the way the aria live API works.\n        A screen reader will not read a live region again\n        if the text is the same. Adding a space character tells\n        the browser that the live region has updated,\n        which will cause it to read again, but with no audible difference. */\n        clipboardCopyLiveRegion.textContent = `${copiedAnnouncement}\\u00A0`\n      } else {\n        clipboardCopyLiveRegion.textContent = copiedAnnouncement\n      }\n    }\n  }\n\n  clipboardCopyElementTimers.set(\n    target,\n    setTimeout(() => {\n      showCopy(target)\n      clipboardCopyElementTimers.delete(target)\n    }, CLIPBOARD_COPY_TIMER_DURATION),\n  )\n})\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _DurationFormat_options;\nclass ListFormatPonyFill {\n    formatToParts(members) {\n        const parts = [];\n        for (const value of members) {\n            parts.push({ type: 'element', value });\n            parts.push({ type: 'literal', value: ', ' });\n        }\n        return parts.slice(0, -1);\n    }\n}\nconst ListFormat = (typeof Intl !== 'undefined' && Intl.ListFormat) || ListFormatPonyFill;\nconst partsTable = [\n    ['years', 'year'],\n    ['months', 'month'],\n    ['weeks', 'week'],\n    ['days', 'day'],\n    ['hours', 'hour'],\n    ['minutes', 'minute'],\n    ['seconds', 'second'],\n    ['milliseconds', 'millisecond'],\n];\nconst twoDigitFormatOptions = { minimumIntegerDigits: 2 };\nexport default class DurationFormat {\n    constructor(locale, options = {}) {\n        _DurationFormat_options.set(this, void 0);\n        let style = String(options.style || 'short');\n        if (style !== 'long' && style !== 'short' && style !== 'narrow' && style !== 'digital')\n            style = 'short';\n        let prevStyle = style === 'digital' ? 'numeric' : style;\n        const hours = options.hours || prevStyle;\n        prevStyle = hours === '2-digit' ? 'numeric' : hours;\n        const minutes = options.minutes || prevStyle;\n        prevStyle = minutes === '2-digit' ? 'numeric' : minutes;\n        const seconds = options.seconds || prevStyle;\n        prevStyle = seconds === '2-digit' ? 'numeric' : seconds;\n        const milliseconds = options.milliseconds || prevStyle;\n        __classPrivateFieldSet(this, _DurationFormat_options, {\n            locale,\n            style,\n            years: options.years || style === 'digital' ? 'short' : style,\n            yearsDisplay: options.yearsDisplay === 'always' ? 'always' : 'auto',\n            months: options.months || style === 'digital' ? 'short' : style,\n            monthsDisplay: options.monthsDisplay === 'always' ? 'always' : 'auto',\n            weeks: options.weeks || style === 'digital' ? 'short' : style,\n            weeksDisplay: options.weeksDisplay === 'always' ? 'always' : 'auto',\n            days: options.days || style === 'digital' ? 'short' : style,\n            daysDisplay: options.daysDisplay === 'always' ? 'always' : 'auto',\n            hours,\n            hoursDisplay: options.hoursDisplay === 'always' ? 'always' : style === 'digital' ? 'always' : 'auto',\n            minutes,\n            minutesDisplay: options.minutesDisplay === 'always' ? 'always' : style === 'digital' ? 'always' : 'auto',\n            seconds,\n            secondsDisplay: options.secondsDisplay === 'always' ? 'always' : style === 'digital' ? 'always' : 'auto',\n            milliseconds,\n            millisecondsDisplay: options.millisecondsDisplay === 'always' ? 'always' : 'auto',\n        }, \"f\");\n    }\n    resolvedOptions() {\n        return __classPrivateFieldGet(this, _DurationFormat_options, \"f\");\n    }\n    formatToParts(duration) {\n        const list = [];\n        const options = __classPrivateFieldGet(this, _DurationFormat_options, \"f\");\n        const style = options.style;\n        const locale = options.locale;\n        for (const [unit, nfUnit] of partsTable) {\n            const value = duration[unit];\n            if (options[`${unit}Display`] === 'auto' && !value)\n                continue;\n            const unitStyle = options[unit];\n            const nfOpts = unitStyle === '2-digit'\n                ? twoDigitFormatOptions\n                : unitStyle === 'numeric'\n                    ? {}\n                    : { style: 'unit', unit: nfUnit, unitDisplay: unitStyle };\n            list.push(new Intl.NumberFormat(locale, nfOpts).format(value));\n        }\n        return new ListFormat(locale, {\n            type: 'unit',\n            style: style === 'digital' ? 'short' : style,\n        }).formatToParts(list);\n    }\n    format(duration) {\n        return this.formatToParts(duration)\n            .map(p => p.value)\n            .join('');\n    }\n}\n_DurationFormat_options = new WeakMap();\n","import DurationFormat from './duration-format-ponyfill.js';\nconst durationRe = /^[-+]?P(?:(\\d+)Y)?(?:(\\d+)M)?(?:(\\d+)W)?(?:(\\d+)D)?(?:T(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+)S)?)?$/;\nexport const unitNames = ['year', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];\nexport const isDuration = (str) => durationRe.test(str);\nexport class Duration {\n    constructor(years = 0, months = 0, weeks = 0, days = 0, hours = 0, minutes = 0, seconds = 0, milliseconds = 0) {\n        this.years = years;\n        this.months = months;\n        this.weeks = weeks;\n        this.days = days;\n        this.hours = hours;\n        this.minutes = minutes;\n        this.seconds = seconds;\n        this.milliseconds = milliseconds;\n        this.years || (this.years = 0);\n        this.sign || (this.sign = Math.sign(this.years));\n        this.months || (this.months = 0);\n        this.sign || (this.sign = Math.sign(this.months));\n        this.weeks || (this.weeks = 0);\n        this.sign || (this.sign = Math.sign(this.weeks));\n        this.days || (this.days = 0);\n        this.sign || (this.sign = Math.sign(this.days));\n        this.hours || (this.hours = 0);\n        this.sign || (this.sign = Math.sign(this.hours));\n        this.minutes || (this.minutes = 0);\n        this.sign || (this.sign = Math.sign(this.minutes));\n        this.seconds || (this.seconds = 0);\n        this.sign || (this.sign = Math.sign(this.seconds));\n        this.milliseconds || (this.milliseconds = 0);\n        this.sign || (this.sign = Math.sign(this.milliseconds));\n        this.blank = this.sign === 0;\n    }\n    abs() {\n        return new Duration(Math.abs(this.years), Math.abs(this.months), Math.abs(this.weeks), Math.abs(this.days), Math.abs(this.hours), Math.abs(this.minutes), Math.abs(this.seconds), Math.abs(this.milliseconds));\n    }\n    static from(durationLike) {\n        var _a;\n        if (typeof durationLike === 'string') {\n            const str = String(durationLike).trim();\n            const factor = str.startsWith('-') ? -1 : 1;\n            const parsed = (_a = str\n                .match(durationRe)) === null || _a === void 0 ? void 0 : _a.slice(1).map(x => (Number(x) || 0) * factor);\n            if (!parsed)\n                return new Duration();\n            return new Duration(...parsed);\n        }\n        else if (typeof durationLike === 'object') {\n            const { years, months, weeks, days, hours, minutes, seconds, milliseconds } = durationLike;\n            return new Duration(years, months, weeks, days, hours, minutes, seconds, milliseconds);\n        }\n        throw new RangeError('invalid duration');\n    }\n    static compare(one, two) {\n        const now = Date.now();\n        const oneApplied = Math.abs(applyDuration(now, Duration.from(one)).getTime() - now);\n        const twoApplied = Math.abs(applyDuration(now, Duration.from(two)).getTime() - now);\n        return oneApplied > twoApplied ? -1 : oneApplied < twoApplied ? 1 : 0;\n    }\n    toLocaleString(locale, opts) {\n        return new DurationFormat(locale, opts).format(this);\n    }\n}\nexport function applyDuration(date, duration) {\n    const r = new Date(date);\n    r.setFullYear(r.getFullYear() + duration.years);\n    r.setMonth(r.getMonth() + duration.months);\n    r.setDate(r.getDate() + duration.weeks * 7 + duration.days);\n    r.setHours(r.getHours() + duration.hours);\n    r.setMinutes(r.getMinutes() + duration.minutes);\n    r.setSeconds(r.getSeconds() + duration.seconds);\n    return r;\n}\nexport function elapsedTime(date, precision = 'second', now = Date.now()) {\n    const delta = date.getTime() - now;\n    if (delta === 0)\n        return new Duration();\n    const sign = Math.sign(delta);\n    const ms = Math.abs(delta);\n    const sec = Math.floor(ms / 1000);\n    const min = Math.floor(sec / 60);\n    const hr = Math.floor(min / 60);\n    const day = Math.floor(hr / 24);\n    const month = Math.floor(day / 30);\n    const year = Math.floor(month / 12);\n    const i = unitNames.indexOf(precision) || unitNames.length;\n    return new Duration(i >= 0 ? year * sign : 0, i >= 1 ? (month - year * 12) * sign : 0, 0, i >= 3 ? (day - month * 30) * sign : 0, i >= 4 ? (hr - day * 24) * sign : 0, i >= 5 ? (min - hr * 60) * sign : 0, i >= 6 ? (sec - min * 60) * sign : 0, i >= 7 ? (ms - sec * 1000) * sign : 0);\n}\nexport function roundToSingleUnit(duration, { relativeTo = Date.now() } = {}) {\n    relativeTo = new Date(relativeTo);\n    if (duration.blank)\n        return duration;\n    const sign = duration.sign;\n    let years = Math.abs(duration.years);\n    let months = Math.abs(duration.months);\n    let weeks = Math.abs(duration.weeks);\n    let days = Math.abs(duration.days);\n    let hours = Math.abs(duration.hours);\n    let minutes = Math.abs(duration.minutes);\n    let seconds = Math.abs(duration.seconds);\n    let milliseconds = Math.abs(duration.milliseconds);\n    if (milliseconds >= 900)\n        seconds += Math.round(milliseconds / 1000);\n    if (seconds || minutes || hours || days || weeks || months || years) {\n        milliseconds = 0;\n    }\n    if (seconds >= 55)\n        minutes += Math.round(seconds / 60);\n    if (minutes || hours || days || weeks || months || years)\n        seconds = 0;\n    if (minutes >= 55)\n        hours += Math.round(minutes / 60);\n    if (hours || days || weeks || months || years)\n        minutes = 0;\n    if (days && hours >= 12)\n        days += Math.round(hours / 24);\n    if (!days && hours >= 21)\n        days += Math.round(hours / 24);\n    if (days || weeks || months || years)\n        hours = 0;\n    const currentYear = relativeTo.getFullYear();\n    const currentMonth = relativeTo.getMonth();\n    const currentDate = relativeTo.getDate();\n    if (days >= 27 || years + months + days) {\n        const newMonthDate = new Date(relativeTo);\n        newMonthDate.setDate(1);\n        newMonthDate.setMonth(currentMonth + months * sign + 1);\n        newMonthDate.setDate(0);\n        const monthDateCorrection = Math.max(0, currentDate - newMonthDate.getDate());\n        const newDate = new Date(relativeTo);\n        newDate.setFullYear(currentYear + years * sign);\n        newDate.setDate(currentDate - monthDateCorrection);\n        newDate.setMonth(currentMonth + months * sign);\n        newDate.setDate(currentDate - monthDateCorrection + days * sign);\n        const yearDiff = newDate.getFullYear() - relativeTo.getFullYear();\n        const monthDiff = newDate.getMonth() - relativeTo.getMonth();\n        const daysDiff = Math.abs(Math.round((Number(newDate) - Number(relativeTo)) / 86400000)) + monthDateCorrection;\n        const monthsDiff = Math.abs(yearDiff * 12 + monthDiff);\n        if (daysDiff < 27) {\n            if (days >= 6) {\n                weeks += Math.round(days / 7);\n                days = 0;\n            }\n            else {\n                days = daysDiff;\n            }\n            months = years = 0;\n        }\n        else if (monthsDiff < 11) {\n            months = monthsDiff;\n            years = 0;\n        }\n        else {\n            months = 0;\n            years = yearDiff * sign;\n        }\n        if (months || years)\n            days = 0;\n    }\n    if (years)\n        months = 0;\n    if (weeks >= 4)\n        months += Math.round(weeks / 4);\n    if (months || years)\n        weeks = 0;\n    if (days && weeks && !months && !years) {\n        weeks += Math.round(days / 7);\n        days = 0;\n    }\n    return new Duration(years * sign, months * sign, weeks * sign, days * sign, hours * sign, minutes * sign, seconds * sign, milliseconds * sign);\n}\nexport function getRelativeTimeUnit(duration, opts) {\n    const rounded = roundToSingleUnit(duration, opts);\n    if (rounded.blank)\n        return [0, 'second'];\n    for (const unit of unitNames) {\n        if (unit === 'millisecond')\n            continue;\n        const val = rounded[`${unit}s`];\n        if (val)\n            return [val, unit];\n    }\n    return [0, 'second'];\n}\n","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _RelativeTimeElement_instances, _RelativeTimeElement_customTitle, _RelativeTimeElement_updating, _RelativeTimeElement_lang_get, _RelativeTimeElement_renderRoot, _RelativeTimeElement_getFormattedTitle, _RelativeTimeElement_resolveFormat, _RelativeTimeElement_getDurationFormat, _RelativeTimeElement_getRelativeFormat, _RelativeTimeElement_getDateTimeFormat, _RelativeTimeElement_onRelativeTimeUpdated;\nimport { Duration, elapsedTime, getRelativeTimeUnit, isDuration, roundToSingleUnit, unitNames } from './duration.js';\nconst HTMLElement = globalThis.HTMLElement || null;\nconst emptyDuration = new Duration();\nconst microEmptyDuration = new Duration(0, 0, 0, 0, 0, 1);\nexport class RelativeTimeUpdatedEvent extends Event {\n    constructor(oldText, newText, oldTitle, newTitle) {\n        super('relative-time-updated', { bubbles: true, composed: true });\n        this.oldText = oldText;\n        this.newText = newText;\n        this.oldTitle = oldTitle;\n        this.newTitle = newTitle;\n    }\n}\nfunction getUnitFactor(el) {\n    if (!el.date)\n        return Infinity;\n    if (el.format === 'duration' || el.format === 'elapsed') {\n        const precision = el.precision;\n        if (precision === 'second') {\n            return 1000;\n        }\n        else if (precision === 'minute') {\n            return 60 * 1000;\n        }\n    }\n    const ms = Math.abs(Date.now() - el.date.getTime());\n    if (ms < 60 * 1000)\n        return 1000;\n    if (ms < 60 * 60 * 1000)\n        return 60 * 1000;\n    return 60 * 60 * 1000;\n}\nconst dateObserver = new (class {\n    constructor() {\n        this.elements = new Set();\n        this.time = Infinity;\n        this.timer = -1;\n    }\n    observe(element) {\n        if (this.elements.has(element))\n            return;\n        this.elements.add(element);\n        const date = element.date;\n        if (date && date.getTime()) {\n            const ms = getUnitFactor(element);\n            const time = Date.now() + ms;\n            if (time < this.time) {\n                clearTimeout(this.timer);\n                this.timer = setTimeout(() => this.update(), ms);\n                this.time = time;\n            }\n        }\n    }\n    unobserve(element) {\n        if (!this.elements.has(element))\n            return;\n        this.elements.delete(element);\n    }\n    update() {\n        clearTimeout(this.timer);\n        if (!this.elements.size)\n            return;\n        let nearestDistance = Infinity;\n        for (const timeEl of this.elements) {\n            nearestDistance = Math.min(nearestDistance, getUnitFactor(timeEl));\n            timeEl.update();\n        }\n        this.time = Math.min(60 * 60 * 1000, nearestDistance);\n        this.timer = setTimeout(() => this.update(), this.time);\n        this.time += Date.now();\n    }\n})();\nexport class RelativeTimeElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        _RelativeTimeElement_instances.add(this);\n        _RelativeTimeElement_customTitle.set(this, false);\n        _RelativeTimeElement_updating.set(this, false);\n        _RelativeTimeElement_renderRoot.set(this, this.shadowRoot ? this.shadowRoot : this.attachShadow ? this.attachShadow({ mode: 'open' }) : this);\n        _RelativeTimeElement_onRelativeTimeUpdated.set(this, null);\n    }\n    static define(tag = 'relative-time', registry = customElements) {\n        registry.define(tag, this);\n        return this;\n    }\n    static get observedAttributes() {\n        return [\n            'second',\n            'minute',\n            'hour',\n            'weekday',\n            'day',\n            'month',\n            'year',\n            'time-zone-name',\n            'prefix',\n            'threshold',\n            'tense',\n            'precision',\n            'format',\n            'format-style',\n            'no-title',\n            'datetime',\n            'lang',\n            'title',\n        ];\n    }\n    get onRelativeTimeUpdated() {\n        return __classPrivateFieldGet(this, _RelativeTimeElement_onRelativeTimeUpdated, \"f\");\n    }\n    set onRelativeTimeUpdated(listener) {\n        if (__classPrivateFieldGet(this, _RelativeTimeElement_onRelativeTimeUpdated, \"f\")) {\n            this.removeEventListener('relative-time-updated', __classPrivateFieldGet(this, _RelativeTimeElement_onRelativeTimeUpdated, \"f\"));\n        }\n        __classPrivateFieldSet(this, _RelativeTimeElement_onRelativeTimeUpdated, typeof listener === 'object' || typeof listener === 'function' ? listener : null, \"f\");\n        if (typeof listener === 'function') {\n            this.addEventListener('relative-time-updated', listener);\n        }\n    }\n    get second() {\n        const second = this.getAttribute('second');\n        if (second === 'numeric' || second === '2-digit')\n            return second;\n    }\n    set second(value) {\n        this.setAttribute('second', value || '');\n    }\n    get minute() {\n        const minute = this.getAttribute('minute');\n        if (minute === 'numeric' || minute === '2-digit')\n            return minute;\n    }\n    set minute(value) {\n        this.setAttribute('minute', value || '');\n    }\n    get hour() {\n        const hour = this.getAttribute('hour');\n        if (hour === 'numeric' || hour === '2-digit')\n            return hour;\n    }\n    set hour(value) {\n        this.setAttribute('hour', value || '');\n    }\n    get weekday() {\n        const weekday = this.getAttribute('weekday');\n        if (weekday === 'long' || weekday === 'short' || weekday === 'narrow') {\n            return weekday;\n        }\n        if (this.format === 'datetime' && weekday !== '')\n            return this.formatStyle;\n    }\n    set weekday(value) {\n        this.setAttribute('weekday', value || '');\n    }\n    get day() {\n        var _a;\n        const day = (_a = this.getAttribute('day')) !== null && _a !== void 0 ? _a : 'numeric';\n        if (day === 'numeric' || day === '2-digit')\n            return day;\n    }\n    set day(value) {\n        this.setAttribute('day', value || '');\n    }\n    get month() {\n        const format = this.format;\n        let month = this.getAttribute('month');\n        if (month === '')\n            return;\n        month !== null && month !== void 0 ? month : (month = format === 'datetime' ? this.formatStyle : 'short');\n        if (month === 'numeric' || month === '2-digit' || month === 'short' || month === 'long' || month === 'narrow') {\n            return month;\n        }\n    }\n    set month(value) {\n        this.setAttribute('month', value || '');\n    }\n    get year() {\n        var _a;\n        const year = this.getAttribute('year');\n        if (year === 'numeric' || year === '2-digit')\n            return year;\n        if (!this.hasAttribute('year') && new Date().getUTCFullYear() !== ((_a = this.date) === null || _a === void 0 ? void 0 : _a.getUTCFullYear())) {\n            return 'numeric';\n        }\n    }\n    set year(value) {\n        this.setAttribute('year', value || '');\n    }\n    get timeZoneName() {\n        const name = this.getAttribute('time-zone-name');\n        if (name === 'long' ||\n            name === 'short' ||\n            name === 'shortOffset' ||\n            name === 'longOffset' ||\n            name === 'shortGeneric' ||\n            name === 'longGeneric') {\n            return name;\n        }\n    }\n    set timeZoneName(value) {\n        this.setAttribute('time-zone-name', value || '');\n    }\n    get prefix() {\n        var _a;\n        return (_a = this.getAttribute('prefix')) !== null && _a !== void 0 ? _a : (this.format === 'datetime' ? '' : 'on');\n    }\n    set prefix(value) {\n        this.setAttribute('prefix', value);\n    }\n    get threshold() {\n        const threshold = this.getAttribute('threshold');\n        return threshold && isDuration(threshold) ? threshold : 'P30D';\n    }\n    set threshold(value) {\n        this.setAttribute('threshold', value);\n    }\n    get tense() {\n        const tense = this.getAttribute('tense');\n        if (tense === 'past')\n            return 'past';\n        if (tense === 'future')\n            return 'future';\n        return 'auto';\n    }\n    set tense(value) {\n        this.setAttribute('tense', value);\n    }\n    get precision() {\n        const precision = this.getAttribute('precision');\n        if (unitNames.includes(precision))\n            return precision;\n        if (this.format === 'micro')\n            return 'minute';\n        return 'second';\n    }\n    set precision(value) {\n        this.setAttribute('precision', value);\n    }\n    get format() {\n        const format = this.getAttribute('format');\n        if (format === 'datetime')\n            return 'datetime';\n        if (format === 'relative')\n            return 'relative';\n        if (format === 'duration')\n            return 'duration';\n        if (format === 'micro')\n            return 'micro';\n        if (format === 'elapsed')\n            return 'elapsed';\n        return 'auto';\n    }\n    set format(value) {\n        this.setAttribute('format', value);\n    }\n    get formatStyle() {\n        const formatStyle = this.getAttribute('format-style');\n        if (formatStyle === 'long')\n            return 'long';\n        if (formatStyle === 'short')\n            return 'short';\n        if (formatStyle === 'narrow')\n            return 'narrow';\n        const format = this.format;\n        if (format === 'elapsed' || format === 'micro')\n            return 'narrow';\n        if (format === 'datetime')\n            return 'short';\n        return 'long';\n    }\n    set formatStyle(value) {\n        this.setAttribute('format-style', value);\n    }\n    get noTitle() {\n        return this.hasAttribute('no-title');\n    }\n    set noTitle(value) {\n        this.toggleAttribute('no-title', value);\n    }\n    get datetime() {\n        return this.getAttribute('datetime') || '';\n    }\n    set datetime(value) {\n        this.setAttribute('datetime', value);\n    }\n    get date() {\n        const parsed = Date.parse(this.datetime);\n        return Number.isNaN(parsed) ? null : new Date(parsed);\n    }\n    set date(value) {\n        this.datetime = (value === null || value === void 0 ? void 0 : value.toISOString()) || '';\n    }\n    connectedCallback() {\n        this.update();\n    }\n    disconnectedCallback() {\n        dateObserver.unobserve(this);\n    }\n    attributeChangedCallback(attrName, oldValue, newValue) {\n        if (oldValue === newValue)\n            return;\n        if (attrName === 'title') {\n            __classPrivateFieldSet(this, _RelativeTimeElement_customTitle, newValue !== null && (this.date && __classPrivateFieldGet(this, _RelativeTimeElement_instances, \"m\", _RelativeTimeElement_getFormattedTitle).call(this, this.date)) !== newValue, \"f\");\n        }\n        if (!__classPrivateFieldGet(this, _RelativeTimeElement_updating, \"f\") && !(attrName === 'title' && __classPrivateFieldGet(this, _RelativeTimeElement_customTitle, \"f\"))) {\n            __classPrivateFieldSet(this, _RelativeTimeElement_updating, (async () => {\n                await Promise.resolve();\n                this.update();\n                __classPrivateFieldSet(this, _RelativeTimeElement_updating, false, \"f\");\n            })(), \"f\");\n        }\n    }\n    update() {\n        const oldText = __classPrivateFieldGet(this, _RelativeTimeElement_renderRoot, \"f\").textContent || this.textContent || '';\n        const oldTitle = this.getAttribute('title') || '';\n        let newTitle = oldTitle;\n        const date = this.date;\n        if (typeof Intl === 'undefined' || !Intl.DateTimeFormat || !date) {\n            __classPrivateFieldGet(this, _RelativeTimeElement_renderRoot, \"f\").textContent = oldText;\n            return;\n        }\n        const now = Date.now();\n        if (!__classPrivateFieldGet(this, _RelativeTimeElement_customTitle, \"f\")) {\n            newTitle = __classPrivateFieldGet(this, _RelativeTimeElement_instances, \"m\", _RelativeTimeElement_getFormattedTitle).call(this, date) || '';\n            if (newTitle && !this.noTitle)\n                this.setAttribute('title', newTitle);\n        }\n        const duration = elapsedTime(date, this.precision, now);\n        const format = __classPrivateFieldGet(this, _RelativeTimeElement_instances, \"m\", _RelativeTimeElement_resolveFormat).call(this, duration);\n        let newText = oldText;\n        if (format === 'duration') {\n            newText = __classPrivateFieldGet(this, _RelativeTimeElement_instances, \"m\", _RelativeTimeElement_getDurationFormat).call(this, duration);\n        }\n        else if (format === 'relative') {\n            newText = __classPrivateFieldGet(this, _RelativeTimeElement_instances, \"m\", _RelativeTimeElement_getRelativeFormat).call(this, duration);\n        }\n        else {\n            newText = __classPrivateFieldGet(this, _RelativeTimeElement_instances, \"m\", _RelativeTimeElement_getDateTimeFormat).call(this, date);\n        }\n        if (newText) {\n            __classPrivateFieldGet(this, _RelativeTimeElement_renderRoot, \"f\").textContent = newText;\n        }\n        else if (this.shadowRoot === __classPrivateFieldGet(this, _RelativeTimeElement_renderRoot, \"f\") && this.textContent) {\n            __classPrivateFieldGet(this, _RelativeTimeElement_renderRoot, \"f\").textContent = this.textContent;\n        }\n        if (newText !== oldText || newTitle !== oldTitle) {\n            this.dispatchEvent(new RelativeTimeUpdatedEvent(oldText, newText, oldTitle, newTitle));\n        }\n        if (format === 'relative' || format === 'duration') {\n            dateObserver.observe(this);\n        }\n        else {\n            dateObserver.unobserve(this);\n        }\n    }\n}\n_RelativeTimeElement_customTitle = new WeakMap(), _RelativeTimeElement_updating = new WeakMap(), _RelativeTimeElement_renderRoot = new WeakMap(), _RelativeTimeElement_onRelativeTimeUpdated = new WeakMap(), _RelativeTimeElement_instances = new WeakSet(), _RelativeTimeElement_lang_get = function _RelativeTimeElement_lang_get() {\n    var _a;\n    return (((_a = this.closest('[lang]')) === null || _a === void 0 ? void 0 : _a.getAttribute('lang')) ||\n        this.ownerDocument.documentElement.getAttribute('lang') ||\n        'default');\n}, _RelativeTimeElement_getFormattedTitle = function _RelativeTimeElement_getFormattedTitle(date) {\n    return new Intl.DateTimeFormat(__classPrivateFieldGet(this, _RelativeTimeElement_instances, \"a\", _RelativeTimeElement_lang_get), {\n        day: 'numeric',\n        month: 'short',\n        year: 'numeric',\n        hour: 'numeric',\n        minute: '2-digit',\n        timeZoneName: 'short',\n    }).format(date);\n}, _RelativeTimeElement_resolveFormat = function _RelativeTimeElement_resolveFormat(duration) {\n    const format = this.format;\n    if (format === 'datetime')\n        return 'datetime';\n    if (format === 'duration')\n        return 'duration';\n    if (format === 'elapsed')\n        return 'duration';\n    if (format === 'micro')\n        return 'duration';\n    if ((format === 'auto' || format === 'relative') && typeof Intl !== 'undefined' && Intl.RelativeTimeFormat) {\n        const tense = this.tense;\n        if (tense === 'past' || tense === 'future')\n            return 'relative';\n        if (Duration.compare(duration, this.threshold) === 1)\n            return 'relative';\n    }\n    return 'datetime';\n}, _RelativeTimeElement_getDurationFormat = function _RelativeTimeElement_getDurationFormat(duration) {\n    const locale = __classPrivateFieldGet(this, _RelativeTimeElement_instances, \"a\", _RelativeTimeElement_lang_get);\n    const format = this.format;\n    const style = this.formatStyle;\n    const tense = this.tense;\n    let empty = emptyDuration;\n    if (format === 'micro') {\n        duration = roundToSingleUnit(duration);\n        empty = microEmptyDuration;\n        if ((this.tense === 'past' && duration.sign !== -1) || (this.tense === 'future' && duration.sign !== 1)) {\n            duration = microEmptyDuration;\n        }\n    }\n    else if ((tense === 'past' && duration.sign !== -1) || (tense === 'future' && duration.sign !== 1)) {\n        duration = empty;\n    }\n    const display = `${this.precision}sDisplay`;\n    if (duration.blank) {\n        return empty.toLocaleString(locale, { style, [display]: 'always' });\n    }\n    return duration.abs().toLocaleString(locale, { style });\n}, _RelativeTimeElement_getRelativeFormat = function _RelativeTimeElement_getRelativeFormat(duration) {\n    const relativeFormat = new Intl.RelativeTimeFormat(__classPrivateFieldGet(this, _RelativeTimeElement_instances, \"a\", _RelativeTimeElement_lang_get), {\n        numeric: 'auto',\n        style: this.formatStyle,\n    });\n    const tense = this.tense;\n    if (tense === 'future' && duration.sign !== 1)\n        duration = emptyDuration;\n    if (tense === 'past' && duration.sign !== -1)\n        duration = emptyDuration;\n    const [int, unit] = getRelativeTimeUnit(duration);\n    if (unit === 'second' && int < 10) {\n        return relativeFormat.format(0, this.precision === 'millisecond' ? 'second' : this.precision);\n    }\n    return relativeFormat.format(int, unit);\n}, _RelativeTimeElement_getDateTimeFormat = function _RelativeTimeElement_getDateTimeFormat(date) {\n    const formatter = new Intl.DateTimeFormat(__classPrivateFieldGet(this, _RelativeTimeElement_instances, \"a\", _RelativeTimeElement_lang_get), {\n        second: this.second,\n        minute: this.minute,\n        hour: this.hour,\n        weekday: this.weekday,\n        day: this.day,\n        month: this.month,\n        year: this.year,\n        timeZoneName: this.timeZoneName,\n    });\n    return `${this.prefix} ${formatter.format(date)}`.trim();\n};\nexport default RelativeTimeElement;\n","import { RelativeTimeElement } from './relative-time-element.js';\nconst root = (typeof globalThis !== 'undefined' ? globalThis : window);\ntry {\n    root.RelativeTimeElement = RelativeTimeElement.define();\n}\ncatch (e) {\n    if (!(root.DOMException && e instanceof DOMException && e.name === 'NotSupportedError') &&\n        !(e instanceof ReferenceError)) {\n        throw e;\n    }\n}\nexport default RelativeTimeElement;\nexport * from './relative-time-element.js';\n","function getTabs(el) {\n    return Array.from(el.querySelectorAll('[role=\"tablist\"] [role=\"tab\"]')).filter(tab => tab instanceof HTMLElement && tab.closest(el.tagName) === el);\n}\nfunction getNavigationKeyCodes(vertical) {\n    if (vertical) {\n        return [\n            ['ArrowDown', 'ArrowRight'],\n            ['ArrowUp', 'ArrowLeft'],\n        ];\n    }\n    else {\n        return [['ArrowRight'], ['ArrowLeft']];\n    }\n}\nexport class TabContainerElement extends HTMLElement {\n    static define(tag = 'tab-container', registry = customElements) {\n        registry.define(tag, this);\n        return this;\n    }\n    connectedCallback() {\n        this.addEventListener('keydown', (event) => {\n            var _a;\n            const target = event.target;\n            if (!(target instanceof HTMLElement))\n                return;\n            if (target.closest(this.tagName) !== this)\n                return;\n            if (target.getAttribute('role') !== 'tab' && !target.closest('[role=\"tablist\"]'))\n                return;\n            const tabs = getTabs(this);\n            const currentIndex = tabs.indexOf(tabs.find(tab => tab.matches('[aria-selected=\"true\"]')));\n            const [incrementKeys, decrementKeys] = getNavigationKeyCodes(((_a = target.closest('[role=\"tablist\"]')) === null || _a === void 0 ? void 0 : _a.getAttribute('aria-orientation')) === 'vertical');\n            if (incrementKeys.some(code => event.code === code)) {\n                let index = currentIndex + 1;\n                if (index >= tabs.length)\n                    index = 0;\n                this.selectTab(index);\n            }\n            else if (decrementKeys.some(code => event.code === code)) {\n                let index = currentIndex - 1;\n                if (index < 0)\n                    index = tabs.length - 1;\n                this.selectTab(index);\n            }\n            else if (event.code === 'Home') {\n                this.selectTab(0);\n                event.preventDefault();\n            }\n            else if (event.code === 'End') {\n                this.selectTab(tabs.length - 1);\n                event.preventDefault();\n            }\n        });\n        this.addEventListener('click', (event) => {\n            const tabs = getTabs(this);\n            if (!(event.target instanceof Element))\n                return;\n            if (event.target.closest(this.tagName) !== this)\n                return;\n            const tab = event.target.closest('[role=\"tab\"]');\n            if (!(tab instanceof HTMLElement) || !tab.closest('[role=\"tablist\"]')) {\n                return;\n            }\n            const index = tabs.indexOf(tab);\n            this.selectTab(index);\n        });\n        for (const tab of getTabs(this)) {\n            if (!tab.hasAttribute('aria-selected')) {\n                tab.setAttribute('aria-selected', 'false');\n            }\n            if (!tab.hasAttribute('tabindex')) {\n                if (tab.getAttribute('aria-selected') === 'true') {\n                    tab.setAttribute('tabindex', '0');\n                }\n                else {\n                    tab.setAttribute('tabindex', '-1');\n                }\n            }\n        }\n    }\n    selectTab(index) {\n        const tabs = getTabs(this);\n        const panels = Array.from(this.querySelectorAll('[role=\"tabpanel\"]')).filter(panel => panel.closest(this.tagName) === this);\n        if (index > tabs.length - 1) {\n            throw new RangeError(`Index \"${index}\" out of bounds`);\n        }\n        const selectedTab = tabs[index];\n        const selectedPanel = panels[index];\n        const cancelled = !this.dispatchEvent(new CustomEvent('tab-container-change', {\n            bubbles: true,\n            cancelable: true,\n            detail: { relatedTarget: selectedPanel },\n        }));\n        if (cancelled)\n            return;\n        for (const tab of tabs) {\n            tab.setAttribute('aria-selected', 'false');\n            tab.setAttribute('tabindex', '-1');\n        }\n        for (const panel of panels) {\n            panel.hidden = true;\n            if (!panel.hasAttribute('tabindex') && !panel.hasAttribute('data-tab-container-no-tabstop')) {\n                panel.setAttribute('tabindex', '0');\n            }\n        }\n        selectedTab.setAttribute('aria-selected', 'true');\n        selectedTab.setAttribute('tabindex', '0');\n        selectedTab.focus();\n        selectedPanel.hidden = false;\n        this.dispatchEvent(new CustomEvent('tab-container-changed', {\n            bubbles: true,\n            detail: { relatedTarget: selectedPanel },\n        }));\n    }\n}\n","import { TabContainerElement } from './tab-container-element.js';\nconst root = (typeof globalThis !== 'undefined' ? globalThis : window);\ntry {\n    root.TabContainerElement = TabContainerElement.define();\n}\ncatch (e) {\n    if (!(root.DOMException && e instanceof DOMException && e.name === 'NotSupportedError') &&\n        !(e instanceof ReferenceError)) {\n        throw e;\n    }\n}\nexport default TabContainerElement;\nexport * from './tab-container-element.js';\n","/* eslint-disable custom-elements/expose-class-on-global */\nimport {controller, targets} from '@github/catalyst'\n\n@controller\nexport class PrimerMultiInputElement extends HTMLElement {\n  @targets fields: HTMLInputElement[]\n\n  activateField(name: string) {\n    const fieldWithName = this.findField(name)\n    if (!fieldWithName) return\n\n    for (const field of this.fields) {\n      if (field === fieldWithName) continue\n\n      field.setAttribute('disabled', 'disabled')\n      field.setAttribute('hidden', 'hidden')\n\n      field.parentElement?.setAttribute('hidden', 'hidden')\n    }\n\n    fieldWithName.removeAttribute('disabled')\n    fieldWithName.removeAttribute('hidden')\n    fieldWithName.parentElement?.removeAttribute('hidden')\n  }\n\n  private findField(name: string): HTMLElement | null {\n    for (const field of this.fields) {\n      if (field.getAttribute('data-name') === name) {\n        return field\n      }\n    }\n\n    return null\n  }\n}\n\ndeclare global {\n  interface Window {\n    PrimerMultiInputElement: typeof PrimerMultiInputElement\n  }\n}\n\nif (!window.customElements.get('primer-multi-input')) {\n  Object.assign(window, {PrimerMultiInputElement})\n  window.customElements.define('primer-multi-input', PrimerMultiInputElement)\n}\n","export function throttle(callback, wait = 0, { start = true, middle = true, once = false } = {}) {\n    let last = 0;\n    let timer;\n    let cancelled = false;\n    function fn(...args) {\n        if (cancelled)\n            return;\n        const delta = Date.now() - last;\n        last = Date.now();\n        if (start) {\n            start = false;\n            callback.apply(this, args);\n            if (once)\n                fn.cancel();\n        }\n        else if ((middle && delta < wait) || !middle) {\n            clearTimeout(timer);\n            timer = setTimeout(() => {\n                last = Date.now();\n                callback.apply(this, args);\n                if (once)\n                    fn.cancel();\n            }, !middle ? wait : wait - delta);\n        }\n    }\n    fn.cancel = () => {\n        clearTimeout(timer);\n        cancelled = true;\n    };\n    return fn;\n}\nexport function debounce(callback, wait = 0, { start = false, middle = false, once = false } = {}) {\n    return throttle(callback, wait, { start, middle, once });\n}\n","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _AutoCheckElement_onloadend;\nimport { debounce } from '@github/mini-throttle';\nvar AllowedHttpMethods;\n(function (AllowedHttpMethods) {\n    AllowedHttpMethods[\"GET\"] = \"GET\";\n    AllowedHttpMethods[\"POST\"] = \"POST\";\n})(AllowedHttpMethods || (AllowedHttpMethods = {}));\nconst states = new WeakMap();\nclass AutoCheckEvent extends Event {\n    constructor(phase) {\n        super(`auto-check-${phase}`, { bubbles: true });\n        this.phase = phase;\n    }\n    get detail() {\n        return this;\n    }\n}\nclass AutoCheckValidationEvent extends AutoCheckEvent {\n    constructor(phase, message = '') {\n        super(phase);\n        this.phase = phase;\n        this.message = message;\n        this.setValidity = (message) => {\n            this.message = message;\n        };\n    }\n}\nexport class AutoCheckCompleteEvent extends AutoCheckEvent {\n    constructor() {\n        super('complete');\n    }\n}\nexport class AutoCheckSuccessEvent extends AutoCheckEvent {\n    constructor(response) {\n        super('success');\n        this.response = response;\n    }\n}\nexport class AutoCheckStartEvent extends AutoCheckValidationEvent {\n    constructor() {\n        super('start', 'Verifying');\n    }\n}\nexport class AutoCheckErrorEvent extends AutoCheckValidationEvent {\n    constructor(response) {\n        super('error', 'Validation failed');\n        this.response = response;\n    }\n}\nexport class AutoCheckSendEvent extends AutoCheckEvent {\n    constructor(body) {\n        super('send');\n        this.body = body;\n    }\n}\nexport class AutoCheckElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        _AutoCheckElement_onloadend.set(this, null);\n    }\n    static define(tag = 'auto-check', registry = customElements) {\n        registry.define(tag, this);\n        return this;\n    }\n    get onloadend() {\n        return __classPrivateFieldGet(this, _AutoCheckElement_onloadend, \"f\");\n    }\n    set onloadend(listener) {\n        if (__classPrivateFieldGet(this, _AutoCheckElement_onloadend, \"f\")) {\n            this.removeEventListener('loadend', __classPrivateFieldGet(this, _AutoCheckElement_onloadend, \"f\"));\n        }\n        __classPrivateFieldSet(this, _AutoCheckElement_onloadend, typeof listener === 'object' || typeof listener === 'function' ? listener : null, \"f\");\n        if (typeof listener === 'function') {\n            this.addEventListener('loadend', listener);\n        }\n    }\n    connectedCallback() {\n        const input = this.input;\n        if (!input)\n            return;\n        const checker = debounce(check.bind(null, this), 300);\n        const state = { check: checker, controller: null };\n        states.set(this, state);\n        input.addEventListener('input', setLoadingState);\n        input.addEventListener('input', checker);\n        input.autocomplete = 'off';\n        input.spellcheck = false;\n    }\n    disconnectedCallback() {\n        const input = this.input;\n        if (!input)\n            return;\n        const state = states.get(this);\n        if (!state)\n            return;\n        states.delete(this);\n        input.removeEventListener('input', setLoadingState);\n        input.removeEventListener('input', state.check);\n        input.setCustomValidity('');\n    }\n    attributeChangedCallback(name) {\n        if (name === 'required') {\n            const input = this.input;\n            if (!input)\n                return;\n            input.required = this.required;\n        }\n    }\n    static get observedAttributes() {\n        return ['required'];\n    }\n    get input() {\n        return this.querySelector('input');\n    }\n    get src() {\n        const src = this.getAttribute('src');\n        if (!src)\n            return '';\n        const link = this.ownerDocument.createElement('a');\n        link.href = src;\n        return link.href;\n    }\n    set src(value) {\n        this.setAttribute('src', value);\n    }\n    get csrf() {\n        const csrfElement = this.querySelector('[data-csrf]');\n        return this.getAttribute('csrf') || (csrfElement instanceof HTMLInputElement && csrfElement.value) || '';\n    }\n    set csrf(value) {\n        this.setAttribute('csrf', value);\n    }\n    get required() {\n        return this.hasAttribute('required');\n    }\n    set required(required) {\n        if (required) {\n            this.setAttribute('required', '');\n        }\n        else {\n            this.removeAttribute('required');\n        }\n    }\n    get csrfField() {\n        return this.getAttribute('csrf-field') || 'authenticity_token';\n    }\n    set csrfField(value) {\n        this.setAttribute('csrf-field', value);\n    }\n    get httpMethod() {\n        return AllowedHttpMethods[this.getAttribute('http-method')] || 'POST';\n    }\n}\n_AutoCheckElement_onloadend = new WeakMap();\nfunction setLoadingState(event) {\n    const input = event.currentTarget;\n    if (!(input instanceof HTMLInputElement))\n        return;\n    const autoCheckElement = input.closest('auto-check');\n    if (!(autoCheckElement instanceof AutoCheckElement))\n        return;\n    const src = autoCheckElement.src;\n    const csrf = autoCheckElement.csrf;\n    const httpMethod = autoCheckElement.httpMethod;\n    const state = states.get(autoCheckElement);\n    if (!src || (httpMethod === 'POST' && !csrf) || !state) {\n        return;\n    }\n    const startEvent = new AutoCheckStartEvent();\n    input.dispatchEvent(startEvent);\n    if (autoCheckElement.required) {\n        input.setCustomValidity(startEvent.message);\n    }\n}\nfunction makeAbortController() {\n    if ('AbortController' in window) {\n        return new AbortController();\n    }\n    return {\n        signal: null,\n        abort() {\n        },\n    };\n}\nasync function fetchWithNetworkEvents(el, url, options) {\n    if (options.method === 'GET') {\n        delete options.body;\n    }\n    try {\n        const response = await fetch(url, options);\n        el.dispatchEvent(new Event('load'));\n        el.dispatchEvent(new Event('loadend'));\n        return response;\n    }\n    catch (error) {\n        if (error.name !== 'AbortError') {\n            el.dispatchEvent(new Event('error'));\n            el.dispatchEvent(new Event('loadend'));\n        }\n        throw error;\n    }\n}\nasync function check(autoCheckElement) {\n    const input = autoCheckElement.input;\n    if (!input) {\n        return;\n    }\n    const csrfField = autoCheckElement.csrfField;\n    const src = autoCheckElement.src;\n    const csrf = autoCheckElement.csrf;\n    const state = states.get(autoCheckElement);\n    const httpMethod = autoCheckElement.httpMethod;\n    if (!src || (httpMethod === 'POST' && !csrf) || !state) {\n        if (autoCheckElement.required) {\n            input.setCustomValidity('');\n        }\n        return;\n    }\n    if (!input.value.trim()) {\n        if (autoCheckElement.required) {\n            input.setCustomValidity('');\n        }\n        return;\n    }\n    const body = new FormData();\n    const url = new URL(src, window.location.origin);\n    if (httpMethod === 'POST') {\n        body.append(csrfField, csrf);\n        body.append('value', input.value);\n    }\n    else {\n        url.search = new URLSearchParams({ value: input.value }).toString();\n    }\n    input.dispatchEvent(new AutoCheckSendEvent(body));\n    if (state.controller) {\n        state.controller.abort();\n    }\n    else {\n        autoCheckElement.dispatchEvent(new Event('loadstart'));\n    }\n    state.controller = makeAbortController();\n    try {\n        const response = await fetchWithNetworkEvents(autoCheckElement, url.toString(), {\n            credentials: 'same-origin',\n            signal: state.controller.signal,\n            method: httpMethod,\n            body,\n        });\n        if (response.ok) {\n            if (autoCheckElement.required) {\n                input.setCustomValidity('');\n            }\n            input.dispatchEvent(new AutoCheckSuccessEvent(response.clone()));\n        }\n        else {\n            const event = new AutoCheckErrorEvent(response.clone());\n            input.dispatchEvent(event);\n            if (autoCheckElement.required) {\n                input.setCustomValidity(event.message);\n            }\n        }\n        state.controller = null;\n        input.dispatchEvent(new AutoCheckCompleteEvent());\n    }\n    catch (error) {\n        if (error.name !== 'AbortError') {\n            state.controller = null;\n            input.dispatchEvent(new AutoCheckCompleteEvent());\n        }\n    }\n}\nexport default AutoCheckElement;\n","import { AutoCheckElement } from './auto-check-element.js';\nconst root = (typeof globalThis !== 'undefined' ? globalThis : window);\ntry {\n    root.AutoCheckElement = AutoCheckElement.define();\n}\ncatch (e) {\n    if (!(root.DOMException && e instanceof DOMException && e.name === 'NotSupportedError') &&\n        !(e instanceof ReferenceError)) {\n        throw e;\n    }\n}\nexport default AutoCheckElement;\nexport * from './auto-check-element.js';\n","/* eslint-disable custom-elements/expose-class-on-global */\n\nimport '@github/auto-check-element'\nimport type {AutoCheckErrorEvent, AutoCheckSuccessEvent} from '@github/auto-check-element'\nimport {controller, target} from '@github/catalyst'\n\ndeclare global {\n  interface HTMLElementEventMap {\n    'auto-check-success': AutoCheckSuccessEvent\n    'auto-check-error': AutoCheckErrorEvent\n  }\n}\n\n@controller\nexport class PrimerTextFieldElement extends HTMLElement {\n  @target inputElement: HTMLInputElement\n  @target validationElement: HTMLElement\n  @target validationMessageElement: HTMLElement\n  @target validationSuccessIcon: HTMLElement\n  @target validationErrorIcon: HTMLElement\n  @target leadingVisual: HTMLElement\n  @target leadingSpinner: HTMLElement\n\n  #abortController: AbortController | null\n\n  connectedCallback(): void {\n    this.#abortController?.abort()\n    const {signal} = (this.#abortController = new AbortController())\n\n    this.addEventListener(\n      'auto-check-success',\n      async (event: AutoCheckSuccessEvent) => {\n        const message = await event.detail.response.text()\n        if (message && message.length > 0) {\n          this.setSuccess(message)\n        } else {\n          this.clearError()\n        }\n      },\n      {signal},\n    )\n\n    this.addEventListener(\n      'auto-check-error',\n      async (event: AutoCheckErrorEvent) => {\n        const errorMessage = await event.detail.response.text()\n        this.setError(errorMessage)\n      },\n      {signal},\n    )\n  }\n\n  disconnectedCallback() {\n    this.#abortController?.abort()\n  }\n\n  clearContents() {\n    this.inputElement.value = ''\n    this.inputElement.focus()\n    this.inputElement.dispatchEvent(new Event('input', { bubbles: true, cancelable: false }))\n  }\n\n  clearError(): void {\n    this.inputElement.removeAttribute('invalid')\n    this.validationElement.hidden = true\n    this.validationMessageElement.replaceChildren()\n  }\n\n  setValidationMessage(message: string): void {\n    const template = document.createElement('template')\n    // eslint-disable-next-line github/no-inner-html\n    template.innerHTML = message\n    const fragment = document.importNode(template.content, true)\n    this.validationMessageElement.replaceChildren(fragment)\n  }\n\n  toggleValidationStyling(isError: boolean): void {\n    if (isError) {\n      this.validationElement.classList.remove('FormControl-inlineValidation--success')\n    } else {\n      this.validationElement.classList.add('FormControl-inlineValidation--success')\n    }\n    this.validationSuccessIcon.hidden = isError\n    this.validationErrorIcon.hidden = !isError\n    this.inputElement.setAttribute('invalid', isError ? 'true' : 'false')\n  }\n\n  setSuccess(message: string): void {\n    this.toggleValidationStyling(false)\n    this.setValidationMessage(message)\n    this.validationElement.hidden = false\n  }\n\n  setError(message: string): void {\n    this.toggleValidationStyling(true)\n    this.setValidationMessage(message)\n    this.validationElement.hidden = false\n  }\n\n  showLeadingSpinner(): void {\n    this.leadingSpinner?.removeAttribute('hidden')\n    this.leadingVisual?.setAttribute('hidden', '')\n  }\n\n  hideLeadingSpinner(): void {\n    this.leadingSpinner?.setAttribute('hidden', '')\n    this.leadingVisual?.removeAttribute('hidden')\n  }\n}\n","/* eslint-disable custom-elements/expose-class-on-global */\n\nimport {controller, target} from '@github/catalyst'\n\n@controller\nexport class ToggleSwitchInputElement extends HTMLElement {\n  @target validationElement: HTMLElement\n  @target validationMessageElement: HTMLElement\n\n  connectedCallback() {\n    this.addEventListener('toggleSwitchError', (event: Event) => {\n      this.validationMessageElement.textContent = (event as CustomEvent).detail\n      this.validationElement.removeAttribute('hidden')\n    })\n\n    this.addEventListener('toggleSwitchSuccess', () => {\n      this.validationMessageElement.textContent = ''\n      this.validationElement.setAttribute('hidden', 'hidden')\n    })\n\n    this.addEventListener('toggleSwitchLoading', () => {\n      this.validationMessageElement.textContent = ''\n      this.validationElement.setAttribute('hidden', 'hidden')\n    })\n  }\n}\n","import {controller, target} from '@github/catalyst'\nimport '@oddbird/popover-polyfill'\nimport type {IncludeFragmentElement} from '@github/include-fragment-element'\n\ntype SelectVariant = 'none' | 'single' | 'multiple' | null\ntype SelectedItem = {\n  label: string | null | undefined\n  value: string | null | undefined\n  element: Element\n}\n\nconst validSelectors = ['[role=\"menuitem\"]', '[role=\"menuitemcheckbox\"]', '[role=\"menuitemradio\"]']\nconst menuItemSelectors = validSelectors.map(selector => `:not([hidden]) > ${selector}`)\n\n@controller\nexport class ActionMenuElement extends HTMLElement {\n  @target\n  includeFragment: IncludeFragmentElement\n\n  #abortController: AbortController\n  #originalLabel = ''\n  #inputName = ''\n  #invokerBeingClicked = false\n\n  get selectVariant(): SelectVariant {\n    return this.getAttribute('data-select-variant') as SelectVariant\n  }\n\n  set selectVariant(variant: SelectVariant) {\n    if (variant) {\n      this.setAttribute('data-select-variant', variant)\n    } else {\n      this.removeAttribute('variant')\n    }\n  }\n\n  get dynamicLabelPrefix(): string {\n    const prefix = this.getAttribute('data-dynamic-label-prefix')\n    if (!prefix) return ''\n    return `${prefix}:`\n  }\n\n  set dynamicLabelPrefix(value: string) {\n    this.setAttribute('data-dynamic-label', value)\n  }\n\n  get dynamicLabel(): boolean {\n    return this.hasAttribute('data-dynamic-label')\n  }\n\n  set dynamicLabel(value: boolean) {\n    this.toggleAttribute('data-dynamic-label', value)\n  }\n\n  get popoverElement(): HTMLElement | null {\n    return (this.invokerElement?.popoverTargetElement as HTMLElement) || null\n  }\n\n  get invokerElement(): HTMLButtonElement | null {\n    const id = this.querySelector('[role=menu]')?.id\n    if (!id) return null\n    for (const el of this.querySelectorAll(`[aria-controls]`)) {\n      if (el.getAttribute('aria-controls') === id) {\n        return el as HTMLButtonElement\n      }\n    }\n    return null\n  }\n\n  get invokerLabel(): HTMLElement | null {\n    if (!this.invokerElement) return null\n    return this.invokerElement.querySelector('.Button-label')\n  }\n\n  get selectedItems(): SelectedItem[] {\n    const selectedItems = this.querySelectorAll('[aria-checked=true]')\n    const results: SelectedItem[] = []\n\n    for (const selectedItem of selectedItems) {\n      const labelEl = selectedItem.querySelector('.ActionListItem-label')\n\n      results.push({\n        label: labelEl?.textContent,\n        value: selectedItem?.getAttribute('data-value'),\n        element: selectedItem,\n      })\n    }\n\n    return results\n  }\n\n  connectedCallback() {\n    const {signal} = (this.#abortController = new AbortController())\n    this.addEventListener('keydown', this, {signal})\n    this.addEventListener('click', this, {signal})\n    this.addEventListener('mouseover', this, {signal})\n    this.addEventListener('focusout', this, {signal})\n    this.addEventListener('mousedown', this, {signal})\n    this.popoverElement?.addEventListener('toggle', this, {signal})\n    this.#setDynamicLabel()\n    this.#updateInput()\n    this.#softDisableItems()\n\n    if (this.includeFragment) {\n      this.includeFragment.addEventListener('include-fragment-replaced', this, {\n        signal,\n      })\n    }\n  }\n\n  disconnectedCallback() {\n    this.#abortController.abort()\n  }\n\n  #softDisableItems() {\n    const {signal} = this.#abortController\n\n    for (const item of this.querySelectorAll(validSelectors.join(','))) {\n      item.addEventListener('click', this.#potentiallyDisallowActivation.bind(this), {signal})\n      item.addEventListener('keydown', this.#potentiallyDisallowActivation.bind(this), {signal})\n    }\n  }\n\n  // returns true if activation was prevented\n  #potentiallyDisallowActivation(event: Event): boolean {\n    if (!this.#isActivation(event)) return false\n\n    const item = (event.target as HTMLElement).closest(menuItemSelectors.join(','))\n    if (!item) return false\n\n    if (item.getAttribute('aria-disabled')) {\n      event.preventDefault()\n      /* eslint-disable-next-line no-restricted-syntax */\n      event.stopPropagation()\n      /* eslint-disable-next-line no-restricted-syntax */\n      event.stopImmediatePropagation()\n      return true\n    }\n\n    return false\n  }\n\n  #isAnchorActivationViaSpace(event: Event): boolean {\n    return (\n      event.target instanceof HTMLAnchorElement &&\n      event instanceof KeyboardEvent &&\n      event.type === 'keydown' &&\n      !(event.ctrlKey || event.altKey || event.metaKey || event.shiftKey) &&\n      event.key === ' '\n    )\n  }\n\n  #isActivation(event: Event): boolean {\n    // Some browsers fire MouseEvents (Firefox) and others fire PointerEvents (Chrome). Activating an item via\n    // enter or space counterintuitively fires one of these rather than a KeyboardEvent. Since PointerEvent\n    // inherits from MouseEvent, it is enough to check for MouseEvent here.\n    return (event instanceof MouseEvent && event.type === 'click') || this.#isAnchorActivationViaSpace(event)\n  }\n\n  handleEvent(event: Event) {\n    const targetIsInvoker = this.invokerElement?.contains(event.target as HTMLElement)\n    const eventIsActivation = this.#isActivation(event)\n\n    if (event.type === 'toggle' && (event as ToggleEvent).newState === 'open') {\n      this.#firstItem?.focus()\n    }\n\n    if (targetIsInvoker && event.type === 'mousedown') {\n      this.#invokerBeingClicked = true\n      return\n    }\n\n    // Prevent safari bug that dismisses menu on mousedown instead of allowing\n    // the click event to propagate to the button\n    if (event.type === 'mousedown') {\n      event.preventDefault()\n      return\n    }\n\n    if (targetIsInvoker && eventIsActivation) {\n      this.#handleInvokerActivated(event)\n      this.#invokerBeingClicked = false\n      return\n    }\n\n    if (event.type === 'focusout') {\n      if (this.#invokerBeingClicked) return\n\n      // Give the browser time to focus the next element\n      requestAnimationFrame(() => {\n        if (!this.contains(document.activeElement) || document.activeElement === this.invokerElement) {\n          this.#handleFocusOut()\n        }\n      })\n\n      return\n    }\n\n    const item = (event.target as Element).closest(menuItemSelectors.join(','))\n    const targetIsItem = item !== null\n\n    if (targetIsItem && eventIsActivation) {\n      if (this.#potentiallyDisallowActivation(event)) return\n\n      const dialogInvoker = item.closest('[data-show-dialog-id]')\n\n      if (dialogInvoker) {\n        const dialog = this.ownerDocument.getElementById(dialogInvoker.getAttribute('data-show-dialog-id') || '')\n\n        if (dialog && this.contains(dialogInvoker)) {\n          this.#handleDialogItemActivated(event, dialog)\n          return\n        }\n      }\n\n      // Pressing the space key on a link will cause the page to scroll unless preventDefault() is called.\n      // We then click it manually to navigate.\n      if (this.#isAnchorActivationViaSpace(event)) {\n        event.preventDefault()\n        ;(item as HTMLElement).click()\n      }\n\n      this.#handleItemActivated(item)\n\n      return\n    }\n\n    if (event.type === 'include-fragment-replaced') {\n      this.#handleIncludeFragmentReplaced()\n    }\n  }\n\n  #handleInvokerActivated(event: Event) {\n    event.preventDefault()\n    /* eslint-disable-next-line no-restricted-syntax */\n    event.stopPropagation()\n\n    if (this.#isOpen()) {\n      this.#hide()\n    } else {\n      this.#show()\n    }\n  }\n\n  #handleDialogItemActivated(event: Event, dialog: HTMLElement) {\n    if (this.contains(dialog)) {\n      this.querySelector<HTMLElement>('.ActionListWrap')!.style.display = 'none'\n    }\n    const dialog_controller = new AbortController()\n    const {signal} = dialog_controller\n    const handleDialogClose = () => {\n      dialog_controller.abort()\n      if (this.contains(dialog)) {\n        this.querySelector<HTMLElement>('.ActionListWrap')!.style.display = ''\n        if (this.#isOpen()) {\n          this.#hide()\n        }\n      }\n      const activeElement = this.ownerDocument.activeElement\n      const lostFocus = this.ownerDocument.activeElement === this.ownerDocument.body\n      const focusInClosedMenu = this.contains(activeElement)\n      const focusInDialog = dialog.contains(activeElement)\n      if (lostFocus || focusInClosedMenu || focusInDialog) {\n        setTimeout(() => {\n          // if the activeElement has changed after a task, then it's likely\n          // that other JS has tried to shift focus. We should respect that\n          // focus shift as long as it's not back at the document.\n          const newActiveElement = this.ownerDocument.activeElement\n          if (newActiveElement === activeElement || newActiveElement === this.ownerDocument.body) {\n            this.invokerElement?.focus()\n          }\n        }, 0)\n      }\n    }\n    // a modal <dialog> element will close all popovers\n    dialog.addEventListener('close', handleDialogClose, {signal})\n    dialog.addEventListener('cancel', handleDialogClose, {signal})\n  }\n\n  #handleItemActivated(item: Element) {\n    // Hide popover after current event loop to prevent changes in focus from\n    // altering the target of the event. Not doing this specifically affects\n    // <a> tags. It causes the event to be sent to the currently focused element\n    // instead of the anchor, which effectively prevents navigation, i.e. it\n    // appears as if hitting enter does nothing. Curiously, clicking instead\n    // works fine.\n    if (this.selectVariant !== 'multiple') {\n      setTimeout(() => {\n        if (this.#isOpen()) {\n          this.#hide()\n        }\n      })\n    }\n\n    // The rest of the code below deals with single/multiple selection behavior, and should not\n    // interfere with events fired by menu items whose behavior is specified outside the library.\n    if (this.selectVariant !== 'multiple' && this.selectVariant !== 'single') return\n\n    const ariaChecked = item.getAttribute('aria-checked')\n    const checked = ariaChecked !== 'true'\n\n    if (this.selectVariant === 'single') {\n      // Only check, never uncheck here. Single-select mode does not allow unchecking a checked item.\n      if (checked) {\n        item.setAttribute('aria-checked', 'true')\n      }\n\n      for (const checkedItem of this.querySelectorAll('[aria-checked]')) {\n        if (checkedItem !== item) {\n          checkedItem.setAttribute('aria-checked', 'false')\n        }\n      }\n\n      this.#setDynamicLabel()\n    } else {\n      // multi-select mode allows unchecking a checked item\n      item.setAttribute('aria-checked', `${checked}`)\n    }\n\n    this.#updateInput()\n\n    this.dispatchEvent(\n      new CustomEvent('itemActivated', {\n        detail: {item: item.parentElement, checked: this.isItemChecked(item.parentElement)},\n      }),\n    )\n  }\n\n  #handleIncludeFragmentReplaced() {\n    if (this.#firstItem) this.#firstItem.focus()\n    this.#softDisableItems()\n  }\n\n  // Close when focus leaves menu\n  #handleFocusOut() {\n    this.#hide()\n  }\n\n  #show() {\n    this.popoverElement?.showPopover()\n  }\n\n  #hide() {\n    this.popoverElement?.hidePopover()\n  }\n\n  #isOpen() {\n    return this.popoverElement?.matches(':popover-open')\n  }\n\n  #setDynamicLabel() {\n    if (!this.dynamicLabel) return\n    const invokerLabel = this.invokerLabel\n    if (!invokerLabel) return\n    this.#originalLabel ||= invokerLabel.textContent || ''\n    const itemLabel = this.querySelector('[aria-checked=true] .ActionListItem-label')\n    if (itemLabel && this.dynamicLabel) {\n      const prefixSpan = document.createElement('span')\n      prefixSpan.classList.add('color-fg-muted')\n      const contentSpan = document.createElement('span')\n      prefixSpan.textContent = this.dynamicLabelPrefix\n      contentSpan.textContent = itemLabel.textContent || ''\n      invokerLabel.replaceChildren(prefixSpan, contentSpan)\n    } else {\n      invokerLabel.textContent = this.#originalLabel\n    }\n  }\n\n  #updateInput() {\n    if (this.selectVariant === 'single') {\n      const input = this.querySelector(`[data-list-inputs=true] input`) as HTMLInputElement | null\n      if (!input) return\n\n      const selectedItem = this.selectedItems[0]\n\n      if (selectedItem) {\n        input.value = (selectedItem.value || selectedItem.label || '').trim()\n        input.removeAttribute('disabled')\n      } else {\n        input.setAttribute('disabled', 'disabled')\n      }\n    } else if (this.selectVariant !== 'none') {\n      // multiple select variant\n      const inputList = this.querySelector('[data-list-inputs=true]')\n      if (!inputList) return\n\n      const inputs = inputList.querySelectorAll('input')\n\n      if (inputs.length > 0) {\n        this.#inputName ||= (inputs[0] as HTMLInputElement).name\n      }\n\n      for (const selectedItem of this.selectedItems) {\n        const newInput = document.createElement('input')\n        newInput.setAttribute('data-list-input', 'true')\n        newInput.type = 'hidden'\n        newInput.autocomplete = 'off'\n        newInput.name = this.#inputName\n        newInput.value = (selectedItem.value || selectedItem.label || '').trim()\n\n        inputList.append(newInput)\n      }\n\n      for (const input of inputs) {\n        input.remove()\n      }\n    }\n  }\n\n  get #firstItem(): HTMLElement | null {\n    return this.querySelector(menuItemSelectors.join(','))\n  }\n\n  get items(): HTMLElement[] {\n    return Array.from(this.querySelectorAll(menuItemSelectors.join(',')))\n  }\n\n  getItemById(itemId: string): HTMLElement | null {\n    return this.querySelector(`li[data-item-id=\"${itemId}\"`)\n  }\n\n  isItemDisabled(item: Element | null): boolean {\n    if (item) {\n      return item.classList.contains('ActionListItem--disabled')\n    } else {\n      return false\n    }\n  }\n\n  disableItem(item: Element | null) {\n    if (item) {\n      item.classList.add('ActionListItem--disabled')\n      item.querySelector('.ActionListContent')!.setAttribute('aria-disabled', 'true')\n    }\n  }\n\n  enableItem(item: Element | null) {\n    if (item) {\n      item.classList.remove('ActionListItem--disabled')\n      item.querySelector('.ActionListContent')!.removeAttribute('aria-disabled')\n    }\n  }\n\n  isItemHidden(item: Element | null): boolean {\n    if (item) {\n      return item.hasAttribute('hidden')\n    } else {\n      return false\n    }\n  }\n\n  hideItem(item: Element | null) {\n    if (item) {\n      item.setAttribute('hidden', 'hidden')\n    }\n  }\n\n  showItem(item: Element | null) {\n    if (item) {\n      item.removeAttribute('hidden')\n    }\n  }\n\n  isItemChecked(item: Element | null) {\n    if (item) {\n      return item.querySelector('.ActionListContent')!.getAttribute('aria-checked') === 'true'\n    } else {\n      return false\n    }\n  }\n\n  checkItem(item: Element | null) {\n    if (item && (this.selectVariant === 'single' || this.selectVariant === 'multiple')) {\n      const itemContent = item.querySelector('.ActionListContent')!\n      const ariaChecked = itemContent.getAttribute('aria-checked') === 'true'\n\n      if (!ariaChecked) {\n        this.#handleItemActivated(itemContent)\n      }\n    }\n  }\n\n  uncheckItem(item: Element | null) {\n    if (item && (this.selectVariant === 'single' || this.selectVariant === 'multiple')) {\n      const itemContent = item.querySelector('.ActionListContent')!\n      const ariaChecked = itemContent.getAttribute('aria-checked') === 'true'\n\n      if (ariaChecked) {\n        this.#handleItemActivated(itemContent)\n      }\n    }\n  }\n}\n\nif (!window.customElements.get('action-menu')) {\n  window.ActionMenuElement = ActionMenuElement\n  window.customElements.define('action-menu', ActionMenuElement)\n}\n\ndeclare global {\n  interface Window {\n    ActionMenuElement: typeof ActionMenuElement\n  }\n}\n","import {getAnchoredPosition} from '@primer/behaviors'\nimport {controller, target} from '@github/catalyst'\nimport {announceFromElement, announce} from '../aria_live'\nimport {IncludeFragmentElement} from '@github/include-fragment-element'\nimport type {PrimerTextFieldElement} from 'lib/primer/forms/primer_text_field'\nimport type {AnchorAlignment, AnchorSide} from '@primer/behaviors'\nimport '@oddbird/popover-polyfill'\n\ntype SelectVariant = 'none' | 'single' | 'multiple' | null\ntype SelectedItem = {\n  label: string | null | undefined\n  value: string | null | undefined\n  inputName: string | null | undefined\n}\n\nconst validSelectors = ['[role=\"option\"]']\nconst menuItemSelectors = validSelectors.join(',')\nconst visibleMenuItemSelectors = validSelectors.map(selector => `:not([hidden]) > ${selector}`).join(',')\n\nexport type SelectPanelItem = HTMLLIElement\n\nenum FetchStrategy {\n  REMOTE,\n  EVENTUALLY_LOCAL,\n  LOCAL,\n}\n\nenum ErrorStateType {\n  BODY,\n  BANNER,\n}\n\nexport type FilterFn = (item: SelectPanelItem, query: string) => boolean\n\nconst updateWhenVisible = (() => {\n  const anchors = new Set<SelectPanelElement>()\n  let resizeObserver: ResizeObserver | null = null\n  function updateVisibleAnchors() {\n    for (const anchor of anchors) {\n      anchor.updateAnchorPosition()\n    }\n  }\n  return (el: SelectPanelElement) => {\n    // eslint-disable-next-line github/prefer-observers\n    window.addEventListener('resize', updateVisibleAnchors)\n    // eslint-disable-next-line github/prefer-observers\n    window.addEventListener('scroll', updateVisibleAnchors)\n\n    resizeObserver ||= new ResizeObserver(() => {\n      for (const anchor of anchors) {\n        anchor.updateAnchorPosition()\n      }\n    })\n    resizeObserver.observe(el.ownerDocument.documentElement)\n    el.addEventListener('dialog:close', () => {\n      el.invokerElement?.setAttribute('aria-expanded', 'false')\n      anchors.delete(el)\n    })\n    el.addEventListener('dialog:open', () => {\n      anchors.add(el)\n    })\n  }\n})()\n\n@controller\nexport class SelectPanelElement extends HTMLElement {\n  @target includeFragment: IncludeFragmentElement\n  @target dialog: HTMLDialogElement\n  @target filterInputTextField: HTMLInputElement\n  @target remoteInput: HTMLElement\n  @target list: HTMLElement\n  @target ariaLiveContainer: HTMLElement\n  @target noResults: HTMLElement\n  @target fragmentErrorElement: HTMLElement\n  @target bannerErrorElement: HTMLElement\n  @target bodySpinner: HTMLElement\n\n  filterFn?: FilterFn\n\n  #dialogIntersectionObserver: IntersectionObserver\n  #abortController: AbortController\n  #originalLabel = ''\n  #inputName = ''\n  #selectedItems: Map<string, SelectedItem> = new Map()\n  #loadingDelayTimeoutId: number | null = null\n  #loadingAnnouncementTimeoutId: number | null = null\n  #hasLoadedData = false\n\n  get open(): boolean {\n    return this.dialog.open\n  }\n\n  get selectVariant(): SelectVariant {\n    return this.getAttribute('data-select-variant') as SelectVariant\n  }\n\n  get ariaSelectionType(): string {\n    return this.selectVariant === 'multiple' ? 'aria-checked' : 'aria-selected'\n  }\n\n  set selectVariant(variant: SelectVariant) {\n    if (variant) {\n      this.setAttribute('data-select-variant', variant)\n    } else {\n      this.removeAttribute('variant')\n    }\n  }\n\n  get dynamicLabelPrefix(): string {\n    const prefix = this.getAttribute('data-dynamic-label-prefix')\n    if (!prefix) return ''\n    return `${prefix}:`\n  }\n\n  get dynamicAriaLabelPrefix(): string {\n    const prefix = this.getAttribute('data-dynamic-aria-label-prefix')\n    if (!prefix) return ''\n    return `${prefix}:`\n  }\n\n  set dynamicLabelPrefix(value: string) {\n    this.setAttribute('data-dynamic-label', value)\n  }\n\n  get dynamicLabel(): boolean {\n    return this.hasAttribute('data-dynamic-label')\n  }\n\n  set dynamicLabel(value: boolean) {\n    this.toggleAttribute('data-dynamic-label', value)\n  }\n\n  get invokerElement(): HTMLButtonElement | null {\n    const id = this.querySelector('dialog')?.id\n    if (!id) return null\n    for (const el of this.querySelectorAll(`[aria-controls]`)) {\n      if (el.getAttribute('aria-controls') === id) {\n        return el as HTMLButtonElement\n      }\n    }\n    return null\n  }\n\n  get closeButton(): HTMLButtonElement | null {\n    return this.querySelector('button[data-close-dialog-id]')\n  }\n\n  get invokerLabel(): HTMLElement | null {\n    if (!this.invokerElement) return null\n    return this.invokerElement.querySelector('.Button-label')\n  }\n\n  get selectedItems(): SelectedItem[] {\n    return Array.from(this.#selectedItems.values())\n  }\n\n  get align(): AnchorAlignment {\n    return (this.getAttribute('anchor-align') || 'start') as AnchorAlignment\n  }\n\n  get side(): AnchorSide {\n    return (this.getAttribute('anchor-side') || 'outside-bottom') as AnchorSide\n  }\n\n  updateAnchorPosition() {\n    // If the selectPanel is removed from the screen on resize close the dialog\n    if (this && this.offsetParent === null) {\n      this.dialog.close()\n    }\n\n    if (this.invokerElement) {\n      const {top, left} = getAnchoredPosition(this.dialog, this.invokerElement, {\n        align: this.align,\n        side: this.side,\n        anchorOffset: 4,\n      })\n      this.dialog.style.top = `${top}px`\n      this.dialog.style.left = `${left}px`\n      this.dialog.style.bottom = 'auto'\n      this.dialog.style.right = 'auto'\n    }\n  }\n\n  connectedCallback() {\n    const {signal} = (this.#abortController = new AbortController())\n    this.addEventListener('keydown', this, {signal})\n    this.addEventListener('click', this, {signal})\n    this.addEventListener('mousedown', this, {signal})\n    this.addEventListener('input', this, {signal})\n    this.addEventListener('remote-input-success', this, {signal})\n    this.addEventListener('remote-input-error', this, {signal})\n    this.addEventListener('loadstart', this, {signal})\n    this.#setDynamicLabel()\n    this.#updateInput()\n    this.#softDisableItems()\n    updateWhenVisible(this)\n\n    this.#waitForCondition(\n      () => Boolean(this.remoteInput),\n      () => {\n        this.remoteInput.addEventListener('loadstart', this, {signal})\n        this.remoteInput.addEventListener('loadend', this, {signal})\n      },\n    )\n\n    this.#waitForCondition(\n      () => Boolean(this.includeFragment),\n      () => {\n        this.includeFragment.addEventListener('include-fragment-replaced', this, {signal})\n        this.includeFragment.addEventListener('error', this, {signal})\n        this.includeFragment.addEventListener('loadend', this, {signal})\n      },\n    )\n\n    this.#dialogIntersectionObserver = new IntersectionObserver(entries => {\n      for (const entry of entries) {\n        const elem = entry.target\n        if (entry.isIntersecting && elem === this.dialog) {\n          // Focus on the filter input when the dialog opens to work around a Safari limitation\n          // that prevents the autofocus attribute from working as it does in other browsers\n          if (this.filterInputTextField) {\n            if (document.activeElement !== this.filterInputTextField) {\n              this.filterInputTextField.focus()\n            }\n          }\n\n          // signal that any focus hijinks are finished (thanks Safari)\n          this.dialog.setAttribute('data-ready', 'true')\n\n          this.updateAnchorPosition()\n\n          if (this.#fetchStrategy === FetchStrategy.LOCAL) {\n            this.#updateItemVisibility()\n          }\n        }\n      }\n    })\n\n    this.#waitForCondition(\n      () => Boolean(this.dialog),\n      () => {\n        this.#dialogIntersectionObserver.observe(this.dialog)\n        this.dialog.addEventListener('close', this, {signal})\n\n        if (this.getAttribute('data-open-on-load') === 'true') {\n          this.show()\n        }\n      },\n    )\n\n    if (this.#fetchStrategy === FetchStrategy.LOCAL) {\n      this.#waitForCondition(\n        () => this.items.length > 0,\n        () => {\n          this.#updateItemVisibility()\n          this.#updateInput()\n        },\n      )\n    }\n  }\n\n  // Waits for condition to return true. If it returns false initially, this function creates a\n  // MutationObserver that calls body() whenever the contents of the component change.\n  #waitForCondition(condition: () => boolean, body: () => void) {\n    if (condition()) {\n      body()\n    } else {\n      const mutationObserver = new MutationObserver(() => {\n        if (condition()) {\n          body()\n          mutationObserver.disconnect()\n        }\n      })\n\n      mutationObserver.observe(this, {childList: true, subtree: true})\n    }\n  }\n\n  disconnectedCallback() {\n    this.#abortController.abort()\n  }\n\n  #softDisableItems() {\n    const {signal} = this.#abortController\n\n    for (const item of this.querySelectorAll(validSelectors.join(','))) {\n      item.addEventListener('click', this.#potentiallyDisallowActivation.bind(this), {signal})\n      item.addEventListener('keydown', this.#potentiallyDisallowActivation.bind(this), {signal})\n    }\n  }\n\n  // If there is an active item in single-select mode, set its tabindex to 0. Otherwise, set the\n  // first visible item's tabindex to 0. All other items should have a tabindex of -1.\n  #updateTabIndices() {\n    let setZeroTabIndex = false\n\n    if (this.selectVariant === 'single') {\n      for (const item of this.items) {\n        const itemContent = this.#getItemContent(item)\n        if (!itemContent) continue\n\n        if (!this.isItemHidden(item) && this.isItemChecked(item) && !setZeroTabIndex) {\n          itemContent.setAttribute('tabindex', '0')\n          setZeroTabIndex = true\n        } else {\n          itemContent.setAttribute('tabindex', '-1')\n        }\n\n        // <li> elements should not themselves be tabbable\n        item.removeAttribute('tabindex')\n      }\n    } else {\n      for (const item of this.items) {\n        const itemContent = this.#getItemContent(item)\n        if (!itemContent) continue\n\n        itemContent.setAttribute('tabindex', '-1')\n\n        // <li> elements should not themselves be tabbable\n        item.removeAttribute('tabindex')\n      }\n    }\n\n    if (!setZeroTabIndex && this.#firstItem) {\n      this.#getItemContent(this.#firstItem)?.setAttribute('tabindex', '0')\n    }\n  }\n\n  // returns true if activation was prevented\n  #potentiallyDisallowActivation(event: Event): boolean {\n    if (!this.#isActivation(event)) return false\n\n    const item = (event.target as HTMLElement).closest(visibleMenuItemSelectors)\n    if (!item) return false\n\n    if (item.getAttribute('aria-disabled')) {\n      event.preventDefault()\n\n      // eslint-disable-next-line no-restricted-syntax\n      event.stopPropagation()\n\n      // eslint-disable-next-line no-restricted-syntax\n      event.stopImmediatePropagation()\n      return true\n    }\n\n    return false\n  }\n\n  #isAnchorActivationViaSpace(event: Event): boolean {\n    return (\n      event.target instanceof HTMLAnchorElement &&\n      event instanceof KeyboardEvent &&\n      event.type === 'keydown' &&\n      !(event.ctrlKey || event.altKey || event.metaKey || event.shiftKey) &&\n      event.key === ' '\n    )\n  }\n\n  #isActivation(event: Event): boolean {\n    // Some browsers fire MouseEvents (Firefox) and others fire PointerEvents (Chrome). Activating an item via\n    // enter or space counterintuitively fires one of these rather than a KeyboardEvent. Since PointerEvent\n    // inherits from MouseEvent, it is enough to check for MouseEvent here.\n    return (event instanceof MouseEvent && event.type === 'click') || this.#isAnchorActivationViaSpace(event)\n  }\n\n  #checkSelectedItems() {\n    for (const item of this.items) {\n      const itemContent = this.#getItemContent(item)\n      if (!itemContent) continue\n\n      const value = itemContent.getAttribute('data-value')\n\n      if (value) {\n        if (this.#selectedItems.has(value)) {\n          itemContent.setAttribute(this.ariaSelectionType, 'true')\n        }\n      }\n    }\n\n    this.#updateInput()\n  }\n\n  #addSelectedItem(item: SelectPanelItem) {\n    const itemContent = this.#getItemContent(item)\n    if (!itemContent) return\n\n    const value = itemContent.getAttribute('data-value')\n\n    if (value) {\n      this.#selectedItems.set(value, {\n        value,\n        label: itemContent.querySelector('.ActionListItem-label')?.textContent?.trim(),\n        inputName: itemContent.getAttribute('data-input-name'),\n      })\n    }\n  }\n\n  #removeSelectedItem(item: SelectPanelItem) {\n    const itemContent = this.#getItemContent(item)\n    if (!itemContent) return\n\n    const value = itemContent.getAttribute('data-value')\n    if (value) {\n      this.#selectedItems.delete(value)\n    }\n  }\n\n  #setTextFieldLoadingSpinnerTimer() {\n    if (!this.#filterInputTextFieldElement) return\n    if (this.#loadingDelayTimeoutId) clearTimeout(this.#loadingDelayTimeoutId)\n    if (this.#loadingAnnouncementTimeoutId) clearTimeout(this.#loadingAnnouncementTimeoutId)\n\n    this.#loadingAnnouncementTimeoutId = setTimeout(() => {\n      announce('Loading', {element: this.ariaLiveContainer})\n    }, 2000) as unknown as number\n\n    this.#loadingDelayTimeoutId = setTimeout(() => {\n      this.#filterInputTextFieldElement?.showLeadingSpinner()\n    }, 1000) as unknown as number\n  }\n\n  handleEvent(event: Event) {\n    if (event.target === this.filterInputTextField) {\n      this.#handleSearchFieldEvent(event)\n      return\n    }\n\n    if (event.target === this.remoteInput) {\n      this.#handleRemoteInputEvent(event)\n      return\n    }\n\n    const targetIsInvoker = this.invokerElement?.contains(event.target as HTMLElement)\n    const targetIsCloseButton = this.closeButton?.contains(event.target as HTMLElement)\n    const eventIsActivation = this.#isActivation(event)\n\n    if (targetIsInvoker && event.type === 'mousedown') {\n      return\n    }\n\n    if (event.type === 'mousedown' && event.target instanceof HTMLInputElement) {\n      return\n    }\n\n    // Prevent safari bug that dismisses menu on mousedown instead of allowing\n    // the click event to propagate to the button\n    if (event.type === 'mousedown') {\n      event.preventDefault()\n      return\n    }\n\n    if (targetIsInvoker && eventIsActivation) {\n      this.#handleInvokerActivated(event)\n      return\n    }\n\n    if (targetIsCloseButton && eventIsActivation) {\n      // hide() will automatically be called by dialog event triggered from `data-close-dialog-id`\n      return\n    }\n\n    if (event.target === this.dialog && event.type === 'close') {\n      // Remove data-ready so it can be set the next time the panel is opened\n      this.dialog.removeAttribute('data-ready')\n      this.invokerElement?.setAttribute('aria-expanded', 'false')\n\n      this.dispatchEvent(\n        new CustomEvent('panelClosed', {\n          detail: {panel: this},\n          bubbles: true,\n        }),\n      )\n\n      return\n    }\n\n    const item = (event.target as Element).closest(visibleMenuItemSelectors)?.parentElement as\n      | SelectPanelItem\n      | null\n      | undefined\n\n    const targetIsItem = item !== null && item !== undefined\n\n    if (targetIsItem && eventIsActivation) {\n      if (this.#potentiallyDisallowActivation(event)) return\n\n      const dialogInvoker = item.closest('[data-show-dialog-id]')\n\n      if (dialogInvoker) {\n        const dialog = this.ownerDocument.getElementById(dialogInvoker.getAttribute('data-show-dialog-id') || '')\n\n        if (dialog && this.contains(dialogInvoker) && this.contains(dialog)) {\n          this.#handleDialogItemActivated(event, dialog)\n          return\n        }\n      }\n\n      // Pressing the space key on a link will cause the page to scroll unless preventDefault() is called.\n      // We then click it manually to navigate.\n      if (this.#isAnchorActivationViaSpace(event)) {\n        event.preventDefault()\n        this.#getItemContent(item)?.click()\n      }\n\n      this.#handleItemActivated(item)\n\n      return\n    }\n\n    if (event.type === 'click') {\n      const rect = this.dialog.getBoundingClientRect()\n\n      const clickWasInsideDialog =\n        rect.top <= (event as MouseEvent).clientY &&\n        (event as MouseEvent).clientY <= rect.top + rect.height &&\n        rect.left <= (event as MouseEvent).clientX &&\n        (event as MouseEvent).clientX <= rect.left + rect.width\n\n      if (!clickWasInsideDialog) {\n        this.hide()\n      }\n    }\n\n    // The include fragment will have been removed from the DOM by the time\n    // the include-fragment-replaced event has been dispatched, so we have to\n    // check for the type of the event target manually, since this.includeFragment\n    // will be null.\n    if (event.target instanceof IncludeFragmentElement) {\n      this.#handleIncludeFragmentEvent(event)\n    }\n  }\n\n  #handleIncludeFragmentEvent(event: Event) {\n    switch (event.type) {\n      case 'include-fragment-replaced': {\n        this.#updateItemVisibility()\n        break\n      }\n\n      case 'loadstart': {\n        this.#toggleIncludeFragmentElements(false)\n        break\n      }\n\n      case 'loadend': {\n        this.#filterInputTextFieldElement?.hideLeadingSpinner()\n        this.dispatchEvent(new CustomEvent('loadend'))\n        break\n      }\n\n      case 'error': {\n        this.#toggleIncludeFragmentElements(true)\n\n        const errorElement = this.fragmentErrorElement\n        // check if the errorElement is visible in the dom\n        if (errorElement && !errorElement.hasAttribute('hidden')) {\n          announceFromElement(errorElement, {element: this.ariaLiveContainer, assertive: true})\n          return\n        }\n\n        break\n      }\n    }\n  }\n\n  #toggleIncludeFragmentElements(showError: boolean) {\n    for (const el of this.includeFragment.querySelectorAll('[data-show-on-error]')) {\n      if (el instanceof HTMLElement) el.hidden = !showError\n    }\n    for (const el of this.includeFragment.querySelectorAll('[data-hide-on-error]')) {\n      if (el instanceof HTMLElement) el.hidden = showError\n    }\n  }\n\n  #handleRemoteInputEvent(event: Event) {\n    switch (event.type) {\n      case 'remote-input-success': {\n        this.#clearErrorState()\n        this.#updateItemVisibility()\n        this.#checkSelectedItems()\n        break\n      }\n\n      case 'remote-input-error': {\n        this.bodySpinner?.setAttribute('hidden', '')\n\n        if (this.includeFragment || this.visibleItems.length === 0) {\n          this.#setErrorState(ErrorStateType.BODY)\n        } else {\n          this.#setErrorState(ErrorStateType.BANNER)\n        }\n\n        break\n      }\n\n      case 'loadstart': {\n        if (!this.#performFilteringLocally()) {\n          this.#clearErrorState()\n          this.bodySpinner?.removeAttribute('hidden')\n\n          if (this.bodySpinner) break\n          this.#setTextFieldLoadingSpinnerTimer()\n        }\n\n        break\n      }\n\n      case 'loadend': {\n        this.#filterInputTextFieldElement?.hideLeadingSpinner()\n        if (this.#loadingAnnouncementTimeoutId) clearTimeout(this.#loadingAnnouncementTimeoutId)\n        if (this.#loadingDelayTimeoutId) clearTimeout(this.#loadingDelayTimeoutId)\n        this.dispatchEvent(new CustomEvent('loadend'))\n        break\n      }\n    }\n  }\n\n  #defaultFilterFn(item: HTMLElement, query: string) {\n    const text = (item.getAttribute('data-filter-string') || item.textContent || '').toLowerCase()\n    return text.indexOf(query.toLowerCase()) > -1\n  }\n\n  #handleSearchFieldEvent(event: Event) {\n    if (event.type === 'keydown') {\n      const key = (event as KeyboardEvent).key\n\n      if (key === 'Enter') {\n        const item = this.visibleItems[0] as HTMLLIElement | null\n\n        if (item) {\n          const itemContent = this.#getItemContent(item)\n          if (itemContent) itemContent.click()\n        }\n      } else if (key === 'ArrowDown') {\n        const item = (this.focusableItem || this.#getItemContent(this.visibleItems[0])) as HTMLLIElement\n\n        if (item) {\n          item.focus()\n          event.preventDefault()\n        }\n      } else if (key === 'Home') {\n        const item = this.visibleItems[0] as HTMLLIElement | null\n\n        if (item) {\n          const itemContent = this.#getItemContent(item)\n          if (itemContent) itemContent.focus()\n          event.preventDefault()\n        }\n      } else if (key === 'End') {\n        if (this.visibleItems.length > 0) {\n          const item = this.visibleItems[this.visibleItems.length - 1] as HTMLLIElement\n          const itemContent = this.#getItemContent(item)\n          if (itemContent) itemContent.focus()\n          event.preventDefault()\n        }\n      }\n    }\n\n    if (event.type !== 'input') return\n\n    // remote-input-element does not trigger another loadstart event if a request is\n    // already in-flight, so we use the input event on the text field to reset the\n    // loading spinner timer instead\n    if (!this.bodySpinner && !this.#performFilteringLocally()) {\n      this.#setTextFieldLoadingSpinnerTimer()\n    }\n\n    if (this.#fetchStrategy === FetchStrategy.LOCAL || this.#fetchStrategy === FetchStrategy.EVENTUALLY_LOCAL) {\n      if (this.includeFragment) {\n        this.includeFragment.refetch()\n        return\n      }\n\n      this.#updateItemVisibility()\n    }\n  }\n\n  #updateItemVisibility() {\n    if (!this.list) return\n\n    let atLeastOneResult = false\n\n    if (this.#performFilteringLocally()) {\n      const query = this.filterInputTextField?.value ?? ''\n      const filter = this.filterFn || this.#defaultFilterFn\n\n      for (const item of this.items) {\n        if (filter(item, query)) {\n          this.#showItem(item)\n          atLeastOneResult = true\n        } else {\n          this.#hideItem(item)\n        }\n      }\n    } else {\n      atLeastOneResult = this.items.length > 0\n    }\n\n    this.#updateTabIndices()\n    this.#maybeAnnounce()\n\n    for (const item of this.items) {\n      const itemContent = this.#getItemContent(item)\n      if (!itemContent) continue\n\n      const value = itemContent.getAttribute('data-value')\n      if (this.#hasLoadedData) {\n        if (value && !this.#selectedItems.has(value)) {\n          itemContent.setAttribute(this.ariaSelectionType, 'false')\n        }\n      } else if (value && !this.#selectedItems.has(value) && this.isItemChecked(item)) {\n        this.#addSelectedItem(item)\n      }\n    }\n\n    this.#hasLoadedData = true\n\n    if (!this.noResults) return\n\n    if (this.#inErrorState()) {\n      this.noResults.setAttribute('hidden', '')\n      return\n    }\n\n    if (atLeastOneResult) {\n      this.noResults.setAttribute('hidden', '')\n      // TODO can we change this to search for `@panelId-list`\n      this.list?.querySelector('.ActionListWrap')?.removeAttribute('hidden')\n    } else {\n      this.list?.querySelector('.ActionListWrap')?.setAttribute('hidden', '')\n      this.noResults.removeAttribute('hidden')\n    }\n  }\n\n  #inErrorState(): boolean {\n    if (this.fragmentErrorElement && !this.fragmentErrorElement.hasAttribute('hidden')) {\n      return true\n    }\n\n    if (!this.bannerErrorElement) return false\n\n    return !this.bannerErrorElement.hasAttribute('hidden')\n  }\n\n  #setErrorState(type: ErrorStateType) {\n    let errorElement = this.fragmentErrorElement\n\n    if (type === ErrorStateType.BODY) {\n      this.fragmentErrorElement?.removeAttribute('hidden')\n      this.bannerErrorElement.setAttribute('hidden', '')\n    } else {\n      errorElement = this.bannerErrorElement\n      this.bannerErrorElement?.removeAttribute('hidden')\n      this.fragmentErrorElement?.setAttribute('hidden', '')\n    }\n\n    // check if the errorElement is visible in the dom\n    if (errorElement && !errorElement.hasAttribute('hidden')) {\n      announceFromElement(errorElement, {element: this.ariaLiveContainer, assertive: true})\n      return\n    }\n  }\n\n  #clearErrorState() {\n    this.fragmentErrorElement?.setAttribute('hidden', '')\n    this.bannerErrorElement.setAttribute('hidden', '')\n  }\n\n  #maybeAnnounce() {\n    if (this.open && this.list) {\n      const items = this.items\n\n      if (items.length > 0) {\n        const instructions = 'tab for results'\n        announce(`${items.length} result${items.length === 1 ? '' : 's'} ${instructions}`, {\n          element: this.ariaLiveContainer,\n        })\n      } else {\n        const noResultsEl = this.noResults\n        if (noResultsEl) {\n          announceFromElement(noResultsEl, {element: this.ariaLiveContainer})\n        }\n      }\n    }\n  }\n\n  get #fetchStrategy(): FetchStrategy {\n    if (!this.list) return FetchStrategy.REMOTE\n\n    switch (this.list.getAttribute('data-fetch-strategy')) {\n      case 'local':\n        return FetchStrategy.LOCAL\n      case 'eventually_local':\n        return FetchStrategy.EVENTUALLY_LOCAL\n      default:\n        return FetchStrategy.REMOTE\n    }\n  }\n\n  get #filterInputTextFieldElement(): PrimerTextFieldElement | null {\n    return this.filterInputTextField?.closest('primer-text-field') as PrimerTextFieldElement | null\n  }\n\n  #performFilteringLocally(): boolean {\n    return this.#fetchStrategy === FetchStrategy.LOCAL || this.#fetchStrategy === FetchStrategy.EVENTUALLY_LOCAL\n  }\n\n  #handleInvokerActivated(event: Event) {\n    event.preventDefault()\n\n    // eslint-disable-next-line no-restricted-syntax\n    event.stopPropagation()\n\n    if (this.open) {\n      this.hide()\n    } else {\n      this.show()\n    }\n  }\n\n  #handleDialogItemActivated(event: Event, dialog: HTMLElement) {\n    this.querySelector<HTMLElement>('.ActionListWrap')!.style.display = 'none'\n    const dialog_controller = new AbortController()\n    const {signal} = dialog_controller\n    const handleDialogClose = () => {\n      dialog_controller.abort()\n      this.querySelector<HTMLElement>('.ActionListWrap')!.style.display = ''\n      if (this.open) {\n        this.hide()\n      }\n      const activeElement = this.ownerDocument.activeElement\n      const lostFocus = this.ownerDocument.activeElement === this.ownerDocument.body\n      const focusInClosedMenu = this.contains(activeElement)\n      if (lostFocus || focusInClosedMenu) {\n        setTimeout(() => this.invokerElement?.focus(), 0)\n      }\n    }\n    // a modal <dialog> element will close all popovers\n    dialog.addEventListener('close', handleDialogClose, {signal})\n    dialog.addEventListener('cancel', handleDialogClose, {signal})\n  }\n\n  #handleItemActivated(item: SelectPanelItem) {\n    // Hide popover after current event loop to prevent changes in focus from\n    // altering the target of the event. Not doing this specifically affects\n    // <a> tags. It causes the event to be sent to the currently focused element\n    // instead of the anchor, which effectively prevents navigation, i.e. it\n    // appears as if hitting enter does nothing. Curiously, clicking instead\n    // works fine.\n    if (this.selectVariant !== 'multiple') {\n      setTimeout(() => {\n        if (this.open) {\n          this.hide()\n        }\n      })\n    }\n\n    // The rest of the code below deals with single/multiple selection behavior, and should not\n    // interfere with events fired by menu items whose behavior is specified outside the library.\n    if (this.selectVariant !== 'multiple' && this.selectVariant !== 'single') return\n\n    const currentlyChecked = this.isItemChecked(item)\n    const checked = !currentlyChecked\n\n    const activationSuccess = this.dispatchEvent(\n      new CustomEvent('beforeItemActivated', {\n        bubbles: true,\n        cancelable: true,\n        detail: {\n          item,\n          checked,\n          value: this.#getItemContent(item)?.getAttribute('data-value'),\n        },\n      }),\n    )\n\n    if (!activationSuccess) return\n\n    const itemContent = this.#getItemContent(item)\n\n    if (this.selectVariant === 'single') {\n      // Don't check anything if we have an href\n      if (itemContent?.getAttribute('href')) return\n\n      // disallow unchecking checked item in single-select mode\n      if (!currentlyChecked) {\n        for (const el of this.items) {\n          this.#getItemContent(el)?.setAttribute(this.ariaSelectionType, 'false')\n        }\n\n        this.#selectedItems.clear()\n\n        if (checked) {\n          this.#addSelectedItem(item)\n          itemContent?.setAttribute(this.ariaSelectionType, 'true')\n        }\n\n        this.#setDynamicLabel()\n      }\n    } else {\n      // multi-select mode allows unchecking a checked item\n      itemContent?.setAttribute(this.ariaSelectionType, `${checked}`)\n\n      if (checked) {\n        this.#addSelectedItem(item)\n      } else {\n        this.#removeSelectedItem(item)\n      }\n    }\n\n    this.#updateInput()\n    this.#updateTabIndices()\n\n    this.dispatchEvent(\n      new CustomEvent('itemActivated', {\n        bubbles: true,\n        detail: {\n          item,\n          checked,\n          value: this.#getItemContent(item)?.getAttribute('data-value'),\n        },\n      }),\n    )\n  }\n\n  show() {\n    this.updateAnchorPosition()\n    this.dialog.showModal()\n    this.invokerElement?.setAttribute('aria-expanded', 'true')\n    const event = new CustomEvent('dialog:open', {\n      detail: {dialog: this.dialog},\n    })\n    this.dispatchEvent(event)\n  }\n\n  hide() {\n    this.dialog.close()\n  }\n\n  #setDynamicLabel() {\n    if (!this.dynamicLabel) return\n    const invokerLabel = this.invokerLabel\n    if (!invokerLabel) return\n    this.#originalLabel ||= invokerLabel.textContent || ''\n    const itemLabel =\n      this.querySelector(`[${this.ariaSelectionType}=true] .ActionListItem-label`)?.textContent || this.#originalLabel\n    if (itemLabel) {\n      const prefixSpan = document.createElement('span')\n      prefixSpan.classList.add('color-fg-muted')\n      const contentSpan = document.createElement('span')\n      prefixSpan.textContent = `${this.dynamicLabelPrefix} `\n      contentSpan.textContent = itemLabel\n      invokerLabel.replaceChildren(prefixSpan, contentSpan)\n\n      if (this.dynamicAriaLabelPrefix) {\n        this.invokerElement?.setAttribute('aria-label', `${this.dynamicAriaLabelPrefix} ${itemLabel.trim()}`)\n      }\n    } else {\n      invokerLabel.textContent = this.#originalLabel\n    }\n  }\n\n  #updateInput() {\n    if (this.selectVariant === 'single') {\n      const input = this.querySelector(`[data-list-inputs=true] input`) as HTMLInputElement\n      if (!input) return\n\n      const selectedItem = this.selectedItems[0]\n\n      if (selectedItem) {\n        input.value = (selectedItem.value || selectedItem.label || '').trim()\n        if (selectedItem.inputName) input.name = selectedItem.inputName\n        input.removeAttribute('disabled')\n      } else {\n        input.setAttribute('disabled', 'disabled')\n      }\n    } else if (this.selectVariant !== 'none') {\n      // multiple select variant\n      const inputList = this.querySelector('[data-list-inputs=true]')\n      if (!inputList) return\n\n      const inputs = inputList.querySelectorAll('input')\n\n      if (inputs.length > 0) {\n        this.#inputName ||= (inputs[0] as HTMLInputElement).name\n      }\n\n      for (const selectedItem of this.selectedItems) {\n        const newInput = document.createElement('input')\n        newInput.setAttribute('data-list-input', 'true')\n        newInput.type = 'hidden'\n        newInput.autocomplete = 'off'\n        newInput.name = selectedItem.inputName || this.#inputName\n        newInput.value = (selectedItem.value || selectedItem.label || '').trim()\n\n        inputList.append(newInput)\n      }\n\n      for (const input of inputs) {\n        input.remove()\n      }\n    }\n  }\n\n  get #firstItem(): SelectPanelItem | null {\n    return (this.querySelector(visibleMenuItemSelectors)?.parentElement || null) as SelectPanelItem | null\n  }\n\n  get visibleItems(): SelectPanelItem[] {\n    return Array.from(this.querySelectorAll(visibleMenuItemSelectors)).map(\n      element => element.parentElement! as SelectPanelItem,\n    )\n  }\n\n  get items(): SelectPanelItem[] {\n    return Array.from(this.querySelectorAll(menuItemSelectors)).map(\n      element => element.parentElement! as SelectPanelItem,\n    )\n  }\n\n  get focusableItem(): HTMLElement | undefined {\n    for (const item of this.items) {\n      const itemContent = this.#getItemContent(item)\n      if (!itemContent) continue\n      if (itemContent.getAttribute('tabindex') === '0') {\n        return itemContent\n      }\n    }\n  }\n\n  getItemById(itemId: string): SelectPanelItem | null {\n    return this.querySelector(`li[data-item-id=\"${itemId}\"`)\n  }\n\n  isItemDisabled(item: SelectPanelItem | null): boolean {\n    if (item) {\n      return item.classList.contains('ActionListItem--disabled')\n    } else {\n      return false\n    }\n  }\n\n  disableItem(item: SelectPanelItem | null) {\n    if (item) {\n      item.classList.add('ActionListItem--disabled')\n      this.#getItemContent(item)!.setAttribute('aria-disabled', 'true')\n    }\n  }\n\n  enableItem(item: SelectPanelItem | null) {\n    if (item) {\n      item.classList.remove('ActionListItem--disabled')\n      this.#getItemContent(item)!.removeAttribute('aria-disabled')\n    }\n  }\n\n  isItemHidden(item: SelectPanelItem | null): boolean {\n    if (item) {\n      return item.hasAttribute('hidden')\n    } else {\n      return false\n    }\n  }\n\n  #hideItem(item: SelectPanelItem | null) {\n    if (item) {\n      item.setAttribute('hidden', 'hidden')\n    }\n  }\n\n  #showItem(item: SelectPanelItem | null) {\n    if (item) {\n      item.removeAttribute('hidden')\n    }\n  }\n\n  isItemChecked(item: SelectPanelItem | null) {\n    if (item) {\n      return this.#getItemContent(item)!.getAttribute(this.ariaSelectionType) === 'true'\n    } else {\n      return false\n    }\n  }\n\n  checkItem(item: SelectPanelItem | null) {\n    if (item && (this.selectVariant === 'single' || this.selectVariant === 'multiple')) {\n      if (!this.isItemChecked(item)) {\n        this.#handleItemActivated(item)\n      }\n    }\n  }\n\n  uncheckItem(item: SelectPanelItem | null) {\n    if (item && (this.selectVariant === 'single' || this.selectVariant === 'multiple')) {\n      if (this.isItemChecked(item)) {\n        this.#handleItemActivated(item)\n      }\n    }\n  }\n\n  #getItemContent(item: SelectPanelItem): HTMLElement | null {\n    return item.querySelector('.ActionListContent')\n  }\n}\n\nif (!window.customElements.get('select-panel')) {\n  window.SelectPanelElement = SelectPanelElement\n  window.customElements.define('select-panel', SelectPanelElement)\n}\n\ndeclare global {\n  interface Window {\n    SelectPanelElement: typeof SelectPanelElement\n  }\n}\n"],"names":["_IncludeFragmentElement_instances","_IncludeFragmentElement_busy","_IncludeFragmentElement_observer","_IncludeFragmentElement_handleData","_IncludeFragmentElement_getData","_IncludeFragmentElement_getStringOrErrorData","_IncludeFragmentElement_task","_IncludeFragmentElement_fetchDataWithEvents","__classPrivateFieldGet","receiver","state","kind","f","TypeError","has","call","value","get","__classPrivateFieldSet","set","privateData","WeakMap","cspTrustedTypesPolicyPromise","IncludeFragmentElement","HTMLElement","constructor","super","arguments","add","this","IntersectionObserver","entries","entry","isIntersecting","target","unobserve","loading","rootMargin","threshold","static","tag","registry","customElements","define","policy","Promise","resolve","observedAttributes","src","getAttribute","link","ownerDocument","createElement","href","val","setAttribute","accept","data","attributeChangedCallback","attribute","oldVal","isConnected","connectedCallback","shadowRoot","attachShadow","mode","style","document","textContent","append","observe","request","Error","Request","method","credentials","headers","Accept","load","fetch","refetch","delete","WeakSet","async","dataTreatedAsString","template","innerHTML","fragment","importNode","content","dispatchEvent","CustomEvent","cancelable","detail","replaceWith","_a","classList","cachedData","reject","toString","eventsToDispatch","setTimeout","eventType","Event","response","status","ct","split","find","x","match","includes","responseText","text","createHTML","error","root","globalThis","window","e","DOMException","name","ReferenceError","states","RemoteInputElement","fetchResults","bind","currentQuery","oninput","debounce","controller","oldValue","input","addEventListener","disconnectedCallback","removeEventListener","querySelector","HTMLInputElement","HTMLTextAreaElement","url","remoteInput","checkCurrentQuery","event","query","resultsContainer","getElementById","URL","location","params","URLSearchParams","search","abort","AbortController","signal","html","el","options","fetchWithNetworkEvents","removeAttribute","ok","bubbles","type","undefined","callback","timeout","args","clearTimeout","__decorate","decorators","key","desc","d","c","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","SuppressedError","controllers","bindShadow","bindElements","listenForBind","observers","closed","observer","MutationObserver","mutations","mutation","Element","bindActions","addedNodes","node","childList","subtree","attributeFilter","subscription","unsubscribe","disconnect","querySelectorAll","hasAttribute","handleEvent","currentTarget","binding","bindings","closest","getRootNode","ShadowRoot","host","matches","shadowController","action","trim","eventSep","lastIndexOf","methodSep","Math","max","slice","dasherize","str","String","description","replace","toLowerCase","mustDasherize","dashed","attrKey","attr","proto","meta","initialized","initializeAttrs","instance","names","getPrototypeOf","prefix","attrPrefix","descriptor","configurable","newValue","Number","toggleAttribute","symbol","Symbol","for","CatalystDelegate","classObject","delegate","prototype","attributes","observed","attrToAttributeName","map","concat","defineObservedAttributes","register","upgrade","element","parentElement","cloneNode","autoShadowRoot","hasOwnProperty","parent","Map","Set","tagName","findTarget","targets","push","findTargets","readyState","once","listenerOptions","passive","handler","ActionListTruncationObserver","resizeObserver","ResizeObserver","update","items","item","label","tooltip","isTruncated","scrollWidth","clientWidth","display","ActionListElement","_ActionListElement_truncationObserver","alternateOrders","alternateAlignments","start","end","center","getAnchoredPosition","floatingElement","anchorElement","settings","test","body","showPopover","_b","isOnTopLayer","parentNode","getComputedStyle","position","getPositionedParent","clippingRect","overflow","clippingNode","elemRect","getBoundingClientRect","elemStyle","borderTop","borderLeft","borderRight","borderBottom","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","v","parseInt","top","left","width","height","innerHeight","Infinity","getClippingRect","parentElementStyle","parentElementRect","viewportRect","relativePosition","floatingRect","anchorRect","side","align","allowOutOfBounds","anchorOffset","alignmentOffset","relativeViewportRect","pos","calculatePosition","anchorSide","anchorAlign","alternateOrder","positionAttempt","prevSide","shouldRecalculatePosition","nextSide","alternateAlignment","alignmentAttempt","prevAlign","shouldRecalculateAlignment","nextAlign","assign","pureCalculateAnchoredPosition","_c","_d","_e","positionDefaults","startsWith","getDefaultSettings","elementDimensions","anchorPosition","anchorRight","anchorBottom","currentPos","containerDimensions","iterateFocusableElements","container","strict","acceptFn","onlyTabbable","isTabbable","isFocusable","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","FILTER_ACCEPT","FILTER_SKIP","nextNode","reverse","lastChild","firstChild","previousNode","getFocusableChild","next","elem","disabledAttrInert","disabled","hiddenInert","hidden","hiddenInputInert","sentinelInert","contains","sizeInert","offsetWidth","offsetHeight","visibilityInert","visibility","displayInert","offsetParent","clientRectsInert","getClientRects","HTMLAnchorElement","tabIndex","signalSupported","noop","create","polyfill","originalAddEventListener","EventTarget","originalCallback","optionsOrCapture","AbortSignal","monkeyPatch","suspendedTrapStack","activeTrap","isMac","focusTrap","initialFocus","abortSignal","sentinelStart","onfocus","lastFocusableChild","focus","sentinelEnd","firstFocusableChild","prepend","sentinels","Array","from","filter","firstElementChild","lastElementChild","insertAdjacentElement","observeFocusTrap","lastFocusedChild","ensureTrapZoneHasFocus","focusedElement","wrappingController","followSignal","suspendedTrap","getElementsByClassName","remove","suspendedTrapIndex","findIndex","t","splice","trapToReactivate","pop","originalSignal","tryReactivate","capture","activeElement","isMacOS","navigator","platform","idSeed","FocusKeys","KEY_TO_BIT","ArrowLeft","ArrowHorizontal","ArrowDown","ArrowVertical","ArrowUp","ArrowRight","h","HL","j","JK","k","l","a","AD","s","WS","w","Tab","Home","HomeAndEnd","End","PageUp","PageUpDown","PageDown","Backspace","KEY_TO_DIRECTION","getDirection","keyboardEvent","direction","shiftKey","metaKey","ctrlKey","isActiveDescendantAttribute","hasActiveDescendantAttribute","focusZone","focusableElements","savedTabIndex","bindKeys","getNextFocusable","ArrowAll","focusOutBehavior","focusInStrategy","activeDescendantControl","activeDescendantCallback","onActiveDescendantChanged","currentFocusedElement","preventScroll","getFirstFocusableElement","updateFocusedElement","to","directlyActivated","setActiveDescendant","clearActiveDescendant","id","previouslyActiveElement","beginFocusManagement","elements","filteredElements","focusableElementFilter","elementsToInsert","firstElementToInsert","iMin","iMax","floor","followsInDocument","findInsertionIndex","first","second","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","endFocusManagement","focusableElementIndex","indexOf","savedIndex","iterateFocusableElementsOptions","removedNode","removedNodes","addedNode","attributeOldValue","elementIndexFocusedByClick","focusableElement","relatedTarget","targetElementIndex","lastKeyboardFocusDirection","targetElement","elementToFocus","console","warn","keyboardEventRecipient","keyBit","defaultPrevented","keyLength","isTextInput","HTMLSelectElement","altKey","textInput","cursorAtStart","selectionStart","selectionEnd","cursorAtEnd","shouldIgnoreFocusHandling","nextElementToFocus","lastFocusedIndex","focusedIndex","getCurrentFocusedIndex","nextFocusedIndex","preventDefault","instersectionObserver","ActionBarElement","ItemType","_ActionBarElement_focusZoneAbortController","marginLeft","marginRight","requestAnimationFrame","menuItemClick","click","firstItem","firstItemTop","previousItemType","_ActionBarElement_instances","_ActionBarElement_eachItem","index","itemTop","Item","_ActionBarElement_hideItem","moreMenu","Divider","_ActionBarElement_showItem","idx","elementIsVisibleItem","elementIsVisibleActionMenuInvoker","invokerElement","foundItem","_index","menuItem","setProperty","DetailsMenuElement","preload","details","summary","subscriptions","fromEvent","trackComposition","shouldCommit","menu","KeyboardEvent","isComposing","isSummaryFocused","close","stopPropagation","sibling","ctrlBindings","selected","isMenuItem","keydown","loadFragment","opened","closeCurrentMenu","NullSubscription","focusOnOpen","loaded","sub","eventName","onNext","loader","autofocus","isMouse","focusFirstItem","found","def","userAgent","menuitem","checked","commit","button","textEl","labelText","contentsEl","labelHTML","updateLabel","checkState","indeterminate","updateChecked","role","updateWhenVisible","anchors","intersectionObserver","updateVisibleAnchors","anchor","documentElement","AnchoredPositionElement","_AnchoredPositionElement_anchorElement","_AnchoredPositionElement_animationFrame","alias","idRef","cancelAnimationFrame","toggle","bottom","right","dialogInvokerButtonHandler","dialogId","dialog","HTMLDialogElement","showModal","fixed","popover","stopImmediatePropagation","open","DialogHelperElement","_DialogHelperElement_abortController","innerWidth","records","record","_DialogHelperElement_instances","_DialogHelperElement_handleDialogOpenAttribute","rect","clientY","clientX","ToggleEvent","oldState","newState","init","popoverToggleTaskQueue","queuePopoverToggleEventTask","topLayerElements","autoPopoverList","visibilityState","getPopoverVisibilityState","popoverInvoker","checkPopoverValidity","expectedToBeShowing","fullscreenElement","getStackPosition","topMostClickedPopover","clickedPopover","nearestInclusiveOpenPopover","invokerPopover","nodePopover","popoverTargetElement","Document","nearestInclusiveTargetPopoverForInvoker","topMostAutoPopover","document2","documentPopovers","assignedSlot","focusTarget","HTMLButtonElement","HTMLOptGroupElement","HTMLOptionElement","HTMLFieldSetElement","popoverFocusingSteps","subject","delegatesFocus","whereToLook","autoFocusDelegate","slots","slot","assignedElements","flatten","descendant","currentNode","focusDelegate","previouslyFocusedElements","shouldRestoreFocus","originalType","hideAllPopoversUntil","newPopover","popoverPositions","topMostPopoverAncestor2","candidate","candidateAncestor","candidatePosition","checkAncestor","topMostPopoverAncestor","originallyFocusedElement","setInvokerAriaExpanded","hidePopover","focusPreviousElement","fireEvents","previouslyFocusedElement","closeAllOpenPopovers","endpoint","lastToHide","foundEndpoint","size","popoverPointerDownTargets","lightDismissOpenPopovers","isTrusted","composedPath","ancestor","sameTarget","initialAriaExpandedValue","force","initialValue","ShadowRoot2","patchSelectorFn","object","mapper","original","selector","nonEscapedPopoverSelector","getStyles","useLayer","CSSLayerBlockRule","popoverStyleSheet","injectStyles","styles","CSSStyleSheet","replaceSync","sheet","head","adoptedStyleSheets","rewriteSelector","DocumentFragment","defineProperties","enumerable","togglePopover","originalAttachShadow","writable","originalAttachInternals","attachInternals","internals","popoverTargetAssociatedElements","applyPopoverInvokerElementMixin","ElementClass","localName","form","idref","popoverTargetAction","handleInvokerActivation","invoker","popoverTargetAttributeActivationBehavior","onKeydown","addEventListeners","apply","menuItemSelector","join","getMnemonicFor","printable","FocusGroupElement","_FocusGroupElement_retainSignal","_FocusGroupElement_abortController","nowrap","retain","mnemonics","_FocusGroupElement_instances","_FocusGroupElement_items_get","toggleEvent","mnemonic","offset","focusEl","at","min","ScrollableRegionElement","hasOverflow","labelledBy","scrollHeight","clientHeight","safeDocument","announceFromElement","announce","innerText","getTextContent","message","assertive","getQuerySelector","setContainerContent","startPositions","dragStartPositions","constructedElements","moveCropArea","ImageCropElement","box","image","deltaX","deltaY","MouseEvent","pageX","dragStartX","pageY","dragStartY","TouchEvent","changedTouches","offsetLeft","y","offsetTop","fireChangeEvent","updateCropArea","getShadowHost","delta","setInitialPosition","startX","startY","pageXOffset","pageYOffset","updateDimensions","rootNode","startUpdate","reposition","newSide","abs","round","stopUpdate","result","ratio","naturalWidth","slottedInput","HTMLImageElement","focusIfNeeded","overlayStack","clickHandler","ModalDialogElement","openButton","show","dialogIndex","ele","keydownHandler","mousedownHandler","topLevelDialog","upEvent","_ModalDialogElement_focusAbortController","paddingRight","aborted","showButtons","closedNotCancelled","dialogEvent","NavListElement","_NavListElement_truncationObserver","topLevelList","selectItemById","itemId","selectedItem","_NavListElement_instances","_NavListElement_findSelectedNavItemById","_NavListElement_select","selectItemByHref","_NavListElement_findSelectedNavItemByHref","selectItemByCurrentLocation","expandItem","nextElementSibling","collapseItem","itemIsExpanded","handleItemWithSubItemClick","handleItemWithSubItemKeydown","button_id","navItem","selectedNavItem","pathname","currentlySelectedItem","_NavListElement_deselect","children","parentMenu","_NavListElement_findParentMenu","NavListGroupElement","_NavListGroupElement_truncateObserver","setShowMoreItemState","showMoreDisabled","showMoreItem","currentPage","totalPages","paginationSrc","paginationURL","origin","searchParams","err","_NavListGroupElement_instances","_NavListGroupElement_parseHTML","listId","focusMarkers","SegmentedControlElement","_SegmentedControlElement_instances","_SegmentedControlElement_updateButtonLabels","select","ToggleSwitchElement","turbo","toggling","csrf","csrfElement","csrfField","isRemote","isDisabled","performToggle","setLoadingState","submitForm","setErrorState","setSuccessState","turnOn","switch","turnOff","isOn","isOff","disable","enable","errorIcon","loadingSpinner","setFinishedState","FormData","requestHeaders","contentType","Turbo","renderStreamMessage","isPopoverOpen","setSelector","TOOLTIP_SR_ONLY_CLASS","DIRECTION_CLASSES","closeOpenTooltips","except","openTooltips","focusOutListener","focusInListener","showReason","control","tooltips","ToolTipElement","_ToolTipElement_abortController","_ToolTipElement_align","_ToolTipElement_side","_ToolTipElement_allowUpdatePosition","_ToolTipElement_showReason","htmlFor","hiddenFromView","_ToolTipElement_instances","_ToolTipElement_updateControlReference","_ToolTipElement_updateDirection","shadow","appendChild","_ToolTipElement_update","showing","shouldShow","webdriver","isMouseLeaveFromButton","isEscapeKeydown","isMouseDownOnButton","isOpeningOtherPopover","shouldHide","isOpen","_ToolTipElement_updatePosition","describedBy","XBannerElement","dismiss","_XBannerElement_instances","_XBannerElement_dismissScheme_get","removeChild","hide","Combobox","list","tabInsertsSuggestions","defaultFirstOption","random","keyboardEventHandler","combobox","clearSelection","navigate","keyboardBindings","compositionEventHandler","inputHandler","destroy","stop","commitWithElement","indicateDefaultOption","visible","indexDiff","els","focusIndex","indexOfItem","newIndex","scrollTo","fireCommitEvent","scrollTop","containerBottom","inViewport","SCREEN_READER_DELAY","testScreenReaderDelay","Autocomplete","results","autoselectEnabled","feedback","clearButton","clientOptions","labelElem","interactingWithList","onInputChange","wait","Rest","onResultsMouseDown","onInputBlur","onInputFocus","onCommit","handleClear","updateFeedbackForScreenReaders","identifyOptions","inputString","fetchOnEmpty","fetchResult","then","allNewOptions","hasResults","numOptions","firstOption","firstOptionValue","catch","_AutoCompleteElement_instances","_AutoCompleteElement_forElement","_AutoCompleteElement_inputElement","_AutoCompleteElement_reattachState","_AutoCompleteElement_requestController","__rest","p","getOwnPropertySymbols","propertyIsEnumerable","AutoCompleteEvent","AutoCompleteElement","forElement","inputElement","autocomplete","res","AutocompleteElement","copyNode","clipboard","writeText","selection","getSelection","removeAllRanges","range","createRange","selectNodeContents","addRange","execCommand","copyText","createNode","copy","trigger","clicked","focused","blurred","ClipboardCopyElement","showSVG","svg","hideSVG","clipboardCopyElementTimers","currentTimeout","clipboardCopyLiveRegion","copiedAnnouncement","copyIcon","checkIcon","showCheck","showCopy","_DurationFormat_options","ListFormat","Intl","formatToParts","members","parts","partsTable","twoDigitFormatOptions","minimumIntegerDigits","DurationFormat","locale","prevStyle","hours","minutes","seconds","milliseconds","years","yearsDisplay","months","monthsDisplay","weeks","weeksDisplay","days","daysDisplay","hoursDisplay","minutesDisplay","secondsDisplay","millisecondsDisplay","resolvedOptions","duration","unit","nfUnit","unitStyle","nfOpts","unitDisplay","NumberFormat","format","durationRe","unitNames","Duration","sign","blank","durationLike","factor","parsed","RangeError","one","two","now","Date","oneApplied","applyDuration","getTime","twoApplied","toLocaleString","opts","date","setFullYear","getFullYear","setMonth","getMonth","setDate","getDate","setHours","getHours","setMinutes","getMinutes","setSeconds","getSeconds","roundToSingleUnit","relativeTo","currentYear","currentMonth","currentDate","newMonthDate","monthDateCorrection","newDate","yearDiff","monthDiff","daysDiff","monthsDiff","_RelativeTimeElement_instances","_RelativeTimeElement_customTitle","_RelativeTimeElement_updating","_RelativeTimeElement_lang_get","_RelativeTimeElement_renderRoot","_RelativeTimeElement_getFormattedTitle","_RelativeTimeElement_resolveFormat","_RelativeTimeElement_getDurationFormat","_RelativeTimeElement_getRelativeFormat","_RelativeTimeElement_getDateTimeFormat","_RelativeTimeElement_onRelativeTimeUpdated","emptyDuration","microEmptyDuration","RelativeTimeUpdatedEvent","oldText","newText","oldTitle","newTitle","composed","getUnitFactor","precision","ms","dateObserver","time","timer","nearestDistance","timeEl","RelativeTimeElement","onRelativeTimeUpdated","listener","minute","hour","weekday","formatStyle","day","month","year","getUTCFullYear","timeZoneName","tense","noTitle","datetime","parse","isNaN","toISOString","attrName","DateTimeFormat","sec","hr","elapsedTime","RelativeTimeFormat","compare","empty","relativeFormat","numeric","int","rounded","getRelativeTimeUnit","formatter","getTabs","tab","TabContainerElement","tabs","currentIndex","incrementKeys","decrementKeys","some","code","selectTab","panels","panel","selectedTab","selectedPanel","PrimerMultiInputElement","activateField","fieldWithName","findField","field","fields","middle","last","cancelled","fn","cancel","throttle","_AutoCheckElement_onloadend","AllowedHttpMethods","AutoCheckEvent","phase","AutoCheckValidationEvent","setValidity","AutoCheckCompleteEvent","AutoCheckSuccessEvent","AutoCheckStartEvent","AutoCheckErrorEvent","AutoCheckSendEvent","AutoCheckElement","onloadend","checker","check","spellcheck","setCustomValidity","required","httpMethod","autoCheckElement","startEvent","clone","PrimerTextFieldElement","_PrimerTextFieldElement_abortController","setSuccess","clearError","errorMessage","setError","clearContents","validationElement","validationMessageElement","replaceChildren","setValidationMessage","toggleValidationStyling","isError","validationSuccessIcon","validationErrorIcon","showLeadingSpinner","leadingSpinner","leadingVisual","hideLeadingSpinner","ToggleSwitchInputElement","validSelectors","menuItemSelectors","ActionMenuElement","_ActionMenuElement_abortController","_ActionMenuElement_originalLabel","_ActionMenuElement_inputName","_ActionMenuElement_invokerBeingClicked","selectVariant","variant","dynamicLabelPrefix","dynamicLabel","popoverElement","invokerLabel","selectedItems","labelEl","_ActionMenuElement_instances","_ActionMenuElement_setDynamicLabel","_ActionMenuElement_updateInput","_ActionMenuElement_softDisableItems","includeFragment","targetIsInvoker","eventIsActivation","_ActionMenuElement_isActivation","_ActionMenuElement_firstItem_get","_ActionMenuElement_handleInvokerActivated","_ActionMenuElement_handleFocusOut","_ActionMenuElement_potentiallyDisallowActivation","dialogInvoker","_ActionMenuElement_isAnchorActivationViaSpace","_ActionMenuElement_handleItemActivated","_ActionMenuElement_handleIncludeFragmentReplaced","getItemById","isItemDisabled","disableItem","enableItem","isItemHidden","hideItem","showItem","isItemChecked","checkItem","itemContent","uncheckItem","_ActionMenuElement_isOpen","_ActionMenuElement_hide","_ActionMenuElement_show","_ActionMenuElement_handleDialogItemActivated","dialog_controller","handleDialogClose","lostFocus","focusInClosedMenu","focusInDialog","newActiveElement","checkedItem","itemLabel","prefixSpan","contentSpan","inputList","inputs","newInput","visibleMenuItemSelectors","FetchStrategy","ErrorStateType","updateAnchorPosition","SelectPanelElement","_SelectPanelElement_dialogIntersectionObserver","_SelectPanelElement_abortController","_SelectPanelElement_originalLabel","_SelectPanelElement_inputName","_SelectPanelElement_selectedItems","_SelectPanelElement_loadingDelayTimeoutId","_SelectPanelElement_loadingAnnouncementTimeoutId","_SelectPanelElement_hasLoadedData","ariaSelectionType","dynamicAriaLabelPrefix","closeButton","values","_SelectPanelElement_instances","_SelectPanelElement_setDynamicLabel","_SelectPanelElement_updateInput","_SelectPanelElement_softDisableItems","_SelectPanelElement_waitForCondition","Boolean","filterInputTextField","_SelectPanelElement_fetchStrategy_get","LOCAL","_SelectPanelElement_updateItemVisibility","_SelectPanelElement_handleSearchFieldEvent","_SelectPanelElement_handleRemoteInputEvent","targetIsCloseButton","_SelectPanelElement_isActivation","_SelectPanelElement_handleInvokerActivated","_SelectPanelElement_potentiallyDisallowActivation","_SelectPanelElement_isAnchorActivationViaSpace","_SelectPanelElement_getItemContent","_SelectPanelElement_handleItemActivated","_SelectPanelElement_handleIncludeFragmentEvent","visibleItems","focusableItem","condition","mutationObserver","setZeroTabIndex","_SelectPanelElement_firstItem_get","inputName","_SelectPanelElement_filterInputTextFieldElement_get","ariaLiveContainer","_SelectPanelElement_toggleIncludeFragmentElements","errorElement","fragmentErrorElement","showError","_SelectPanelElement_clearErrorState","_SelectPanelElement_checkSelectedItems","bodySpinner","BODY","BANNER","_SelectPanelElement_performFilteringLocally","_SelectPanelElement_setTextFieldLoadingSpinnerTimer","_SelectPanelElement_defaultFilterFn","EVENTUALLY_LOCAL","atLeastOneResult","filterFn","_SelectPanelElement_showItem","_SelectPanelElement_hideItem","_SelectPanelElement_updateTabIndices","_SelectPanelElement_maybeAnnounce","_SelectPanelElement_addSelectedItem","noResults","_SelectPanelElement_inErrorState","bannerErrorElement","instructions","noResultsEl","REMOTE","_SelectPanelElement_handleDialogItemActivated","currentlyChecked","clear","_SelectPanelElement_removeSelectedItem"],"mappings":"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"}